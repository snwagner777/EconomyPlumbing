---
import BaseLayout from '../layouts/BaseLayout.astro';
import { Icon } from 'astro-icon/components';

const phoneNumber = "tel:+15124865511";
const phoneDisplay = "(512) 486-5511";

const services = [
  {
    title: "Water Heater Services",
    description: "Installation, repair, and maintenance of traditional and tankless water heaters.",
    features: ["Same-day service", "All brands serviced", "Energy-efficient options"],
    link: "/water-heater-services",
    image: "/attached_assets/optimized/Tankless_water_heater_closeup_7279af49.webp"
  },
  {
    title: "Drain Cleaning",
    description: "Professional drain cleaning and sewer line services to keep your pipes flowing.",
    features: ["Video inspection", "Hydro jetting", "Root removal"],
    link: "/drain-cleaning",
    image: "/attached_assets/optimized/Drain_cleaning_professional_service_e8a953c5.webp"
  },
  {
    title: "Leak Repair Services",
    description: "Professional leak repair services to fix all types of leaks and protect your property.",
    features: ["Fast leak repair", "Permanent solutions", "Insurance claims help"],
    link: "/leak-repair",
    image: "/attached_assets/optimized/Leak_repair_service_work_cb3145cc.webp"
  },
  {
    title: "Toilet & Faucet Services",
    description: "Complete toilet and faucet installation, repair, and replacement services.",
    features: ["Modern fixtures", "Water-saving options", "Quick repairs"],
    link: "/toilet-faucet",
    image: "/attached_assets/optimized/Toilet_and_faucet_installation_18dec30d.webp"
  },
  {
    title: "Commercial Plumbing",
    description: "Comprehensive commercial plumbing services for businesses and properties.",
    features: ["Scheduled maintenance", "Emergency response", "Code compliance"],
    link: "/commercial-plumbing",
    image: "/attached_assets/optimized/Commercial_plumbing_services_bd7b6306.webp"
  },
  {
    title: "Gas Services",
    description: "Professional gas line installation, repair, and safety inspections.",
    features: ["Licensed gas technicians", "Safety inspections", "New installations"],
    link: "/gas-line-services"
  },
  {
    title: "Backflow Services",
    description: "Backflow prevention testing, repair, and certification services.",
    features: ["Annual testing", "Certified technicians", "City compliance"],
    link: "/backflow"
  }
];

const whyChoose = [
  {
    title: "Free Estimates",
    description: "Get honest, upfront pricing with no obligation. We provide detailed estimates before any work begins."
  },
  {
    title: "Licensed & Insured",
    description: "Fully licensed plumbers with comprehensive insurance coverage for your peace of mind."
  },
  {
    title: "Upfront Pricing",
    description: "No hidden fees or surprises. We provide clear, honest pricing before any work begins."
  },
  {
    title: "Expert Technicians",
    description: "Our experienced plumbers are trained on the latest techniques and equipment for quality results."
  },
  {
    title: "Satisfaction Guarantee",
    description: "We stand behind our work with a 100% satisfaction guarantee on all services."
  },
  {
    title: "Fully Stocked Trucks",
    description: "Our service vehicles carry extensive inventory to complete most repairs on the first visit."
  }
];

const heroImage = "/attached_assets/optimized/modern_luxury_bathro_0f267931.webp";
---

<BaseLayout 
  title="Economy Plumbing Services - Austin's Trusted Plumbers | Since 2012"
  description="Central Texas' Best Little Plumbing Company Since 2012. Licensed, insured plumbers serving Austin & Marble Falls. Water heaters, drain cleaning, leak repair & more. Available 24/7."
>
  <!-- Hero Section -->
  <section class="relative min-h-[600px] lg:min-h-[700px] flex items-center">
    <div class="absolute inset-0">
      <img
        src={heroImage}
        alt="Modern luxury bathroom with professional plumbing fixtures - Economy Plumbing Services Austin TX"
        width="1920"
        height="1080"
        fetchpriority="high"
        decoding="async"
        class="w-full h-full object-cover"
      />
      <div class="absolute inset-0 bg-gradient-to-r from-black/70 to-black/50"></div>
    </div>

    <div class="relative max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-20">
      <div class="max-w-3xl">
        <h1 class="text-5xl lg:text-7xl font-bold text-white mb-6">
          Economy Plumbing Services
        </h1>
        <p class="text-xl lg:text-2xl text-white/90 mb-4">
          Austin & Marble Falls
        </p>
        <p class="text-lg text-white/80 mb-8 max-w-2xl">
          Central Texas' Best Little Plumbing Company Since 2012. Licensed, insured, and committed to our community with water heater services, drain cleaning, and all your plumbing needs.
        </p>

        <div class="flex flex-wrap gap-4 mb-12">
          <a 
            href="/schedule-appointment"
            class="inline-flex items-center justify-center bg-primary text-primary-foreground text-lg px-8 py-3 font-medium rounded-md hover-elevate active-elevate-2"
            data-testid="button-schedule-hero"
          >
            Schedule Service
          </a>
          <a 
            href={phoneNumber}
            class="inline-flex items-center justify-center gap-2 text-white border-2 border-white bg-white/10 backdrop-blur-sm hover:bg-white/20 text-lg px-8 py-3 font-medium rounded-md"
            data-testid="button-call-hero"
          >
            <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
            </svg>
            {phoneDisplay}
          </a>
        </div>

        <div class="flex flex-wrap gap-6">
          <div class="flex items-center gap-2 text-white">
            <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="font-medium">Licensed & Insured</span>
          </div>
          <div class="flex items-center gap-2 text-white">
            <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="font-medium">Free Estimates</span>
          </div>
          <div class="flex items-center gap-2 text-white">
            <svg class="w-5 h-5 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
              <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
            </svg>
            <span class="font-medium">Same-Day Service</span>
          </div>
        </div>
      </div>
    </div>
  </section>

  <!-- Services Section -->
  <section class="py-16 bg-background">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold mb-4">Our Plumbing Services</h2>
        <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
          Professional plumbing services for residential and commercial properties in Central Texas.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {services.map((service) => (
          <a 
            href={service.link}
            class="bg-card border border-card-border rounded-lg overflow-hidden hover-elevate active-elevate-2 group"
            data-testid={`service-card-${service.title.toLowerCase().replace(/\s+/g, '-')}`}
          >
            {service.image && (
              <div class="aspect-video overflow-hidden">
                <img 
                  src={service.image}
                  alt={service.title}
                  width="400"
                  height="300"
                  loading="lazy"
                  class="w-full h-full object-cover group-hover:scale-105 transition-transform duration-300"
                />
              </div>
            )}
            <div class="p-6">
              <h3 class="text-xl font-semibold mb-2">{service.title}</h3>
              <p class="text-muted-foreground mb-4">{service.description}</p>
              <ul class="space-y-2 mb-4">
                {service.features.map((feature) => (
                  <li class="flex items-center gap-2 text-sm">
                    <svg class="w-4 h-4 text-primary flex-shrink-0" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                      <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
                    </svg>
                    <span>{feature}</span>
                  </li>
                ))}
              </ul>
              <span class="text-primary font-medium inline-flex items-center gap-1">
                Learn More
                <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                  <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M9 5l7 7-7 7"></path>
                </svg>
              </span>
            </div>
          </a>
        ))}
      </div>
    </div>
  </section>

  <!-- Why Choose Us Section -->
  <section class="py-16 bg-accent/5">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
      <div class="text-center mb-12">
        <h2 class="text-4xl font-bold mb-4">Why Choose Economy Plumbing?</h2>
        <p class="text-lg text-muted-foreground max-w-2xl mx-auto">
          We're committed to providing exceptional service and quality workmanship for every job.
        </p>
      </div>

      <div class="grid md:grid-cols-2 lg:grid-cols-3 gap-8">
        {whyChoose.map((item) => (
          <div class="bg-card border border-card-border rounded-lg p-6">
            <div class="bg-primary/10 w-12 h-12 rounded-full flex items-center justify-center mb-4">
              <svg class="w-6 h-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M5 13l4 4L19 7"></path>
              </svg>
            </div>
            <h3 class="text-xl font-semibold mb-2">{item.title}</h3>
            <p class="text-muted-foreground">{item.description}</p>
          </div>
        ))}
      </div>
    </div>
  </section>

  <!-- Call to Action Section -->
  <section class="py-16 bg-primary text-primary-foreground">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 text-center">
      <h2 class="text-3xl md:text-4xl font-bold mb-4">
        Need Plumbing Service Today?
      </h2>
      <p class="text-xl mb-8 opacity-90">
        Call us now for fast, reliable service from Central Texas' trusted plumbers.
      </p>
      <div class="flex flex-col sm:flex-row gap-4 justify-center">
        <a 
          href={phoneNumber}
          class="inline-flex items-center justify-center gap-2 bg-white text-primary px-8 py-4 text-lg font-semibold rounded-md hover-elevate active-elevate-2"
          data-testid="button-call-cta"
        >
          <svg class="w-5 h-5" fill="none" stroke="currentColor" viewBox="0 0 24 24">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M3 5a2 2 0 012-2h3.28a1 1 0 01.948.684l1.498 4.493a1 1 0 01-.502 1.21l-2.257 1.13a11.042 11.042 0 005.516 5.516l1.13-2.257a1 1 0 011.21-.502l4.493 1.498a1 1 0 01.684.949V19a2 2 0 01-2 2h-1C9.716 21 3 14.284 3 6V5z"></path>
          </svg>
          {phoneDisplay}
        </a>
        <a 
          href="/schedule-appointment"
          class="inline-flex items-center justify-center bg-white/10 backdrop-blur-sm border-2 border-white text-white px-8 py-4 text-lg font-semibold rounded-md hover:bg-white/20"
          data-testid="button-schedule-cta"
        >
          Schedule Online
        </a>
      </div>
    </div>
  </section>

  <!-- JSON-LD Schema for SEO -->
  <script type="application/ld+json" set:html={JSON.stringify({
    "@context": "https://schema.org",
    "@type": "LocalBusiness",
    "name": "Economy Plumbing Services",
    "image": "https://plumbersthatcare.com/attached_assets/optimized/Economy_Plumbing_Services_logo_1759801055079.webp",
    "telephone": "+15124865511",
    "address": {
      "@type": "PostalAddress",
      "streetAddress": "701 Tillery St #12",
      "addressLocality": "Austin",
      "addressRegion": "TX",
      "postalCode": "78702",
      "addressCountry": "US"
    },
    "geo": {
      "@type": "GeoCoordinates",
      "latitude": 30.2672,
      "longitude": -97.7431
    },
    "url": "https://plumbersthatcare.com",
    "priceRange": "$$",
    "openingHoursSpecification": {
      "@type": "OpeningHoursSpecification",
      "dayOfWeek": ["Monday", "Tuesday", "Wednesday", "Thursday", "Friday", "Saturday", "Sunday"],
      "opens": "00:00",
      "closes": "23:59"
    },
    "aggregateRating": {
      "@type": "AggregateRating",
      "ratingValue": "5.0",
      "reviewCount": "495"
    },
    "areaServed": [
      {"@type": "City", "name": "Austin"},
      {"@type": "City", "name": "Cedar Park"},
      {"@type": "City", "name": "Round Rock"},
      {"@type": "City", "name": "Georgetown"},
      {"@type": "City", "name": "Marble Falls"}
    ]
  })} />
</BaseLayout>

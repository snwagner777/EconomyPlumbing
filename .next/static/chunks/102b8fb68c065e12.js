(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(975157);let r=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...s}));r.displayName="Card";let i=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let n=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let l=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-sm text-muted-foreground",e),...s}));l.displayName="CardDescription";let o=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("p-6 pt-0",e),...s}));o.displayName="CardContent",s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>r,"CardContent",()=>o,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},811076,e=>{"use strict";function t(e,t){return"function"==typeof e?e(...t):!!e}function s(){}e.s(["noop",()=>s,"shouldThrowError",()=>t])},266027,e=>{"use strict";let t;var s=e.i(175555),a=e.i(540143),r=e.i(286491),i=e.i(915823),n=e.i(793803),l=e.i(619273),o=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,n.pendingThenable)(),this.options.experimental_prefetchInRender||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#a=void 0;#r=void 0;#i=void 0;#n;#l;#s;#t;#o;#d;#c;#u;#h;#m;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#a.addObserver(this),d(this.#a,this.options)?this.#f():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c(this.#a,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c(this.#a,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#g(),this.#a.removeObserver(this)}setOptions(e,t){let s=this.options,a=this.#a;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#a))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#a.setOptions(this.options),s._defaulted&&!(0,l.shallowEqualObjects)(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#a,observer:this});let r=this.hasListeners();r&&u(this.#a,a,this.options,s)&&this.#f(),this.updateResult(t),r&&(this.#a!==a||(0,l.resolveEnabled)(this.options.enabled,this.#a)!==(0,l.resolveEnabled)(s.enabled,this.#a)||(0,l.resolveStaleTime)(this.options.staleTime,this.#a)!==(0,l.resolveStaleTime)(s.staleTime,this.#a))&&this.#y();let i=this.#j();r&&(this.#a!==a||(0,l.resolveEnabled)(this.options.enabled,this.#a)!==(0,l.resolveEnabled)(s.enabled,this.#a)||i!==this.#m)&&this.#w(i)}getOptimisticResult(e){var t,s;let a=this.#e.getQueryCache().build(this.#e,e),r=this.createResult(a,e);return t=this,s=r,(0,l.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#i=r,this.#l=this.options,this.#n=this.#a.state),r}getCurrentResult(){return this.#i}trackResult(e,t){let s={};return Object.keys(e).forEach(a=>{Object.defineProperty(s,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),t?.(a),e[a])})}),s}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#a}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#b();let t=this.#a.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#y(){this.#v();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#a);if(l.isServer||this.#i.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#a):this.options.refetchInterval)??!1}#w(e){this.#g(),this.#m=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#a)&&(0,l.isValidTimeout)(this.#m)&&0!==this.#m&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#f()},this.#m))}#x(){this.#y(),this.#w(this.#j())}#v(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#g(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let s,a=this.#a,i=this.options,o=this.#i,c=this.#n,m=this.#l,p=e!==a?e.state:this.#r,{state:f}=e,x={...f},v=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&d(e,t),l=s&&u(e,a,t,i);(n||l)&&(x={...x,...(0,r.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:y}=x;if(t.select&&void 0!==x.data)if(o&&x.data===c?.data&&t.select===this.#o)s=this.#d;else try{this.#o=t.select,s=t.select(x.data),s=(0,l.replaceData)(o?.data,s,t),this.#d=s,this.#t=null}catch(e){this.#t=e}else s=x.data;if(void 0!==t.placeholderData&&void 0===s&&"pending"===y){let e;if(o?.isPlaceholderData&&t.placeholderData===m?.placeholderData)e=o.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(y="success",s=(0,l.replaceData)(o?.data,e,t),v=!0)}this.#t&&(g=this.#t,s=this.#d,b=Date.now(),y="error");let j="fetching"===x.fetchStatus,w="pending"===y,N="error"===y,R=w&&j,C=void 0!==s,T={status:y,fetchStatus:x.fetchStatus,isPending:w,isSuccess:"success"===y,isError:N,isInitialLoading:R,isLoading:R,data:s,dataUpdatedAt:x.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:j,isRefetching:j&&!w,isLoadingError:N&&!C,isPaused:"paused"===x.fetchStatus,isPlaceholderData:v,isRefetchError:N&&C,isStale:h(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===T.status?e.reject(T.error):void 0!==T.data&&e.resolve(T.data)},s=()=>{t(this.#s=T.promise=(0,n.pendingThenable)())},r=this.#s;switch(r.status){case"pending":e.queryHash===a.queryHash&&t(r);break;case"fulfilled":("error"===T.status||T.data!==r.value)&&s();break;case"rejected":("error"!==T.status||T.error!==r.reason)&&s()}}return T}updateResult(e){let t=this.#i,s=this.createResult(this.#a,this.options);if(this.#n=this.#a.state,this.#l=this.options,void 0!==this.#n.data&&(this.#c=this.#a),(0,l.shallowEqualObjects)(s,t))return;this.#i=s;let a={},r=()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.#p.size)return!0;let a=new Set(s??this.#p);return this.options.throwOnError&&a.add("error"),Object.keys(this.#i).some(e=>this.#i[e]!==t[e]&&a.has(e))};e?.listeners!==!1&&r()&&(a.listeners=!0),this.#N({...a,...e})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#a)return;let t=this.#a;this.#a=e,this.#r=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#N(e){a.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#a,type:"observerResultsUpdated"})})}};function d(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&c(e,t,t.refetchOnMount)}function c(e,t,s){if(!1!==(0,l.resolveEnabled)(t.enabled,e)){let a="function"==typeof s?s(e):s;return"always"===a||!1!==a&&h(e,t)}return!1}function u(e,t,s,a){return(e!==t||!1===(0,l.resolveEnabled)(a.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&h(e,s)}function h(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(247167);var m=e.i(271645),p=e.i(912598);e.i(843476);var f=m.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),x=e.i(811076),v=m.createContext(!1);v.Provider;var g=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function b(e,t){return function(e,t,s){let r=(0,p.useQueryClient)(s),i=m.useContext(v),n=m.useContext(f),o=r.defaultQueryOptions(e);r.getDefaultOptions().queries?._experimental_beforeQuery?.(o),o._optimisticResults=i?"isRestoring":"optimistic",o.suspense&&(void 0===o.staleTime&&(o.staleTime=1e3),"number"==typeof o.gcTime&&(o.gcTime=Math.max(o.gcTime,1e3))),(o.suspense||o.throwOnError||o.experimental_prefetchInRender)&&!n.isReset()&&(o.retryOnMount=!1),m.useEffect(()=>{n.clearReset()},[n]);let d=!r.getQueryCache().get(o.queryHash),[c]=m.useState(()=>new t(r,o)),u=c.getOptimisticResult(o);if(m.useSyncExternalStore(m.useCallback(e=>{let t=i?x.noop:c.subscribe(a.notifyManager.batchCalls(e));return c.updateResult(),t},[c,i]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),m.useEffect(()=>{c.setOptions(o,{listeners:!1})},[o,c]),o?.suspense&&u.isPending)throw g(o,c,n);if((({result:e,errorResetBoundary:t,throwOnError:s,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(0,x.shouldThrowError)(s,[e.error,a]))({result:u,errorResetBoundary:n,throwOnError:o.throwOnError,query:r.getQueryCache().get(o.queryHash)}))throw u.error;if(r.getDefaultOptions().queries?._experimental_afterQuery?.(o,u),o.experimental_prefetchInRender&&!l.isServer&&u.isLoading&&u.isFetching&&!i){let e=d?g(o,c,n):r.getQueryCache().get(o.queryHash)?.promise;e?.catch(x.noop).finally(()=>{c.updateResult()})}return o.notifyOnChangeProps?u:c.trackResult(u)}(e,o,t)}e.s(["useQuery",()=>b],266027)},586318,e=>{"use strict";var t=e.i(271645);e.i(843476);var s=t.createContext(void 0);function a(e){let a=t.useContext(s);return e||a||"ltr"}e.s(["useDirection",()=>a])},63209,e=>{"use strict";let t=(0,e.i(475254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},686311,e=>{"use strict";let t=(0,e.i(475254).default)("MessageSquare",[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]]);e.s(["MessageSquare",()=>t],686311)},929592,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(225913),r=e.i(975157);let i=(0,a.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=s.forwardRef(({className:e,variant:s,...a},n)=>(0,t.jsx)("div",{ref:n,role:"alert",className:(0,r.cn)(i({variant:s}),e),...a}));n.displayName="Alert",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("h5",{ref:a,className:(0,r.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm [&_p]:leading-relaxed",e),...s}));l.displayName="AlertDescription",e.s(["Alert",()=>n,"AlertDescription",()=>l])},400417,e=>{"use strict";let t=(0,e.i(475254).default)("ThumbsUp",[["path",{d:"M7 10v12",key:"1qc93n"}],["path",{d:"M15 5.88 14 10h5.83a2 2 0 0 1 1.92 2.56l-2.33 8A2 2 0 0 1 17.5 22H4a2 2 0 0 1-2-2v-8a2 2 0 0 1 2-2h2.76a2 2 0 0 0 1.79-1.11L12 2a3.13 3.13 0 0 1 3 3.88Z",key:"emmmcr"}]]);e.s(["ThumbsUp",()=>t],400417)},842727,e=>{"use strict";var t=e.i(271645),s=e.i(981140),a=e.i(75830),r=e.i(820783),i=e.i(30030),n=e.i(610772),l=e.i(248425),o=e.i(30207),d=e.i(369340),c=e.i(586318),u=e.i(843476),h="rovingFocusGroup.onEntryFocus",m={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[f,x,v]=(0,a.createCollection)(p),[g,b]=(0,i.createContextScope)(p,[v]),[y,j]=g(p),w=t.forwardRef((e,t)=>(0,u.jsx)(f.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(f.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(N,{...e,ref:t})})}));w.displayName=p;var N=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:i,orientation:n,loop:p=!1,dir:f,currentTabStopId:v,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:w=!1,...N}=e,R=t.useRef(null),C=(0,r.useComposedRefs)(a,R),T=(0,c.useDirection)(f),[I=null,k]=(0,d.useControllableState)({prop:v,defaultProp:g,onChange:b}),[E,Q]=t.useState(!1),D=(0,o.useCallbackRef)(j),A=x(i),F=t.useRef(!1),[O,M]=t.useState(0);return t.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(h,D),()=>e.removeEventListener(h,D)},[D]),(0,u.jsx)(y,{scope:i,orientation:n,dir:T,loop:p,currentTabStopId:I,onItemFocus:t.useCallback(e=>k(e),[k]),onItemShiftTab:t.useCallback(()=>Q(!0),[]),onFocusableItemAdd:t.useCallback(()=>M(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>M(e=>e-1),[]),children:(0,u.jsx)(l.Primitive.div,{tabIndex:E||0===O?-1:0,"data-orientation":n,...N,ref:C,style:{outline:"none",...e.style},onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,()=>{F.current=!0}),onFocus:(0,s.composeEventHandlers)(e.onFocus,e=>{let t=!F.current;if(e.target===e.currentTarget&&t&&!E){let t=new CustomEvent(h,m);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);S([e.find(e=>e.active),e.find(e=>e.id===I),...e].filter(Boolean).map(e=>e.ref.current),w)}}F.current=!1}),onBlur:(0,s.composeEventHandlers)(e.onBlur,()=>Q(!1))})})}),R="RovingFocusGroupItem",C=t.forwardRef((e,a)=>{let{__scopeRovingFocusGroup:r,focusable:i=!0,active:o=!1,tabStopId:d,...c}=e,h=(0,n.useId)(),m=d||h,p=j(R,r),v=p.currentTabStopId===m,g=x(r),{onFocusableItemAdd:b,onFocusableItemRemove:y}=p;return t.useEffect(()=>{if(i)return b(),()=>y()},[i,b,y]),(0,u.jsx)(f.ItemSlot,{scope:r,id:m,focusable:i,active:o,children:(0,u.jsx)(l.Primitive.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...c,ref:a,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{i?p.onItemFocus(m):e.preventDefault()}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(m)),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,s){var a;let r=(a=e.key,"rtl"!==s?a:"ArrowLeft"===a?"ArrowRight":"ArrowRight"===a?"ArrowLeft":a);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(r))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(r)))return T[r]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let r=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)r.reverse();else if("prev"===t||"next"===t){var s,a;"prev"===t&&r.reverse();let i=r.indexOf(e.currentTarget);r=p.loop?(s=r,a=i+1,s.map((e,t)=>s[(a+t)%s.length])):r.slice(i+1)}setTimeout(()=>S(r))}})})})});C.displayName=R;var T={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function S(e,t=!1){let s=document.activeElement;for(let a of e)if(a===s||(a.focus({preventScroll:t}),document.activeElement!==s))return}e.s(["Item",()=>C,"Root",()=>w,"createRovingFocusGroupScope",()=>b])},677572,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(981140),r=e.i(30030),i=e.i(842727),n=e.i(296626),l=e.i(248425),o=e.i(586318),d=e.i(369340),c=e.i(610772),u="Tabs",[h,m]=(0,r.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[f,x]=h(u),v=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:r,onValueChange:i,defaultValue:n,orientation:u="horizontal",dir:h,activationMode:m="automatic",...p}=e,x=(0,o.useDirection)(h),[v,g]=(0,d.useControllableState)({prop:r,onChange:i,defaultProp:n});return(0,t.jsx)(f,{scope:a,baseId:(0,c.useId)(),value:v,onValueChange:g,orientation:u,dir:x,activationMode:m,children:(0,t.jsx)(l.Primitive.div,{dir:x,"data-orientation":u,...p,ref:s})})});v.displayName=u;var g="TabsList",b=s.forwardRef((e,s)=>{let{__scopeTabs:a,loop:r=!0,...n}=e,o=x(g,a),d=p(a);return(0,t.jsx)(i.Root,{asChild:!0,...d,orientation:o.orientation,dir:o.dir,loop:r,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:s})})});b.displayName=g;var y="TabsTrigger",j=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:n,disabled:o=!1,...d}=e,c=x(y,r),u=p(r),h=R(c.baseId,n),m=C(c.baseId,n),f=n===c.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!o,active:f,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":m,"data-state":f?"active":"inactive","data-disabled":o?"":void 0,disabled:o,id:h,...d,ref:s,onMouseDown:(0,a.composeEventHandlers)(e.onMouseDown,e=>{o||0!==e.button||!1!==e.ctrlKey?e.preventDefault():c.onValueChange(n)}),onKeyDown:(0,a.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&c.onValueChange(n)}),onFocus:(0,a.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==c.activationMode;f||o||!e||c.onValueChange(n)})})})});j.displayName=y;var w="TabsContent",N=s.forwardRef((e,a)=>{let{__scopeTabs:r,value:i,forceMount:o,children:d,...c}=e,u=x(w,r),h=R(u.baseId,i),m=C(u.baseId,i),p=i===u.value,f=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:o||p,children:({present:s})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":h,hidden:!s,id:m,tabIndex:0,...c,ref:a,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&d})})});function R(e,t){return`${e}-trigger-${t}`}function C(e,t){return`${e}-content-${t}`}N.displayName=w;var T=e.i(975157);let S=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(b,{ref:a,className:(0,T.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));S.displayName=b.displayName;let I=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(j,{ref:a,className:(0,T.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));I.displayName=j.displayName;let k=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)(N,{ref:a,className:(0,T.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));k.displayName=N.displayName,e.s(["Tabs",()=>v,"TabsContent",()=>k,"TabsList",()=>S,"TabsTrigger",()=>I],677572)},663827,e=>{"use strict";var t=e.i(843476),s=e.i(271645),a=e.i(266027),r=e.i(515288),i=e.i(519455),n=e.i(677572),l=e.i(302747),o=e.i(929592),d=e.i(63209),c=e.i(870273),u=e.i(263488),h=e.i(686311),m=e.i(400417),p=e.i(908406),f=e.i(618566),x=e.i(522016);function v(){let{toast:e}=(0,p.useToast)(),v=(0,f.useSearchParams)(),[g,b]=(0,s.useState)(v.get("tab")||"overview"),{data:y,isLoading:j,isError:w}=(0,a.useQuery)({queryKey:["/api/admin/review-requests"]}),{data:N,isLoading:R,isError:C}=(0,a.useQuery)({queryKey:["/api/admin/email-templates"]}),{data:T,isLoading:S,isError:I}=(0,a.useQuery)({queryKey:["/api/google-reviews"]}),{data:k,isLoading:E,isError:Q}=(0,a.useQuery)({queryKey:["/api/google-reviews/stats"]}),D=t=>{e({title:"Coming Soon",description:`${t} feature will be implemented in the next phase.`})};return(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2","data-testid":"heading-reputation",children:"Reputation Management"}),(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-description",children:"AI-powered review request automation and template management"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(r.Card,{className:"p-6","data-testid":"stat-active-campaigns",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(u.Mail,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Active Campaigns"})]}),j?(0,t.jsx)(l.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-active-campaigns"}):w?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-active-campaigns-count",children:y?.campaigns?.filter(e=>"active"===e.status)?.length??0})]}),(0,t.jsxs)(r.Card,{className:"p-6","data-testid":"stat-pending-reviews",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(h.MessageSquare,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Pending Reviews"})]}),E?(0,t.jsx)(l.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-pending-reviews"}):Q?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-pending-reviews-count",children:k?.displayableReviews||0})]}),(0,t.jsxs)(r.Card,{className:"p-6","data-testid":"stat-gmb-reviews",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(c.Star,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"GMB Reviews"})]}),S?(0,t.jsx)(l.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-gmb-reviews"}):I?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-gmb-reviews-count",children:T?.reviews?.length??0})]}),(0,t.jsxs)(r.Card,{className:"p-6","data-testid":"stat-avg-rating",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)(m.ThumbsUp,{className:"h-4 w-4 text-muted-foreground"}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:"Avg Rating"})]}),E?(0,t.jsx)(l.Skeleton,{className:"h-9 w-16","data-testid":"skeleton-avg-rating"}):Q?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-avg-rating-value",children:k?.averageRating?.toFixed(1)||"—"})]})]}),(0,t.jsxs)(n.Tabs,{value:g,onValueChange:e=>{b(e),window.history.pushState({},"",`/admin/reputation?tab=${e}`)},children:[(0,t.jsxs)(n.TabsList,{className:"mb-8",children:[(0,t.jsx)(n.TabsTrigger,{value:"overview","data-testid":"tab-overview",children:"Overview"}),(0,t.jsx)(n.TabsTrigger,{value:"campaigns","data-testid":"tab-campaigns",children:"Review Campaigns"}),(0,t.jsx)(n.TabsTrigger,{value:"templates","data-testid":"tab-templates",children:"Email Templates"}),(0,t.jsx)(n.TabsTrigger,{value:"gmb-reviews","data-testid":"tab-gmb-reviews",children:"GMB Reviews"})]}),(0,t.jsx)(n.TabsContent,{value:"overview",children:(0,t.jsxs)(r.Card,{className:"p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Reputation Overview"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)(x.default,{href:"/admin/reputation?tab=campaigns",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-review-campaigns",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Review Request Campaigns"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"4-email drip campaign over 21 days to request customer reviews"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:j?(0,t.jsx)(l.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-campaigns"}):w?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[y?.campaigns?.filter(e=>"active"===e.status)?.length??0," active campaigns"]})})]}),(0,t.jsxs)(x.default,{href:"/admin/reputation?tab=templates",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-email-templates",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"AI Email Templates"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"GPT-4o generated templates with preview/edit/approve workflow"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:R?(0,t.jsx)(l.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-templates"}):C?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[N?.templates?.length??0," templates ready"]})})]}),(0,t.jsxs)(x.default,{href:"/admin/reputation?tab=gmb-reviews",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-gmb-reviews",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Google My Business Reviews"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automated fetching and AI-powered reply generation"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:S?(0,t.jsx)(l.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-gmb"}):I?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[T?.reviews?.length??0," total reviews"]})})]}),(0,t.jsxs)("div",{className:"p-6 bg-accent/50 rounded-lg","data-testid":"card-settings",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Campaign Settings"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Master email switch and campaign-specific phone numbers"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>D("Settings"),"data-testid":"button-manage-settings",children:"Manage Settings"})})]})]})})]})}),(0,t.jsx)(n.TabsContent,{value:"campaigns",children:(0,t.jsxs)(r.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Review Request Campaigns"}),(0,t.jsx)(i.Button,{"data-testid":"button-create-campaign",children:"Create Campaign"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"4-email drip campaign sent over 21 days after job completion. Automatically pauses when customer submits a review."}),j?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(l.Skeleton,{className:"h-6 w-48 mb-2","data-testid":`skeleton-campaign-${e}`}),(0,t.jsx)(l.Skeleton,{className:"h-4 w-64","data-testid":`skeleton-campaign-desc-${e}`})]},e))}):w?(0,t.jsxs)(o.Alert,{variant:"destructive",children:[(0,t.jsx)(d.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(o.AlertDescription,{children:"Failed to load review request campaigns. Please try again."})]}):y?.campaigns&&y.campaigns.length>0?(0,t.jsx)("div",{className:"space-y-3",children:y.campaigns.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`campaign-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.customerName}),(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${"active"===e.status?"bg-green-500/10 text-green-600":"completed"===e.status?"bg-blue-500/10 text-blue-600":"paused"===e.status?"bg-yellow-500/10 text-yellow-600":"bg-gray-500/10 text-gray-600"}`,"data-testid":`status-${e.id}`,children:e.status}),(0,t.jsxs)("span",{className:"text-xs bg-gray-500/10 text-gray-600 px-2 py-0.5 rounded","data-testid":`email-${e.id}`,children:["Email ",e.currentEmail||1,"/4"]})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.email," • Started ",new Date(e.startedAt).toLocaleDateString()]}),e.lastEmailSent&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Last email: ",new Date(e.lastEmailSent).toLocaleDateString()]})]}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>D("Campaign details"),"data-testid":`button-view-${e.id}`,children:"View"})]})},e.id))}):(0,t.jsx)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-campaigns",children:"No active review request campaigns"})})]})}),(0,t.jsx)(n.TabsContent,{value:"templates",children:(0,t.jsxs)(r.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"AI Email Templates"}),(0,t.jsx)(i.Button,{"data-testid":"button-generate-template",children:"Generate Template"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"GPT-4o powered email templates with preview, edit, and approve workflow. Templates support merge tags for personalization."}),R?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(l.Skeleton,{className:"h-6 w-64 mb-2","data-testid":`skeleton-template-${e}`}),(0,t.jsx)(l.Skeleton,{className:"h-4 w-48","data-testid":`skeleton-template-desc-${e}`})]},e))}):C?(0,t.jsxs)(o.Alert,{variant:"destructive",children:[(0,t.jsx)(d.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(o.AlertDescription,{children:"Failed to load email templates. Please try again."})]}):N?.templates&&N.templates.length>0?(0,t.jsx)("div",{className:"space-y-3",children:N.templates.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`template-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.subject}),(0,t.jsxs)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded","data-testid":`type-${e.id}`,children:["Email ",e.emailNumber]}),e.generatedByAI&&(0,t.jsx)("span",{className:"text-xs bg-blue-500/10 text-blue-600 px-2 py-0.5 rounded",children:"AI Generated"})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.campaignType," • Created ",new Date(e.createdAt).toLocaleDateString()]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>D("Template preview"),"data-testid":`button-preview-${e.id}`,children:"Preview"}),(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>D("Template edit"),"data-testid":`button-edit-${e.id}`,children:"Edit"})]})]})},e.id))}):(0,t.jsxs)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-templates",children:"No email templates yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Generate your first AI-powered email template"})]})]})}),(0,t.jsx)(n.TabsContent,{value:"gmb-reviews",children:(0,t.jsxs)(r.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Google My Business Reviews"}),(0,t.jsx)(i.Button,{"data-testid":"button-fetch-gmb-reviews",children:"Fetch Latest Reviews"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Automatically fetched GMB reviews with AI-powered reply generation and moderation workflow."}),S?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(l.Skeleton,{className:"h-6 w-40 mb-2","data-testid":`skeleton-gmb-review-${e}`}),(0,t.jsx)(l.Skeleton,{className:"h-4 w-full mb-2","data-testid":`skeleton-gmb-review-text-${e}`}),(0,t.jsx)(l.Skeleton,{className:"h-4 w-32","data-testid":`skeleton-gmb-review-date-${e}`})]},e))}):I?(0,t.jsxs)(o.Alert,{variant:"destructive",children:[(0,t.jsx)(d.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(o.AlertDescription,{children:"Failed to load GMB reviews. Please try again."})]}):T?.reviews&&T.reviews.length>0?(0,t.jsx)("div",{className:"space-y-3",children:T.reviews.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`gmb-review-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-start justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-2",children:[(0,t.jsx)("span",{className:"font-medium",children:e.authorName}),(0,t.jsx)("div",{className:"flex items-center",children:[void 0,void 0,void 0,void 0,void 0].map((s,a)=>(0,t.jsx)(c.Star,{className:`h-4 w-4 ${a<e.rating?"fill-yellow-400 text-yellow-400":"text-gray-300"}`},a))}),e.replyText&&(0,t.jsx)("span",{className:"text-xs bg-green-500/10 text-green-600 px-2 py-0.5 rounded",children:"Replied"})]}),(0,t.jsx)("p",{className:"text-sm mb-2",children:e.text}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:new Date(e.createTime).toLocaleDateString()})]}),!e.replyText&&(0,t.jsx)(i.Button,{variant:"outline",size:"sm",onClick:()=>D("Generate AI reply"),"data-testid":`button-reply-${e.id}`,children:"Generate Reply"})]})},e.id))}):(0,t.jsxs)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-gmb-reviews",children:"No GMB reviews found"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:'Click "Fetch Latest Reviews" to import from Google My Business'})]})]})})]})]})})}e.s(["default",()=>v])}]);
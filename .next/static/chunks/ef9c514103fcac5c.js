(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(975157);let s=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...r}));s.displayName="Card";let n=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex flex-col space-y-1.5 p-6",e),...r}));n.displayName="CardHeader";let i=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-2xl font-semibold leading-none tracking-tight",e),...r}));i.displayName="CardTitle";let o=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("text-sm text-muted-foreground",e),...r}));o.displayName="CardDescription";let l=r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("p-6 pt-0",e),...r}));l.displayName="CardContent",r.forwardRef(({className:e,...r},s)=>(0,t.jsx)("div",{ref:s,className:(0,a.cn)("flex items-center p-6 pt-0",e),...r})).displayName="CardFooter",e.s(["Card",()=>s,"CardContent",()=>l,"CardDescription",()=>o,"CardHeader",()=>n,"CardTitle",()=>i])},811076,e=>{"use strict";function t(e,t){return"function"==typeof e?e(...t):!!e}function r(){}e.s(["noop",()=>r,"shouldThrowError",()=>t])},266027,e=>{"use strict";let t;var r=e.i(175555),a=e.i(540143),s=e.i(286491),n=e.i(915823),i=e.i(793803),o=e.i(619273),l=class extends n.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#r=(0,i.pendingThenable)(),this.options.experimental_prefetchInRender||this.#r.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#a=void 0;#s=void 0;#n=void 0;#i;#o;#r;#t;#l;#u;#c;#d;#h;#f;#m=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#a.addObserver(this),u(this.#a,this.options)?this.#p():this.updateResult(),this.#g())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return c(this.#a,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return c(this.#a,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#y(),this.#v(),this.#a.removeObserver(this)}setOptions(e,t){let r=this.options,a=this.#a;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,o.resolveEnabled)(this.options.enabled,this.#a))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#a.setOptions(this.options),r._defaulted&&!(0,o.shallowEqualObjects)(this.options,r)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#a,observer:this});let s=this.hasListeners();s&&d(this.#a,a,this.options,r)&&this.#p(),this.updateResult(t),s&&(this.#a!==a||(0,o.resolveEnabled)(this.options.enabled,this.#a)!==(0,o.resolveEnabled)(r.enabled,this.#a)||(0,o.resolveStaleTime)(this.options.staleTime,this.#a)!==(0,o.resolveStaleTime)(r.staleTime,this.#a))&&this.#x();let n=this.#w();s&&(this.#a!==a||(0,o.resolveEnabled)(this.options.enabled,this.#a)!==(0,o.resolveEnabled)(r.enabled,this.#a)||n!==this.#f)&&this.#j(n)}getOptimisticResult(e){var t,r;let a=this.#e.getQueryCache().build(this.#e,e),s=this.createResult(a,e);return t=this,r=s,(0,o.shallowEqualObjects)(t.getCurrentResult(),r)||(this.#n=s,this.#o=this.options,this.#i=this.#a.state),s}getCurrentResult(){return this.#n}trackResult(e,t){let r={};return Object.keys(e).forEach(a=>{Object.defineProperty(r,a,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(a),t?.(a),e[a])})}),r}trackProp(e){this.#m.add(e)}getCurrentQuery(){return this.#a}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),r=this.#e.getQueryCache().build(this.#e,t);return r.fetch().then(()=>this.createResult(r,t))}fetch(e){return this.#p({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#n))}#p(e){this.#b();let t=this.#a.fetch(this.options,e);return e?.throwOnError||(t=t.catch(o.noop)),t}#x(){this.#y();let e=(0,o.resolveStaleTime)(this.options.staleTime,this.#a);if(o.isServer||this.#n.isStale||!(0,o.isValidTimeout)(e))return;let t=(0,o.timeUntilStale)(this.#n.dataUpdatedAt,e);this.#d=setTimeout(()=>{this.#n.isStale||this.updateResult()},t+1)}#w(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#a):this.options.refetchInterval)??!1}#j(e){this.#v(),this.#f=e,!o.isServer&&!1!==(0,o.resolveEnabled)(this.options.enabled,this.#a)&&(0,o.isValidTimeout)(this.#f)&&0!==this.#f&&(this.#h=setInterval(()=>{(this.options.refetchIntervalInBackground||r.focusManager.isFocused())&&this.#p()},this.#f))}#g(){this.#x(),this.#j(this.#w())}#y(){this.#d&&(clearTimeout(this.#d),this.#d=void 0)}#v(){this.#h&&(clearInterval(this.#h),this.#h=void 0)}createResult(e,t){let r,a=this.#a,n=this.options,l=this.#n,c=this.#i,f=this.#o,m=e!==a?e.state:this.#s,{state:p}=e,g={...p},y=!1;if(t._optimisticResults){let r=this.hasListeners(),i=!r&&u(e,t),o=r&&d(e,a,t,n);(i||o)&&(g={...g,...(0,s.fetchState)(p.data,e.options)}),"isRestoring"===t._optimisticResults&&(g.fetchStatus="idle")}let{error:v,errorUpdatedAt:b,status:x}=g;if(t.select&&void 0!==g.data)if(l&&g.data===c?.data&&t.select===this.#l)r=this.#u;else try{this.#l=t.select,r=t.select(g.data),r=(0,o.replaceData)(l?.data,r,t),this.#u=r,this.#t=null}catch(e){this.#t=e}else r=g.data;if(void 0!==t.placeholderData&&void 0===r&&"pending"===x){let e;if(l?.isPlaceholderData&&t.placeholderData===f?.placeholderData)e=l.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#c?.state.data,this.#c):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(x="success",r=(0,o.replaceData)(l?.data,e,t),y=!0)}this.#t&&(v=this.#t,r=this.#u,b=Date.now(),x="error");let w="fetching"===g.fetchStatus,j="pending"===x,R="error"===x,D=j&&w,C=void 0!==r,S={status:x,fetchStatus:g.fetchStatus,isPending:j,isSuccess:"success"===x,isError:R,isInitialLoading:D,isLoading:D,data:r,dataUpdatedAt:g.dataUpdatedAt,error:v,errorUpdatedAt:b,failureCount:g.fetchFailureCount,failureReason:g.fetchFailureReason,errorUpdateCount:g.errorUpdateCount,isFetched:g.dataUpdateCount>0||g.errorUpdateCount>0,isFetchedAfterMount:g.dataUpdateCount>m.dataUpdateCount||g.errorUpdateCount>m.errorUpdateCount,isFetching:w,isRefetching:w&&!j,isLoadingError:R&&!C,isPaused:"paused"===g.fetchStatus,isPlaceholderData:y,isRefetchError:R&&C,isStale:h(e,t),refetch:this.refetch,promise:this.#r};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===S.status?e.reject(S.error):void 0!==S.data&&e.resolve(S.data)},r=()=>{t(this.#r=S.promise=(0,i.pendingThenable)())},s=this.#r;switch(s.status){case"pending":e.queryHash===a.queryHash&&t(s);break;case"fulfilled":("error"===S.status||S.data!==s.value)&&r();break;case"rejected":("error"!==S.status||S.error!==s.reason)&&r()}}return S}updateResult(e){let t=this.#n,r=this.createResult(this.#a,this.options);if(this.#i=this.#a.state,this.#o=this.options,void 0!==this.#i.data&&(this.#c=this.#a),(0,o.shallowEqualObjects)(r,t))return;this.#n=r;let a={},s=()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,r="function"==typeof e?e():e;if("all"===r||!r&&!this.#m.size)return!0;let a=new Set(r??this.#m);return this.options.throwOnError&&a.add("error"),Object.keys(this.#n).some(e=>this.#n[e]!==t[e]&&a.has(e))};e?.listeners!==!1&&s()&&(a.listeners=!0),this.#R({...a,...e})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#a)return;let t=this.#a;this.#a=e,this.#s=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#g()}#R(e){a.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#n)}),this.#e.getQueryCache().notify({query:this.#a,type:"observerResultsUpdated"})})}};function u(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&c(e,t,t.refetchOnMount)}function c(e,t,r){if(!1!==(0,o.resolveEnabled)(t.enabled,e)){let a="function"==typeof r?r(e):r;return"always"===a||!1!==a&&h(e,t)}return!1}function d(e,t,r,a){return(e!==t||!1===(0,o.resolveEnabled)(a.enabled,e))&&(!r.suspense||"error"!==e.state.status)&&h(e,r)}function h(e,t){return!1!==(0,o.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,o.resolveStaleTime)(t.staleTime,e))}e.i(247167);var f=e.i(271645),m=e.i(912598);e.i(843476);var p=f.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),g=e.i(811076),y=f.createContext(!1);y.Provider;var v=(e,t,r)=>t.fetchOptimistic(e).catch(()=>{r.clearReset()});function b(e,t){return function(e,t,r){let s=(0,m.useQueryClient)(r),n=f.useContext(y),i=f.useContext(p),l=s.defaultQueryOptions(e);s.getDefaultOptions().queries?._experimental_beforeQuery?.(l),l._optimisticResults=n?"isRestoring":"optimistic",l.suspense&&(void 0===l.staleTime&&(l.staleTime=1e3),"number"==typeof l.gcTime&&(l.gcTime=Math.max(l.gcTime,1e3))),(l.suspense||l.throwOnError||l.experimental_prefetchInRender)&&!i.isReset()&&(l.retryOnMount=!1),f.useEffect(()=>{i.clearReset()},[i]);let u=!s.getQueryCache().get(l.queryHash),[c]=f.useState(()=>new t(s,l)),d=c.getOptimisticResult(l);if(f.useSyncExternalStore(f.useCallback(e=>{let t=n?g.noop:c.subscribe(a.notifyManager.batchCalls(e));return c.updateResult(),t},[c,n]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),f.useEffect(()=>{c.setOptions(l,{listeners:!1})},[l,c]),l?.suspense&&d.isPending)throw v(l,c,i);if((({result:e,errorResetBoundary:t,throwOnError:r,query:a})=>e.isError&&!t.isReset()&&!e.isFetching&&a&&(0,g.shouldThrowError)(r,[e.error,a]))({result:d,errorResetBoundary:i,throwOnError:l.throwOnError,query:s.getQueryCache().get(l.queryHash)}))throw d.error;if(s.getDefaultOptions().queries?._experimental_afterQuery?.(l,d),l.experimental_prefetchInRender&&!o.isServer&&d.isLoading&&d.isFetching&&!n){let e=u?v(l,c,i):s.getQueryCache().get(l.queryHash)?.promise;e?.catch(g.noop).finally(()=>{c.updateResult()})}return l.notifyOnChangeProps?d:c.trackResult(d)}(e,l,t)}e.s(["useQuery",()=>b],266027)},664659,e=>{"use strict";let t=(0,e.i(475254).default)("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);e.s(["ChevronDown",()=>t],664659)},487486,e=>{"use strict";var t=e.i(843476),r=e.i(225913),a=e.i(975157);let s=(0,r.cva)("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function n({className:e,variant:r,...n}){return(0,t.jsx)("div",{className:(0,a.cn)(s({variant:r}),e),...n})}e.s(["Badge",()=>n])},87316,e=>{"use strict";let t=(0,e.i(475254).default)("Calendar",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]]);e.s(["Calendar",()=>t],87316)},96226,e=>{"use strict";function t(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}e.s(["constructFrom",()=>t])},435684,e=>{"use strict";function t(e){let t=Object.prototype.toString.call(e);return e instanceof Date||"object"==typeof e&&"[object Date]"===t?new e.constructor(+e):new Date("number"==typeof e||"[object Number]"===t||"string"==typeof e||"[object String]"===t?e:NaN)}e.s(["toDate",()=>t])},8470,e=>{"use strict";e.s(["millisecondsInDay",0,864e5,"millisecondsInWeek",0,6048e5,"minutesInDay",0,1440,"minutesInMonth",0,43200])},363367,511048,e=>{"use strict";var t;let r={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}};function a(e){return (t={})=>{let r=t.width?String(t.width):e.defaultWidth;return e.formats[r]||e.formats[e.defaultWidth]}}let s={date:a({formats:{full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},defaultWidth:"full"}),time:a({formats:{full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},defaultWidth:"full"}),dateTime:a({formats:{full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},defaultWidth:"full"})},n={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"};function i(e){return(t,r)=>{let a;if("formatting"===(r?.context?String(r.context):"standalone")&&e.formattingValues){let t=e.defaultFormattingWidth||e.defaultWidth,s=r?.width?String(r.width):t;a=e.formattingValues[s]||e.formattingValues[t]}else{let t=e.defaultWidth,s=r?.width?String(r.width):e.defaultWidth;a=e.values[s]||e.values[t]}return a[e.argumentCallback?e.argumentCallback(t):t]}}let o={ordinalNumber:(e,t)=>{let r=Number(e),a=r%100;if(a>20||a<10)switch(a%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},era:i({values:{narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},defaultWidth:"wide"}),quarter:i({values:{narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},defaultWidth:"wide",argumentCallback:e=>e-1}),month:i({values:{narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},defaultWidth:"wide"}),day:i({values:{narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},defaultWidth:"wide"}),dayPeriod:i({values:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},defaultWidth:"wide",formattingValues:{narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},defaultFormattingWidth:"wide"})};function l(e){return(t,r={})=>{let a,s=r.width,n=s&&e.matchPatterns[s]||e.matchPatterns[e.defaultMatchWidth],i=t.match(n);if(!i)return null;let o=i[0],l=s&&e.parsePatterns[s]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(l)?function(e,t){for(let r=0;r<e.length;r++)if(t(e[r]))return r}(l,e=>e.test(o)):function(e,t){for(let r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t(e[r]))return r}(l,e=>e.test(o));return a=e.valueCallback?e.valueCallback(u):u,{value:a=r.valueCallback?r.valueCallback(a):a,rest:t.slice(o.length)}}}let u={ordinalNumber:(t={matchPattern:/^(\d+)(th|st|nd|rd)?/i,parsePattern:/\d+/i,valueCallback:e=>parseInt(e,10)},(e,r={})=>{let a=e.match(t.matchPattern);if(!a)return null;let s=a[0],n=e.match(t.parsePattern);if(!n)return null;let i=t.valueCallback?t.valueCallback(n[0]):n[0];return{value:i=r.valueCallback?r.valueCallback(i):i,rest:e.slice(s.length)}}),era:l({matchPatterns:{narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},defaultMatchWidth:"wide",parsePatterns:{any:[/^b/i,/^(a|c)/i]},defaultParseWidth:"any"}),quarter:l({matchPatterns:{narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},defaultMatchWidth:"wide",parsePatterns:{any:[/1/i,/2/i,/3/i,/4/i]},defaultParseWidth:"any",valueCallback:e=>e+1}),month:l({matchPatterns:{narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},defaultParseWidth:"any"}),day:l({matchPatterns:{narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},defaultMatchWidth:"wide",parsePatterns:{narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},defaultParseWidth:"any"}),dayPeriod:l({matchPatterns:{narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},defaultMatchWidth:"any",parsePatterns:{any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},defaultParseWidth:"any"})};e.s(["defaultLocale",0,{code:"en-US",formatDistance:(e,t,a)=>{let s,n=r[e];if(s="string"==typeof n?n:1===t?n.one:n.other.replace("{{count}}",t.toString()),a?.addSuffix)if(a.comparison&&a.comparison>0)return"in "+s;else return s+" ago";return s},formatLong:s,formatRelative:(e,t,r,a)=>n[e],localize:o,match:u,options:{weekStartsOn:0,firstWeekContainsDate:1}}],363367);let c={};function d(){return c}e.s(["getDefaultOptions",()=>d],511048)},74327,e=>{"use strict";var t=e.i(435684);function r(e){let r=(0,t.toDate)(e),a=new Date(Date.UTC(r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()));return a.setUTCFullYear(r.getFullYear()),e-a}e.s(["getTimezoneOffsetInMilliseconds",()=>r])},809637,e=>{"use strict";var t=e.i(96226),r=e.i(435684);function a(e,t){let a=(0,r.toDate)(e),s=(0,r.toDate)(t),n=a.getTime()-s.getTime();return n<0?-1:n>0?1:n}var s=e.i(8470),n=e.i(363367),i=e.i(511048),o=e.i(74327);function l(e,l){return function(e,t,l){var u,c,d;let h,f,m,p=(0,i.getDefaultOptions)(),g=l?.locale??p.locale??n.defaultLocale,y=a(e,t);if(isNaN(y))throw RangeError("Invalid time value");let v=Object.assign({},l,{addSuffix:l?.addSuffix,comparison:y});y>0?(h=(0,r.toDate)(t),f=(0,r.toDate)(e)):(h=(0,r.toDate)(e),f=(0,r.toDate)(t));let b=(u=f,c=h,(d=void 0,e=>{let t=(d?Math[d]:Math.trunc)(e);return 0===t?0:t})(((0,r.toDate)(u)-(0,r.toDate)(c))/1e3)),x=Math.round((b-((0,o.getTimezoneOffsetInMilliseconds)(f)-(0,o.getTimezoneOffsetInMilliseconds)(h))/1e3)/60);if(x<2)if(l?.includeSeconds)if(b<5)return g.formatDistance("lessThanXSeconds",5,v);else if(b<10)return g.formatDistance("lessThanXSeconds",10,v);else if(b<20)return g.formatDistance("lessThanXSeconds",20,v);else if(b<40)return g.formatDistance("halfAMinute",0,v);else if(b<60)return g.formatDistance("lessThanXMinutes",1,v);else return g.formatDistance("xMinutes",1,v);else if(0===x)return g.formatDistance("lessThanXMinutes",1,v);else return g.formatDistance("xMinutes",x,v);if(x<45)return g.formatDistance("xMinutes",x,v);if(x<90)return g.formatDistance("aboutXHours",1,v);if(x<s.minutesInDay){let e=Math.round(x/60);return g.formatDistance("aboutXHours",e,v)}if(x<2520)return g.formatDistance("xDays",1,v);else if(x<s.minutesInMonth){let e=Math.round(x/s.minutesInDay);return g.formatDistance("xDays",e,v)}else if(x<2*s.minutesInMonth)return m=Math.round(x/s.minutesInMonth),g.formatDistance("aboutXMonths",m,v);if((m=function(e,t){var s;let n,i,o,l=(0,r.toDate)(e),u=(0,r.toDate)(t),c=a(l,u),d=Math.abs((i=(0,r.toDate)(l),o=(0,r.toDate)(u),12*(i.getFullYear()-o.getFullYear())+(i.getMonth()-o.getMonth())));if(d<1)n=0;else{let t,i,o,h;1===l.getMonth()&&l.getDate()>27&&l.setDate(30),l.setMonth(l.getMonth()-c*d);let f=a(l,u)===-c;s=(0,r.toDate)(e),+(t=(0,r.toDate)(s),(i=(0,r.toDate)(t)).setHours(23,59,59,999),i)==+(h=(o=(0,r.toDate)(t)).getMonth(),o.setFullYear(o.getFullYear(),h+1,0),o.setHours(23,59,59,999),o)&&1===d&&1===a(e,u)&&(f=!1),n=c*(d-Number(f))}return 0===n?0:n}(f,h))<12){let e=Math.round(x/s.minutesInMonth);return g.formatDistance("xMonths",e,v)}{let e=m%12,t=Math.trunc(m/12);return e<3?g.formatDistance("aboutXYears",t,v):e<9?g.formatDistance("overXYears",t,v):g.formatDistance("almostXYears",t+1,v)}}(e,(0,t.constructFrom)(e,Date.now()),l)}e.s(["formatDistanceToNow",()=>l],809637)},473708,e=>{"use strict";var t=e.i(803408);e.s(["Image",()=>t.default])},661765,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(618566),s=e.i(266027),n=e.i(519455),i=e.i(515288),o=e.i(487486),l=e.i(302747),u=e.i(967489),c=e.i(292270),d=e.i(473708),h=e.i(87316),f=e.i(908406),m=e.i(809637);function p(){let e=(0,a.useRouter)(),{toast:p}=(0,f.useToast)(),[g,y]=(0,r.useState)("all"),{data:v}=(0,s.useQuery)({queryKey:["/api/admin/check"]});(0,r.useEffect)(()=>{v&&!v.isAdmin&&e.push("/admin/login")},[v,e]);let{data:b,isLoading:x}=(0,s.useQuery)({queryKey:["/api/admin/photos",g],queryFn:async()=>{let e=new URLSearchParams;"unused"===g?e.append("unused","true"):"all"!==g&&e.append("category",g);let t=await fetch(`/api/admin/photos?${e}`);if(!t.ok)throw Error("Failed to fetch photos");return t.json()}}),w=async()=>{(await fetch("/api/admin/logout",{method:"POST"})).ok&&e.push("/admin/login")};if(!v?.isAdmin)return null;let j=b?.photos||[];return(0,t.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h1",{className:"text-3xl font-bold","data-testid":"heading-photos",children:"Photo Library"}),(0,t.jsx)("p",{className:"text-muted-foreground mt-1",children:"Manage photos from CompanyCam, Google Drive, and ServiceTitan"})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(n.Button,{variant:"outline",onClick:()=>e.push("/admin"),"data-testid":"button-back",children:"Back to Admin"}),(0,t.jsxs)(n.Button,{variant:"outline",onClick:w,"data-testid":"button-logout",children:[(0,t.jsx)(c.LogOut,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),(0,t.jsxs)(i.Card,{children:[(0,t.jsxs)(i.CardHeader,{children:[(0,t.jsx)(i.CardTitle,{children:"Photo Statistics"}),(0,t.jsx)(i.CardDescription,{children:"Overview of photo library"})]}),(0,t.jsx)(i.CardContent,{children:(0,t.jsxs)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Total Photos"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"CompanyCam"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.filter(e=>"companycam"===e.source).length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Google Drive"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.filter(e=>"google_drive"===e.source).length})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"ServiceTitan"}),(0,t.jsx)("p",{className:"text-2xl font-bold",children:j.filter(e=>"servicetitan"===e.source).length})]})]})})]}),(0,t.jsx)("div",{className:"flex items-center gap-2",children:(0,t.jsxs)(u.Select,{value:g,onValueChange:y,children:[(0,t.jsx)(u.SelectTrigger,{className:"w-48","data-testid":"select-filter",children:(0,t.jsx)(u.SelectValue,{placeholder:"Filter photos"})}),(0,t.jsxs)(u.SelectContent,{children:[(0,t.jsx)(u.SelectItem,{value:"all",children:"All Photos"}),(0,t.jsx)(u.SelectItem,{value:"unused",children:"Unused"}),(0,t.jsx)(u.SelectItem,{value:"residential",children:"Residential"}),(0,t.jsx)(u.SelectItem,{value:"commercial",children:"Commercial"}),(0,t.jsx)(u.SelectItem,{value:"team",children:"Team"})]})]})}),x?(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[...Array(8)].map((e,r)=>(0,t.jsx)(i.Card,{children:(0,t.jsx)(l.Skeleton,{className:"h-48 w-full"})},r))}):0===j.length?(0,t.jsx)(i.Card,{children:(0,t.jsxs)(i.CardContent,{className:"flex flex-col items-center justify-center h-40 gap-2",children:[(0,t.jsx)(d.Image,{className:"h-12 w-12 text-muted-foreground"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"No photos found"})]})}):(0,t.jsx)("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:j.map(e=>(0,t.jsxs)(i.Card,{className:"overflow-hidden hover-elevate cursor-pointer","data-testid":`photo-${e.id}`,children:[(0,t.jsxs)("div",{className:"relative aspect-square",children:[(0,t.jsx)("img",{src:e.url,alt:e.category||"Photo",className:"w-full h-full object-cover",loading:"lazy"}),(0,t.jsx)("div",{className:"absolute top-2 right-2",children:(0,t.jsx)(o.Badge,{variant:"secondary",className:"text-xs",children:e.source})})]}),(0,t.jsxs)(i.CardContent,{className:"p-3",children:[e.category&&(0,t.jsx)("p",{className:"text-sm font-medium mb-1",children:e.category}),e.jobId&&(0,t.jsxs)("p",{className:"text-xs text-muted-foreground mb-1",children:["Job: ",e.jobId]}),(0,t.jsxs)("p",{className:"text-xs text-muted-foreground flex items-center gap-1",children:[(0,t.jsx)(h.Calendar,{className:"h-3 w-3"}),(0,m.formatDistanceToNow)(new Date(e.uploadedAt),{addSuffix:!0})]})]})]},e.id))})]})})}e.s(["default",()=>p])}]);
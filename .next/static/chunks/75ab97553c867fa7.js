(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,467034,(e,t,r)=>{var n={675:function(e,t){"use strict";t.byteLength=function(e){var t=l(e),r=t[0],n=t[1];return(r+n)*3/4-n},t.toByteArray=function(e){var t,r,o=l(e),a=o[0],s=o[1],u=new i((a+s)*3/4-s),d=0,c=s>0?a-4:a;for(r=0;r<c;r+=4)t=n[e.charCodeAt(r)]<<18|n[e.charCodeAt(r+1)]<<12|n[e.charCodeAt(r+2)]<<6|n[e.charCodeAt(r+3)],u[d++]=t>>16&255,u[d++]=t>>8&255,u[d++]=255&t;return 2===s&&(t=n[e.charCodeAt(r)]<<2|n[e.charCodeAt(r+1)]>>4,u[d++]=255&t),1===s&&(t=n[e.charCodeAt(r)]<<10|n[e.charCodeAt(r+1)]<<4|n[e.charCodeAt(r+2)]>>2,u[d++]=t>>8&255,u[d++]=255&t),u},t.fromByteArray=function(e){for(var t,n=e.length,i=n%3,o=[],a=0,s=n-i;a<s;a+=16383)o.push(function(e,t,n){for(var i,o=[],a=t;a<n;a+=3)i=(e[a]<<16&0xff0000)+(e[a+1]<<8&65280)+(255&e[a+2]),o.push(r[i>>18&63]+r[i>>12&63]+r[i>>6&63]+r[63&i]);return o.join("")}(e,a,a+16383>s?s:a+16383));return 1===i?o.push(r[(t=e[n-1])>>2]+r[t<<4&63]+"=="):2===i&&o.push(r[(t=(e[n-2]<<8)+e[n-1])>>10]+r[t>>4&63]+r[t<<2&63]+"="),o.join("")};for(var r=[],n=[],i="undefined"!=typeof Uint8Array?Uint8Array:Array,o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",a=0,s=o.length;a<s;++a)r[a]=o[a],n[o.charCodeAt(a)]=a;function l(e){var t=e.length;if(t%4>0)throw Error("Invalid string. Length must be a multiple of 4");var r=e.indexOf("=");-1===r&&(r=t);var n=r===t?0:4-r%4;return[r,n]}n[45]=62,n[95]=63},72:function(e,t,r){"use strict";var n=r(675),i=r(783),o="function"==typeof Symbol&&"function"==typeof Symbol.for?Symbol.for("nodejs.util.inspect.custom"):null;function a(e){if(e>0x7fffffff)throw RangeError('The value "'+e+'" is invalid for option "size"');var t=new Uint8Array(e);return Object.setPrototypeOf(t,s.prototype),t}function s(e,t,r){if("number"==typeof e){if("string"==typeof t)throw TypeError('The "string" argument must be of type string. Received type number');return d(e)}return l(e,t,r)}function l(e,t,r){if("string"==typeof e){var n=e,i=t;if(("string"!=typeof i||""===i)&&(i="utf8"),!s.isEncoding(i))throw TypeError("Unknown encoding: "+i);var o=0|_(n,i),l=a(o),u=l.write(n,i);return u!==o&&(l=l.slice(0,u)),l}if(ArrayBuffer.isView(e))return c(e);if(null==e)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e);if(C(e,ArrayBuffer)||e&&C(e.buffer,ArrayBuffer)||"undefined"!=typeof SharedArrayBuffer&&(C(e,SharedArrayBuffer)||e&&C(e.buffer,SharedArrayBuffer)))return function(e,t,r){var n;if(t<0||e.byteLength<t)throw RangeError('"offset" is outside of buffer bounds');if(e.byteLength<t+(r||0))throw RangeError('"length" is outside of buffer bounds');return Object.setPrototypeOf(n=void 0===t&&void 0===r?new Uint8Array(e):void 0===r?new Uint8Array(e,t):new Uint8Array(e,t,r),s.prototype),n}(e,t,r);if("number"==typeof e)throw TypeError('The "value" argument must not be of type number. Received type number');var d=e.valueOf&&e.valueOf();if(null!=d&&d!==e)return s.from(d,t,r);var f=function(e){if(s.isBuffer(e)){var t=0|m(e.length),r=a(t);return 0===r.length||e.copy(r,0,0,t),r}return void 0!==e.length?"number"!=typeof e.length||function(e){return e!=e}(e.length)?a(0):c(e):"Buffer"===e.type&&Array.isArray(e.data)?c(e.data):void 0}(e);if(f)return f;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof e[Symbol.toPrimitive])return s.from(e[Symbol.toPrimitive]("string"),t,r);throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof e)}function u(e){if("number"!=typeof e)throw TypeError('"size" argument must be of type number');if(e<0)throw RangeError('The value "'+e+'" is invalid for option "size"')}function d(e){return u(e),a(e<0?0:0|m(e))}function c(e){for(var t=e.length<0?0:0|m(e.length),r=a(t),n=0;n<t;n+=1)r[n]=255&e[n];return r}t.Buffer=s,t.SlowBuffer=function(e){return+e!=e&&(e=0),s.alloc(+e)},t.INSPECT_MAX_BYTES=50,t.kMaxLength=0x7fffffff,s.TYPED_ARRAY_SUPPORT=function(){try{var e=new Uint8Array(1),t={foo:function(){return 42}};return Object.setPrototypeOf(t,Uint8Array.prototype),Object.setPrototypeOf(e,t),42===e.foo()}catch(e){return!1}}(),s.TYPED_ARRAY_SUPPORT||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(s.prototype,"parent",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.buffer}}),Object.defineProperty(s.prototype,"offset",{enumerable:!0,get:function(){if(s.isBuffer(this))return this.byteOffset}}),s.poolSize=8192,s.from=function(e,t,r){return l(e,t,r)},Object.setPrototypeOf(s.prototype,Uint8Array.prototype),Object.setPrototypeOf(s,Uint8Array),s.alloc=function(e,t,r){return(u(e),e<=0)?a(e):void 0!==t?"string"==typeof r?a(e).fill(t,r):a(e).fill(t):a(e)},s.allocUnsafe=function(e){return d(e)},s.allocUnsafeSlow=function(e){return d(e)};function m(e){if(e>=0x7fffffff)throw RangeError("Attempt to allocate Buffer larger than maximum size: 0x7fffffff bytes");return 0|e}function _(e,t){if(s.isBuffer(e))return e.length;if(ArrayBuffer.isView(e)||C(e,ArrayBuffer))return e.byteLength;if("string"!=typeof e)throw TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof e);var r=e.length,n=arguments.length>2&&!0===arguments[2];if(!n&&0===r)return 0;for(var i=!1;;)switch(t){case"ascii":case"latin1":case"binary":return r;case"utf8":case"utf-8":return A(e).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*r;case"hex":return r>>>1;case"base64":return T(e).length;default:if(i)return n?-1:A(e).length;t=(""+t).toLowerCase(),i=!0}}function f(e,t,r){var i,o,a,s=!1;if((void 0===t||t<0)&&(t=0),t>this.length||((void 0===r||r>this.length)&&(r=this.length),r<=0||(r>>>=0)<=(t>>>=0)))return"";for(e||(e="utf8");;)switch(e){case"hex":return function(e,t,r){var n=e.length;(!t||t<0)&&(t=0),(!r||r<0||r>n)&&(r=n);for(var i="",o=t;o<r;++o)i+=j[e[o]];return i}(this,t,r);case"utf8":case"utf-8":return y(this,t,r);case"ascii":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(127&e[i]);return n}(this,t,r);case"latin1":case"binary":return function(e,t,r){var n="";r=Math.min(e.length,r);for(var i=t;i<r;++i)n+=String.fromCharCode(e[i]);return n}(this,t,r);case"base64":return i=this,o=t,a=r,0===o&&a===i.length?n.fromByteArray(i):n.fromByteArray(i.slice(o,a));case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(e,t,r){for(var n=e.slice(t,r),i="",o=0;o<n.length;o+=2)i+=String.fromCharCode(n[o]+256*n[o+1]);return i}(this,t,r);default:if(s)throw TypeError("Unknown encoding: "+e);e=(e+"").toLowerCase(),s=!0}}function p(e,t,r){var n=e[t];e[t]=e[r],e[r]=n}function g(e,t,r,n,i){var o;if(0===e.length)return -1;if("string"==typeof r?(n=r,r=0):r>0x7fffffff?r=0x7fffffff:r<-0x80000000&&(r=-0x80000000),(o=r*=1)!=o&&(r=i?0:e.length-1),r<0&&(r=e.length+r),r>=e.length)if(i)return -1;else r=e.length-1;else if(r<0)if(!i)return -1;else r=0;if("string"==typeof t&&(t=s.from(t,n)),s.isBuffer(t))return 0===t.length?-1:h(e,t,r,n,i);if("number"==typeof t){if(t&=255,"function"==typeof Uint8Array.prototype.indexOf)if(i)return Uint8Array.prototype.indexOf.call(e,t,r);else return Uint8Array.prototype.lastIndexOf.call(e,t,r);return h(e,[t],r,n,i)}throw TypeError("val must be string, number or Buffer")}function h(e,t,r,n,i){var o,a=1,s=e.length,l=t.length;if(void 0!==n&&("ucs2"===(n=String(n).toLowerCase())||"ucs-2"===n||"utf16le"===n||"utf-16le"===n)){if(e.length<2||t.length<2)return -1;a=2,s/=2,l/=2,r/=2}function u(e,t){return 1===a?e[t]:e.readUInt16BE(t*a)}if(i){var d=-1;for(o=r;o<s;o++)if(u(e,o)===u(t,-1===d?0:o-d)){if(-1===d&&(d=o),o-d+1===l)return d*a}else -1!==d&&(o-=o-d),d=-1}else for(r+l>s&&(r=s-l),o=r;o>=0;o--){for(var c=!0,m=0;m<l;m++)if(u(e,o+m)!==u(t,m)){c=!1;break}if(c)return o}return -1}s.isBuffer=function(e){return null!=e&&!0===e._isBuffer&&e!==s.prototype},s.compare=function(e,t){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),C(t,Uint8Array)&&(t=s.from(t,t.offset,t.byteLength)),!s.isBuffer(e)||!s.isBuffer(t))throw TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(e===t)return 0;for(var r=e.length,n=t.length,i=0,o=Math.min(r,n);i<o;++i)if(e[i]!==t[i]){r=e[i],n=t[i];break}return r<n?-1:+(n<r)},s.isEncoding=function(e){switch(String(e).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},s.concat=function(e,t){if(!Array.isArray(e))throw TypeError('"list" argument must be an Array of Buffers');if(0===e.length)return s.alloc(0);if(void 0===t)for(r=0,t=0;r<e.length;++r)t+=e[r].length;var r,n=s.allocUnsafe(t),i=0;for(r=0;r<e.length;++r){var o=e[r];if(C(o,Uint8Array)&&(o=s.from(o)),!s.isBuffer(o))throw TypeError('"list" argument must be an Array of Buffers');o.copy(n,i),i+=o.length}return n},s.byteLength=_,s.prototype._isBuffer=!0,s.prototype.swap16=function(){var e=this.length;if(e%2!=0)throw RangeError("Buffer size must be a multiple of 16-bits");for(var t=0;t<e;t+=2)p(this,t,t+1);return this},s.prototype.swap32=function(){var e=this.length;if(e%4!=0)throw RangeError("Buffer size must be a multiple of 32-bits");for(var t=0;t<e;t+=4)p(this,t,t+3),p(this,t+1,t+2);return this},s.prototype.swap64=function(){var e=this.length;if(e%8!=0)throw RangeError("Buffer size must be a multiple of 64-bits");for(var t=0;t<e;t+=8)p(this,t,t+7),p(this,t+1,t+6),p(this,t+2,t+5),p(this,t+3,t+4);return this},s.prototype.toString=function(){var e=this.length;return 0===e?"":0==arguments.length?y(this,0,e):f.apply(this,arguments)},s.prototype.toLocaleString=s.prototype.toString,s.prototype.equals=function(e){if(!s.isBuffer(e))throw TypeError("Argument must be a Buffer");return this===e||0===s.compare(this,e)},s.prototype.inspect=function(){var e="",r=t.INSPECT_MAX_BYTES;return e=this.toString("hex",0,r).replace(/(.{2})/g,"$1 ").trim(),this.length>r&&(e+=" ... "),"<Buffer "+e+">"},o&&(s.prototype[o]=s.prototype.inspect),s.prototype.compare=function(e,t,r,n,i){if(C(e,Uint8Array)&&(e=s.from(e,e.offset,e.byteLength)),!s.isBuffer(e))throw TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof e);if(void 0===t&&(t=0),void 0===r&&(r=e?e.length:0),void 0===n&&(n=0),void 0===i&&(i=this.length),t<0||r>e.length||n<0||i>this.length)throw RangeError("out of range index");if(n>=i&&t>=r)return 0;if(n>=i)return -1;if(t>=r)return 1;if(t>>>=0,r>>>=0,n>>>=0,i>>>=0,this===e)return 0;for(var o=i-n,a=r-t,l=Math.min(o,a),u=this.slice(n,i),d=e.slice(t,r),c=0;c<l;++c)if(u[c]!==d[c]){o=u[c],a=d[c];break}return o<a?-1:+(a<o)},s.prototype.includes=function(e,t,r){return -1!==this.indexOf(e,t,r)},s.prototype.indexOf=function(e,t,r){return g(this,e,t,r,!0)},s.prototype.lastIndexOf=function(e,t,r){return g(this,e,t,r,!1)};function y(e,t,r){r=Math.min(e.length,r);for(var n=[],i=t;i<r;){var o,a,s,l,u=e[i],d=null,c=u>239?4:u>223?3:u>191?2:1;if(i+c<=r)switch(c){case 1:u<128&&(d=u);break;case 2:(192&(o=e[i+1]))==128&&(l=(31&u)<<6|63&o)>127&&(d=l);break;case 3:o=e[i+1],a=e[i+2],(192&o)==128&&(192&a)==128&&(l=(15&u)<<12|(63&o)<<6|63&a)>2047&&(l<55296||l>57343)&&(d=l);break;case 4:o=e[i+1],a=e[i+2],s=e[i+3],(192&o)==128&&(192&a)==128&&(192&s)==128&&(l=(15&u)<<18|(63&o)<<12|(63&a)<<6|63&s)>65535&&l<1114112&&(d=l)}null===d?(d=65533,c=1):d>65535&&(d-=65536,n.push(d>>>10&1023|55296),d=56320|1023&d),n.push(d),i+=c}var m=n,_=m.length;if(_<=4096)return String.fromCharCode.apply(String,m);for(var f="",p=0;p<_;)f+=String.fromCharCode.apply(String,m.slice(p,p+=4096));return f}function x(e,t,r){if(e%1!=0||e<0)throw RangeError("offset is not uint");if(e+t>r)throw RangeError("Trying to access beyond buffer length")}function b(e,t,r,n,i,o){if(!s.isBuffer(e))throw TypeError('"buffer" argument must be a Buffer instance');if(t>i||t<o)throw RangeError('"value" argument is out of bounds');if(r+n>e.length)throw RangeError("Index out of range")}function N(e,t,r,n,i,o){if(r+n>e.length||r<0)throw RangeError("Index out of range")}function I(e,t,r,n,o){return t*=1,r>>>=0,o||N(e,t,r,4,34028234663852886e22,-34028234663852886e22),i.write(e,t,r,n,23,4),r+4}function v(e,t,r,n,o){return t*=1,r>>>=0,o||N(e,t,r,8,17976931348623157e292,-17976931348623157e292),i.write(e,t,r,n,52,8),r+8}s.prototype.write=function(e,t,r,n){if(void 0===t)n="utf8",r=this.length,t=0;else if(void 0===r&&"string"==typeof t)n=t,r=this.length,t=0;else if(isFinite(t))t>>>=0,isFinite(r)?(r>>>=0,void 0===n&&(n="utf8")):(n=r,r=void 0);else throw Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var i,o,a,s,l,u,d,c,m=this.length-t;if((void 0===r||r>m)&&(r=m),e.length>0&&(r<0||t<0)||t>this.length)throw RangeError("Attempt to write outside buffer bounds");n||(n="utf8");for(var _=!1;;)switch(n){case"hex":return function(e,t,r,n){r=Number(r)||0;var i=e.length-r;n?(n=Number(n))>i&&(n=i):n=i;var o=t.length;n>o/2&&(n=o/2);for(var a=0;a<n;++a){var s,l=parseInt(t.substr(2*a,2),16);if((s=l)!=s)break;e[r+a]=l}return a}(this,e,t,r);case"utf8":case"utf-8":return i=t,o=r,P(A(e,this.length-i),this,i,o);case"ascii":return a=t,s=r,P(S(e),this,a,s);case"latin1":case"binary":return function(e,t,r,n){return P(S(t),e,r,n)}(this,e,t,r);case"base64":return l=t,u=r,P(T(e),this,l,u);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return d=t,c=r,P(function(e,t){for(var r,n,i=[],o=0;o<e.length&&!((t-=2)<0);++o)n=(r=e.charCodeAt(o))>>8,i.push(r%256),i.push(n);return i}(e,this.length-d),this,d,c);default:if(_)throw TypeError("Unknown encoding: "+n);n=(""+n).toLowerCase(),_=!0}},s.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}},s.prototype.slice=function(e,t){var r=this.length;e=~~e,t=void 0===t?r:~~t,e<0?(e+=r)<0&&(e=0):e>r&&(e=r),t<0?(t+=r)<0&&(t=0):t>r&&(t=r),t<e&&(t=e);var n=this.subarray(e,t);return Object.setPrototypeOf(n,s.prototype),n},s.prototype.readUIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n},s.prototype.readUIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e+--t],i=1;t>0&&(i*=256);)n+=this[e+--t]*i;return n},s.prototype.readUInt8=function(e,t){return e>>>=0,t||x(e,1,this.length),this[e]},s.prototype.readUInt16LE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]|this[e+1]<<8},s.prototype.readUInt16BE=function(e,t){return e>>>=0,t||x(e,2,this.length),this[e]<<8|this[e+1]},s.prototype.readUInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),(this[e]|this[e+1]<<8|this[e+2]<<16)+0x1000000*this[e+3]},s.prototype.readUInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),0x1000000*this[e]+(this[e+1]<<16|this[e+2]<<8|this[e+3])},s.prototype.readIntLE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=this[e],i=1,o=0;++o<t&&(i*=256);)n+=this[e+o]*i;return n>=(i*=128)&&(n-=Math.pow(2,8*t)),n},s.prototype.readIntBE=function(e,t,r){e>>>=0,t>>>=0,r||x(e,t,this.length);for(var n=t,i=1,o=this[e+--n];n>0&&(i*=256);)o+=this[e+--n]*i;return o>=(i*=128)&&(o-=Math.pow(2,8*t)),o},s.prototype.readInt8=function(e,t){return(e>>>=0,t||x(e,1,this.length),128&this[e])?-((255-this[e]+1)*1):this[e]},s.prototype.readInt16LE=function(e,t){e>>>=0,t||x(e,2,this.length);var r=this[e]|this[e+1]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt16BE=function(e,t){e>>>=0,t||x(e,2,this.length);var r=this[e+1]|this[e]<<8;return 32768&r?0xffff0000|r:r},s.prototype.readInt32LE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]|this[e+1]<<8|this[e+2]<<16|this[e+3]<<24},s.prototype.readInt32BE=function(e,t){return e>>>=0,t||x(e,4,this.length),this[e]<<24|this[e+1]<<16|this[e+2]<<8|this[e+3]},s.prototype.readFloatLE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!0,23,4)},s.prototype.readFloatBE=function(e,t){return e>>>=0,t||x(e,4,this.length),i.read(this,e,!1,23,4)},s.prototype.readDoubleLE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!0,52,8)},s.prototype.readDoubleBE=function(e,t){return e>>>=0,t||x(e,8,this.length),i.read(this,e,!1,52,8)},s.prototype.writeUIntLE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;b(this,e,t,r,i,0)}var o=1,a=0;for(this[t]=255&e;++a<r&&(o*=256);)this[t+a]=e/o&255;return t+r},s.prototype.writeUIntBE=function(e,t,r,n){if(e*=1,t>>>=0,r>>>=0,!n){var i=Math.pow(2,8*r)-1;b(this,e,t,r,i,0)}var o=r-1,a=1;for(this[t+o]=255&e;--o>=0&&(a*=256);)this[t+o]=e/a&255;return t+r},s.prototype.writeUInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,255,0),this[t]=255&e,t+1},s.prototype.writeUInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeUInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,65535,0),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeUInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t+3]=e>>>24,this[t+2]=e>>>16,this[t+1]=e>>>8,this[t]=255&e,t+4},s.prototype.writeUInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0xffffffff,0),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeIntLE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);b(this,e,t,r,i-1,-i)}var o=0,a=1,s=0;for(this[t]=255&e;++o<r&&(a*=256);)e<0&&0===s&&0!==this[t+o-1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},s.prototype.writeIntBE=function(e,t,r,n){if(e*=1,t>>>=0,!n){var i=Math.pow(2,8*r-1);b(this,e,t,r,i-1,-i)}var o=r-1,a=1,s=0;for(this[t+o]=255&e;--o>=0&&(a*=256);)e<0&&0===s&&0!==this[t+o+1]&&(s=1),this[t+o]=(e/a|0)-s&255;return t+r},s.prototype.writeInt8=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,1,127,-128),e<0&&(e=255+e+1),this[t]=255&e,t+1},s.prototype.writeInt16LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=255&e,this[t+1]=e>>>8,t+2},s.prototype.writeInt16BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,2,32767,-32768),this[t]=e>>>8,this[t+1]=255&e,t+2},s.prototype.writeInt32LE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),this[t]=255&e,this[t+1]=e>>>8,this[t+2]=e>>>16,this[t+3]=e>>>24,t+4},s.prototype.writeInt32BE=function(e,t,r){return e*=1,t>>>=0,r||b(this,e,t,4,0x7fffffff,-0x80000000),e<0&&(e=0xffffffff+e+1),this[t]=e>>>24,this[t+1]=e>>>16,this[t+2]=e>>>8,this[t+3]=255&e,t+4},s.prototype.writeFloatLE=function(e,t,r){return I(this,e,t,!0,r)},s.prototype.writeFloatBE=function(e,t,r){return I(this,e,t,!1,r)},s.prototype.writeDoubleLE=function(e,t,r){return v(this,e,t,!0,r)},s.prototype.writeDoubleBE=function(e,t,r){return v(this,e,t,!1,r)},s.prototype.copy=function(e,t,r,n){if(!s.isBuffer(e))throw TypeError("argument should be a Buffer");if(r||(r=0),n||0===n||(n=this.length),t>=e.length&&(t=e.length),t||(t=0),n>0&&n<r&&(n=r),n===r||0===e.length||0===this.length)return 0;if(t<0)throw RangeError("targetStart out of bounds");if(r<0||r>=this.length)throw RangeError("Index out of range");if(n<0)throw RangeError("sourceEnd out of bounds");n>this.length&&(n=this.length),e.length-t<n-r&&(n=e.length-t+r);var i=n-r;if(this===e&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(t,r,n);else if(this===e&&r<t&&t<n)for(var o=i-1;o>=0;--o)e[o+t]=this[o+r];else Uint8Array.prototype.set.call(e,this.subarray(r,n),t);return i},s.prototype.fill=function(e,t,r,n){if("string"==typeof e){if("string"==typeof t?(n=t,t=0,r=this.length):"string"==typeof r&&(n=r,r=this.length),void 0!==n&&"string"!=typeof n)throw TypeError("encoding must be a string");if("string"==typeof n&&!s.isEncoding(n))throw TypeError("Unknown encoding: "+n);if(1===e.length){var i,o=e.charCodeAt(0);("utf8"===n&&o<128||"latin1"===n)&&(e=o)}}else"number"==typeof e?e&=255:"boolean"==typeof e&&(e=Number(e));if(t<0||this.length<t||this.length<r)throw RangeError("Out of range index");if(r<=t)return this;if(t>>>=0,r=void 0===r?this.length:r>>>0,e||(e=0),"number"==typeof e)for(i=t;i<r;++i)this[i]=e;else{var a=s.isBuffer(e)?e:s.from(e,n),l=a.length;if(0===l)throw TypeError('The value "'+e+'" is invalid for argument "value"');for(i=0;i<r-t;++i)this[i+t]=a[i%l]}return this};var w=/[^+/0-9A-Za-z-_]/g;function A(e,t){t=t||1/0;for(var r,n=e.length,i=null,o=[],a=0;a<n;++a){if((r=e.charCodeAt(a))>55295&&r<57344){if(!i){if(r>56319||a+1===n){(t-=3)>-1&&o.push(239,191,189);continue}i=r;continue}if(r<56320){(t-=3)>-1&&o.push(239,191,189),i=r;continue}r=(i-55296<<10|r-56320)+65536}else i&&(t-=3)>-1&&o.push(239,191,189);if(i=null,r<128){if((t-=1)<0)break;o.push(r)}else if(r<2048){if((t-=2)<0)break;o.push(r>>6|192,63&r|128)}else if(r<65536){if((t-=3)<0)break;o.push(r>>12|224,r>>6&63|128,63&r|128)}else if(r<1114112){if((t-=4)<0)break;o.push(r>>18|240,r>>12&63|128,r>>6&63|128,63&r|128)}else throw Error("Invalid code point")}return o}function S(e){for(var t=[],r=0;r<e.length;++r)t.push(255&e.charCodeAt(r));return t}function T(e){return n.toByteArray(function(e){if((e=(e=e.split("=")[0]).trim().replace(w,"")).length<2)return"";for(;e.length%4!=0;)e+="=";return e}(e))}function P(e,t,r,n){for(var i=0;i<n&&!(i+r>=t.length)&&!(i>=e.length);++i)t[i+r]=e[i];return i}function C(e,t){return e instanceof t||null!=e&&null!=e.constructor&&null!=e.constructor.name&&e.constructor.name===t.name}var j=function(){for(var e="0123456789abcdef",t=Array(256),r=0;r<16;++r)for(var n=16*r,i=0;i<16;++i)t[n+i]=e[r]+e[i];return t}()},783:function(e,t){t.read=function(e,t,r,n,i){var o,a,s=8*i-n-1,l=(1<<s)-1,u=l>>1,d=-7,c=r?i-1:0,m=r?-1:1,_=e[t+c];for(c+=m,o=_&(1<<-d)-1,_>>=-d,d+=s;d>0;o=256*o+e[t+c],c+=m,d-=8);for(a=o&(1<<-d)-1,o>>=-d,d+=n;d>0;a=256*a+e[t+c],c+=m,d-=8);if(0===o)o=1-u;else{if(o===l)return a?NaN:1/0*(_?-1:1);a+=Math.pow(2,n),o-=u}return(_?-1:1)*a*Math.pow(2,o-n)},t.write=function(e,t,r,n,i,o){var a,s,l,u=8*o-i-1,d=(1<<u)-1,c=d>>1,m=5960464477539062e-23*(23===i),_=n?0:o-1,f=n?1:-1,p=+(t<0||0===t&&1/t<0);for(isNaN(t=Math.abs(t))||t===1/0?(s=+!!isNaN(t),a=d):(a=Math.floor(Math.log(t)/Math.LN2),t*(l=Math.pow(2,-a))<1&&(a--,l*=2),a+c>=1?t+=m/l:t+=m*Math.pow(2,1-c),t*l>=2&&(a++,l/=2),a+c>=d?(s=0,a=d):a+c>=1?(s=(t*l-1)*Math.pow(2,i),a+=c):(s=t*Math.pow(2,c-1)*Math.pow(2,i),a=0));i>=8;e[r+_]=255&s,_+=f,s/=256,i-=8);for(a=a<<i|s,u+=i;u>0;e[r+_]=255&a,_+=f,a/=256,u-=8);e[r+_-f]|=128*p}}},i={};function o(e){var t=i[e];if(void 0!==t)return t.exports;var r=i[e]={exports:{}},a=!0;try{n[e](r,r.exports,o),a=!1}finally{a&&delete i[e]}return r.exports}o.ab="/ROOT/node_modules/next/dist/compiled/buffer/",t.exports=o(72)},363736,44722,e=>{"use strict";let t,r;var n,i=e.i(843476),o=e.i(271645),a=e.i(653145),s=e.i(994814);let l=Symbol.for("drizzle:entityKind");function u(e,t){if(!e||"object"!=typeof e)return!1;if(e instanceof t)return!0;if(!Object.prototype.hasOwnProperty.call(t,l))throw Error(`Class "${t.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let r=Object.getPrototypeOf(e).constructor;if(r)for(;r;){if(l in r&&r[l]===t[l])return!0;r=Object.getPrototypeOf(r)}return!1}Symbol.for("drizzle:hasOwnEntityKind");class d{static [l]="ColumnBuilder";config;constructor(e,t,r){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:r,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}class c{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [l]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}let m=Symbol.for("drizzle:Name");class _{static [l]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:r,foreignColumns:n}=e();return{name:t,columns:r,foreignTable:n[0].table,foreignColumns:n}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new f(e,this)}}class f{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [l]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:r}=this.reference(),n=t.map(e=>e.name),i=r.map(e=>e.name),o=[this.table[m],...n,r[0].table[m],...i];return e??`${o.join("_")}_fk`}}function p(e,...t){return e(...t)}function g(e,t){return`${e[m]}_${t.join("_")}_unique`}class h{constructor(e,t){this.name=t,this.columns=e}static [l]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new x(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class y{static [l]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new h(e,this.name)}}class x{constructor(e,t,r,n){this.table=e,this.columns=t,this.name=n??g(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=r}static [l]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function b(e,t,r){for(let n=t;n<e.length;n++){let i=e[n];if("\\"===i){n++;continue}if('"'===i)return[e.slice(t,n).replace(/\\/g,""),n+1];if(!r&&(","===i||"}"===i))return[e.slice(t,n).replace(/\\/g,""),n]}return[e.slice(t).replace(/\\/g,""),e.length]}class N extends d{foreignKeyConfigs=[];static [l]="PgColumnBuilder";array(e){return new A(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:r,actions:n})=>p((r,n)=>{let i=new _(()=>({columns:[e],foreignColumns:[r()]}));return n.onUpdate&&i.onUpdate(n.onUpdate),n.onDelete&&i.onDelete(n.onDelete),i.build(t)},r,n))}buildExtraConfigColumn(e){return new v(e,this.config)}}class I extends c{constructor(e,t){t.uniqueName||(t.uniqueName=g(e,[t.name])),super(e,t),this.table=e}static [l]="PgColumn"}class v extends I{static [l]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class w{static [l]="IndexedColumn";constructor(e,t,r,n){this.name=e,this.keyAsName=t,this.type=r,this.indexConfig=n}name;keyAsName;type;indexConfig}class A extends N{static [l]="PgArrayBuilder";constructor(e,t,r){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=r}build(e){let t=this.config.baseBuilder.build(e);return new S(e,this.config,t)}}class S extends I{constructor(e,t,r,n){super(e,t),this.baseColumn=r,this.range=n,this.size=t.size}size;static [l]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,r=0){let n=[],i=r,o=!1;for(;i<t.length;){let a=t[i];if(","===a){(o||i===r)&&n.push(""),o=!0,i++;continue}if(o=!1,"\\"===a){i+=2;continue}if('"'===a){let[e,r]=b(t,i+1,!0);n.push(e),i=r;continue}if("}"===a)return[n,i+1];if("{"===a){let[r,o]=e(t,i+1);n.push(r),i=o;continue}let[s,l]=b(t,i,!1);n.push(s),i=l}return[n,i]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let r=e.map(e=>null===e?null:u(this.baseColumn,S)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?r:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(r)}}let T=Symbol.for("drizzle:isPgEnum");class P extends N{static [l]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new C(e,this.config)}}class C extends I{static [l]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class j{static [l]="Subquery";constructor(e,t,r,n=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:r,isWith:n}}}class B extends j{static [l]="WithSubquery"}let k=(e,n)=>t?(r||(r=t.trace.getTracer("drizzle-orm","0.39.1")),p((t,r)=>r.startActiveSpan(e,e=>{try{return n(e)}catch(r){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:r instanceof Error?r.message:"Unknown error"}),r}finally{e.end()}}),t,r)):n(),E=Symbol.for("drizzle:ViewBaseConfig"),q=Symbol.for("drizzle:Schema"),D=Symbol.for("drizzle:Columns"),F=Symbol.for("drizzle:ExtraConfigColumns"),z=Symbol.for("drizzle:OriginalName"),U=Symbol.for("drizzle:BaseName"),L=Symbol.for("drizzle:IsAlias"),O=Symbol.for("drizzle:ExtraConfigBuilder"),M=Symbol.for("drizzle:IsDrizzleTable");class V{static [l]="Table";static Symbol={Name:m,Schema:q,OriginalName:z,Columns:D,ExtraConfigColumns:F,BaseName:U,IsAlias:L,ExtraConfigBuilder:O};[m];[z];[q];[D];[F];[U];[L]=!1;[M]=!0;[O]=void 0;constructor(e,t,r){this[m]=this[z]=e,this[q]=t,this[U]=r}}function R(e){return"object"==typeof e&&null!==e&&M in e}class K{static [l]="FakePrimitiveParam"}class Q{static [l]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new $([this])}}class ${constructor(e){this.queryChunks=e}static [l]="SQL";decoder=G;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return k("drizzle.buildSQL",t=>{let r=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":r.sql,"drizzle.query.params":JSON.stringify(r.params)}),r})}buildQueryFromSourceParams(e,t){let r=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:n,escapeName:i,escapeParam:o,prepareTyping:a,inlineParams:s,paramStartIndex:l}=r;var d=e.map(e=>{if(u(e,Q))return{sql:e.value.join(""),params:[]};if(u(e,X))return{sql:i(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new Q("(")];for(let[r,n]of e.entries())t.push(n),r<e.length-1&&t.push(new Q(", "));return t.push(new Q(")")),this.buildQueryFromSourceParams(t,r)}if(u(e,$))return this.buildQueryFromSourceParams(e.queryChunks,{...r,inlineParams:s||e.shouldInlineParams});if(u(e,V)){let t=e[V.Symbol.Schema],r=e[V.Symbol.Name];return{sql:void 0===t||e[L]?i(r):i(t)+"."+i(r),params:[]}}if(u(e,c)){let r=n.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:i(r),params:[]};let o=e.table[V.Symbol.Schema];return{sql:e.table[L]||void 0===o?i(e.table[V.Symbol.Name])+"."+i(r):i(o)+"."+i(e.table[V.Symbol.Name])+"."+i(r),params:[]}}if(u(e,er)){let t=e[E].schema,r=e[E].name;return{sql:void 0===t||e[E].isAlias?i(r):i(t)+"."+i(r),params:[]}}if(u(e,W)){if(u(e.value,ee))return{sql:o(l.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if(u(t,$))return this.buildQueryFromSourceParams([t],r);if(s)return{sql:this.mapInlineParam(t,r),params:[]};let n=["none"];return a&&(n=[a(e.encoder)]),{sql:o(l.value++,t),params:[t],typings:n}}return u(e,ee)?{sql:o(l.value++,e),params:[e],typings:["none"]}:u(e,$.Aliased)&&void 0!==e.fieldAlias?{sql:i(e.fieldAlias),params:[]}:u(e,j)?e._.isWith?{sql:i(e._.alias),params:[]}:this.buildQueryFromSourceParams([new Q("("),e._.sql,new Q(") "),new X(e._.alias)],r):e&&"function"==typeof e&&T in e&&!0===e[T]?e.schema?{sql:i(e.schema)+"."+i(e.enumName),params:[]}:{sql:i(e.enumName),params:[]}:null!=e&&"function"==typeof e.getSQL?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],r):this.buildQueryFromSourceParams([new Q("("),e.getSQL(),new Q(")")],r):s?{sql:this.mapInlineParam(e,r),params:[]}:{sql:o(l.value++,e),params:[e],typings:["none"]}});let m={sql:"",params:[]};for(let e of d)m.sql+=e.sql,m.params.push(...e.params),e.typings?.length&&(m.typings||(m.typings=[]),m.typings.push(...e.typings));return m}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let r=e.toString();return"[object Object]"===r?t(JSON.stringify(e)):t(r)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new $.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class X{constructor(e){this.value=e}static [l]="Name";brand;getSQL(){return new $([this])}}let G={mapFromDriverValue:e=>e},J={mapToDriverValue:e=>e};({...G,...J});class W{constructor(e,t=J){this.value=e,this.encoder=t}static [l]="Param";brand;getSQL(){return new $([this])}}function Y(e,...t){let r=[];for(let[n,i]of((t.length>0||e.length>0&&""!==e[0])&&r.push(new Q(e[0])),t.entries()))r.push(i,new Q(e[n+1]));return new $(r)}(n=Y||(Y={})).empty=function(){return new $([])},n.fromList=function(e){return new $(e)},n.raw=function(e){return new $([new Q(e)])},n.join=function(e,t){let r=[];for(let[n,i]of e.entries())n>0&&void 0!==t&&r.push(t),r.push(i);return new $(r)},n.identifier=function(e){return new X(e)},n.placeholder=function(e){return new ee(e)},n.param=function(e,t){return new W(e,t)};var H=$||($={});class Z{constructor(e,t){this.sql=e,this.fieldAlias=t}static [l]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new Z(this.sql,this.fieldAlias)}}H.Aliased=Z;class ee{constructor(e){this.name=e}static [l]="Placeholder";getSQL(){return new $([this])}}let et=Symbol.for("drizzle:IsDrizzleView");class er{static [l]="View";[E];[et]=!0;constructor({name:e,schema:t,selectedFields:r,query:n}){this[E]={name:e,originalName:e,schema:t,selectedFields:r,query:n,isExisting:!n,isAlias:!1}}getSQL(){return new $([this])}}function en(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}c.prototype.getSQL=function(){return new $([this])},V.prototype.getSQL=function(){return new $([this])},j.prototype.getSQL=function(){return new $([this])};class ei extends N{static [l]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...r}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:r}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}class eo extends ei{static [l]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new ea(e,this.config)}}class ea extends I{static [l]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class es extends ei{static [l]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new el(e,this.config)}}class el extends I{static [l]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function eu(e,t){let{name:r,config:n}=en(e,t);return"number"===n.mode?new eo(r):new es(r)}class ed extends N{static [l]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new ec(e,this.config)}}class ec extends I{static [l]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class em extends N{static [l]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new e_(e,this.config)}}class e_ extends I{static [l]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function ef(e,t){let{name:r,config:n}=en(e,t);return"number"===n.mode?new ed(r):new em(r)}class ep extends N{static [l]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new eg(e,this.config)}}class eg extends I{static [l]="PgBoolean";getSQLType(){return"boolean"}}function eh(e){return new ep(e??"")}class ey extends N{static [l]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new ex(e,this.config)}}class ex extends I{static [l]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function eb(e,t={}){let{name:r,config:n}=en(e,t);return new ey(r,n)}class eN extends N{static [l]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new eI(e,this.config)}}class eI extends I{static [l]="PgCidr";getSQLType(){return"cidr"}}function ev(e){return new eN(e??"")}class ew extends N{static [l]="PgCustomColumnBuilder";constructor(e,t,r){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=r}build(e){return new eA(e,this.config)}}class eA extends I{static [l]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function eS(e){return(t,r)=>{let{name:n,config:i}=en(t,r);return new ew(n,i,e)}}class eT extends N{static [l]="PgDateColumnBaseBuilder";defaultNow(){return this.default(Y`now()`)}}class eP extends eT{static [l]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new eC(e,this.config)}}class eC extends I{static [l]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class ej extends eT{static [l]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new eB(e,this.config)}}class eB extends I{static [l]="PgDateString";getSQLType(){return"date"}}function ek(e,t){let{name:r,config:n}=en(e,t);return n?.mode==="date"?new eP(r):new ej(r)}class eE extends N{static [l]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new eq(e,this.config)}}class eq extends I{static [l]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function eD(e){return new eE(e??"")}class eF extends N{static [l]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new ez(e,this.config)}}class ez extends I{static [l]="PgInet";getSQLType(){return"inet"}}function eU(e){return new eF(e??"")}class eL extends ei{static [l]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new eO(e,this.config)}}class eO extends I{static [l]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function eM(e){return new eL(e??"")}class eV extends N{static [l]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new eR(e,this.config)}}class eR extends I{static [l]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function eK(e,t={}){let{name:r,config:n}=en(e,t);return new eV(r,n)}class eQ extends N{static [l]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new e$(e,this.config)}}class e$ extends I{static [l]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function eX(e){return new eQ(e??"")}class eG extends N{static [l]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new eJ(e,this.config)}}class eJ extends I{static [l]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function eW(e){return new eG(e??"")}class eY extends N{static [l]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new eH(e,this.config)}}class eH extends I{static [l]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r),Number.parseFloat(n)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class eZ extends N{static [l]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new e0(e,this.config)}}class e0 extends I{static [l]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,r,n]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(r),c:Number.parseFloat(n)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function e1(e,t){let{name:r,config:n}=en(e,t);return n?.mode&&"tuple"!==n.mode?new eZ(r):new eY(r)}class e2 extends N{static [l]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new e8(e,this.config)}}class e8 extends I{static [l]="PgMacaddr";getSQLType(){return"macaddr"}}function e6(e){return new e2(e??"")}class e5 extends N{static [l]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new e3(e,this.config)}}class e3 extends I{static [l]="PgMacaddr8";getSQLType(){return"macaddr8"}}function e4(e){return new e5(e??"")}class e7 extends N{static [l]="PgNumericBuilder";constructor(e,t,r){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=r}build(e){return new e9(e,this.config)}}class e9 extends I{static [l]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function te(e,t){let{name:r,config:n}=en(e,t);return new e7(r,n?.precision,n?.scale)}class tt extends N{static [l]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new tr(e,this.config)}}class tr extends I{static [l]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(r)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class tn extends N{static [l]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new ti(e,this.config)}}class ti extends I{static [l]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,r]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(r)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function to(e,t){let{name:r,config:n}=en(e,t);return n?.mode&&"tuple"!==n.mode?new tn(r):new tt(r)}function ta(e,t){let r=new DataView(new ArrayBuffer(8));for(let n=0;n<8;n++)r.setUint8(n,e[t+n]);return r.getFloat64(0,!0)}function ts(e){let t=function(e){let t=[];for(let r=0;r<e.length;r+=2)t.push(Number.parseInt(e.slice(r,r+2),16));return new Uint8Array(t)}(e),r=0,n=t[0];r+=1;let i=new DataView(t.buffer),o=i.getUint32(r,1===n);if(r+=4,0x20000000&o&&(i.getUint32(r,1===n),r+=4),(65535&o)==1){let e=ta(t,r),n=ta(t,r+=8);return r+=8,[e,n]}throw Error("Unsupported geometry type")}class tl extends N{static [l]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new tu(e,this.config)}}class tu extends I{static [l]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return ts(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class td extends N{static [l]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new tc(e,this.config)}}class tc extends I{static [l]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=ts(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function tm(e,t){let{name:r,config:n}=en(e,t);return n?.mode&&"tuple"!==n.mode?new td(r):new tl(r)}class t_ extends N{static [l]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new tf(e,this.config)}}class tf extends I{static [l]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function tp(e){return new t_(e??"")}class tg extends N{static [l]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new th(e,this.config)}}class th extends I{static [l]="PgSerial";getSQLType(){return"serial"}}function ty(e){return new tg(e??"")}class tx extends ei{static [l]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new tb(e,this.config)}}class tb extends I{static [l]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function tN(e){return new tx(e??"")}class tI extends N{static [l]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new tv(e,this.config)}}class tv extends I{static [l]="PgSmallSerial";getSQLType(){return"smallserial"}}function tw(e){return new tI(e??"")}class tA extends N{static [l]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new tS(e,this.config)}}class tS extends I{static [l]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function tT(e,t={}){let{name:r,config:n}=en(e,t);return new tA(r,n)}class tP extends eT{constructor(e,t,r){super(e,"string","PgTime"),this.withTimezone=t,this.precision=r,this.config.withTimezone=t,this.config.precision=r}static [l]="PgTimeBuilder";build(e){return new tC(e,this.config)}}class tC extends I{static [l]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function tj(e,t={}){let{name:r,config:n}=en(e,t);return new tP(r,n.withTimezone??!1,n.precision)}class tB extends eT{static [l]="PgTimestampBuilder";constructor(e,t,r){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=r}build(e){return new tk(e,this.config)}}class tk extends I{static [l]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class tE extends eT{static [l]="PgTimestampStringBuilder";constructor(e,t,r){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=r}build(e){return new tq(e,this.config)}}class tq extends I{static [l]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function tD(e,t={}){let{name:r,config:n}=en(e,t);return n?.mode==="string"?new tE(r,n.withTimezone??!1,n.precision):new tB(r,n?.withTimezone??!1,n?.precision)}class tF extends N{static [l]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(Y`gen_random_uuid()`)}build(e){return new tz(e,this.config)}}class tz extends I{static [l]="PgUUID";getSQLType(){return"uuid"}}function tU(e){return new tF(e??"")}class tL extends N{static [l]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new tO(e,this.config)}}class tO extends I{static [l]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function tM(e,t={}){let{name:r,config:n}=en(e,t);return new tL(r,n)}class tV extends N{static [l]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new tR(e,this.config)}}class tR extends I{static [l]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function tK(e,t){let{name:r,config:n}=en(e,t);return new tV(r,n)}class tQ extends N{static [l]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new t$(e,this.config)}}class t$ extends I{static [l]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tX(e,t){let{name:r,config:n}=en(e,t);return new tQ(r,n)}class tG extends N{static [l]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new tJ(e,this.config)}}class tJ extends I{static [l]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function tW(e,t){let{name:r,config:n}=en(e,t);return new tG(r,n)}class tY extends N{static [l]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new tH(e,this.config)}}class tH extends I{static [l]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function tZ(e,t){let{name:r,config:n}=en(e,t);return new tY(r,n)}let t0=Symbol.for("drizzle:PgInlineForeignKeys"),t1=Symbol.for("drizzle:EnableRLS");class t2 extends V{static [l]="PgTable";static Symbol=Object.assign({},V.Symbol,{InlineForeignKeys:t0,EnableRLS:t1});[t0]=[];[t1]=!1;[V.Symbol.ExtraConfigBuilder]=void 0}let t8=(e,t,r)=>(function(e,t,r,n,i=e){let o=new t2(e,n,i),a="function"==typeof t?t({bigint:eu,bigserial:ef,boolean:eh,char:eb,cidr:ev,customType:eS,date:ek,doublePrecision:eD,inet:eU,integer:eM,interval:eK,json:eX,jsonb:eW,line:e1,macaddr:e6,macaddr8:e4,numeric:te,point:to,geometry:tm,real:tp,serial:ty,smallint:tN,smallserial:tw,text:tT,time:tj,timestamp:tD,uuid:tU,varchar:tM,bit:tK,halfvec:tX,sparsevec:tW,vector:tZ}):t,s=Object.fromEntries(Object.entries(a).map(([e,t])=>{t.setName(e);let r=t.build(o);return o[t0].push(...t.buildForeignKeys(r,o)),[e,r]})),l=Object.fromEntries(Object.entries(a).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(o)]))),u=Object.assign(o,s);return u[V.Symbol.Columns]=s,u[V.Symbol.ExtraConfigColumns]=l,r&&(u[t2.Symbol.ExtraConfigBuilder]=r),Object.assign(u,{enableRLS:()=>(u[t2.Symbol.EnableRLS]=!0,u)})})(e,t,r,void 0);class t6{constructor(e,t){this.unique=e,this.name=t}static [l]="PgIndexBuilderOn";on(...e){return new t5(e.map(e=>{if(u(e,$))return e;let t=new w(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!1,this.name)}onOnly(...e){return new t5(e.map(e=>{if(u(e,$))return e;let t=new w(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=e.defaultConfig,t}),this.unique,!0,this.name)}using(e,...t){return new t5(t.map(e=>{if(u(e,$))return e;let t=new w(e.name,!!e.keyAsName,e.columnType,e.indexConfig);return e.indexConfig=JSON.parse(JSON.stringify(e.defaultConfig)),t}),this.unique,!0,this.name,e)}}class t5{static [l]="PgIndexBuilder";config;constructor(e,t,r,n,i="btree"){this.config={name:n,columns:e,unique:t,only:r,method:i}}concurrently(){return this.config.concurrently=!0,this}with(e){return this.config.with=e,this}where(e){return this.config.where=e,this}build(e){return new t3(this.config,e)}}class t3{static [l]="PgIndex";config;constructor(e,t){this.config={...e,table:t}}}function t4(e){return new t6(!1,e)}function t7(e){return new t6(!0,e)}var t9=e.i(467034),re=e.i(50270);let rt={INT8_MIN:-128,INT8_MAX:127,INT8_UNSIGNED_MAX:255,INT16_MIN:-32768,INT16_MAX:32767,INT16_UNSIGNED_MAX:65535,INT24_MIN:-8388608,INT24_MAX:8388607,INT24_UNSIGNED_MAX:0xffffff,INT32_MIN:-0x80000000,INT32_MAX:0x7fffffff,INT32_UNSIGNED_MAX:0xffffffff,INT48_MIN:-0x800000000000,INT48_MAX:0x7fffffffffff,INT48_UNSIGNED_MAX:0xffffffffffff,INT64_MIN:-0x8000000000000000n,INT64_MAX:0x7fffffffffffffffn,INT64_UNSIGNED_MAX:0xffffffffffffffffn};function rr(e,t){return t.includes(e.columnType)}let rn=re.z.union([re.z.string(),re.z.number(),re.z.boolean(),re.z.null()]),ri=re.z.union([rn,re.z.record(re.z.any()),re.z.array(re.z.any())]),ro=re.z.custom(e=>e instanceof t9.Buffer);function ra(e){return R(e)?e[V.Symbol.Columns]:e[E].selectedFields}let rs={never:e=>e?.generated?.type==="always"||e?.generatedIdentity?.type==="always",optional:e=>!e.notNull||e.notNull&&e.hasDefault,nullable:e=>!e.notNull},rl=(e,t)=>(function e(t,r,n,i){let o={};for(let[a,s]of Object.entries(t)){if(!u(s,c)&&!u(s,$)&&!u(s,$.Aliased)&&"object"==typeof s){let t=R(s)||"object"==typeof s&&null!==s&&et in s?ra(s):s;o[a]=e(t,r[a]??{},n,i);continue}let t=r[a];if(void 0!==t&&"function"!=typeof t){o[a]=t;continue}let l=u(s,c)?s:void 0,d=l?function e(t,r){let n,i=r?.zodInstance??re.z,o=r?.coerce??{};return"enumValues"in t&&Array.isArray(t.enumValues)&&t.enumValues.length>0&&(n=t.enumValues.length?i.enum(t.enumValues):i.string()),n||(rr(t,["PgGeometry","PgPointTuple"])?n=i.tuple([i.number(),i.number()]):rr(t,["PgGeometryObject","PgPointObject"])?n=i.object({x:i.number(),y:i.number()}):rr(t,["PgHalfVector","PgVector"])?(n=i.array(i.number()),n=t.dimensions?n.length(t.dimensions):n):rr(t,["PgLine"])?n=i.tuple([i.number(),i.number(),i.number()]):rr(t,["PgLineABC"])?n=i.object({a:i.number(),b:i.number(),c:i.number()}):rr(t,["PgArray"])?(n=i.array(e(t.baseColumn,i)),n=t.size?n.length(t.size):n):"array"===t.dataType?n=i.array(i.any()):"number"===t.dataType?n=function(e,t,r){let n,i,o=e.getSQLType().includes("unsigned"),a=!1;rr(e,["MySqlTinyInt","SingleStoreTinyInt"])?(n=o?0:rt.INT8_MIN,i=o?rt.INT8_UNSIGNED_MAX:rt.INT8_MAX,a=!0):rr(e,["PgSmallInt","PgSmallSerial","MySqlSmallInt","SingleStoreSmallInt"])?(n=o?0:rt.INT16_MIN,i=o?rt.INT16_UNSIGNED_MAX:rt.INT16_MAX,a=!0):rr(e,["PgReal","MySqlFloat","MySqlMediumInt","SingleStoreMediumInt","SingleStoreFloat"])?(n=o?0:rt.INT24_MIN,i=o?rt.INT24_UNSIGNED_MAX:rt.INT24_MAX,a=rr(e,["MySqlMediumInt","SingleStoreMediumInt"])):rr(e,["PgInteger","PgSerial","MySqlInt","SingleStoreInt"])?(n=o?0:rt.INT32_MIN,i=o?rt.INT32_UNSIGNED_MAX:rt.INT32_MAX,a=!0):rr(e,["PgDoublePrecision","MySqlReal","MySqlDouble","SingleStoreReal","SingleStoreDouble","SQLiteReal"])?(n=o?0:rt.INT48_MIN,i=o?rt.INT48_UNSIGNED_MAX:rt.INT48_MAX):rr(e,["PgBigInt53","PgBigSerial53","MySqlBigInt53","MySqlSerial","SingleStoreBigInt53","SingleStoreSerial","SQLiteInteger"])?(n=(o=o||rr(e,["MySqlSerial","SingleStoreSerial"]))?0:Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER,a=!0):rr(e,["MySqlYear","SingleStoreYear"])?(n=1901,i=2155,a=!0):(n=Number.MIN_SAFE_INTEGER,i=Number.MAX_SAFE_INTEGER);let s=!0===r||r?.number?t.coerce.number():t.number();return s=s.min(n).max(i),a?s.int():s}(t,i,o):"bigint"===t.dataType?n=function(e,t,r){let n=e.getSQLType().includes("unsigned"),i=n?0n:rt.INT64_MIN,o=n?rt.INT64_UNSIGNED_MAX:rt.INT64_MAX;return(!0===r||r?.bigint?t.coerce.bigint():t.bigint()).min(i).max(o)}(t,i,o):"boolean"===t.dataType?n=!0===o||o.boolean?i.coerce.boolean():i.boolean():"date"===t.dataType?n=!0===o||o.date?i.coerce.date():i.date():"string"===t.dataType?n=function(e,t,r){let n,i;if(rr(e,["PgUUID"]))return t.string().uuid();let o=!1;rr(e,["PgVarchar","SQLiteText"])?n=e.length:rr(e,["MySqlVarChar","SingleStoreVarChar"])?n=e.length??rt.INT16_UNSIGNED_MAX:rr(e,["MySqlText","SingleStoreText"])&&(n="longtext"===e.textType?rt.INT32_UNSIGNED_MAX:"mediumtext"===e.textType?rt.INT24_UNSIGNED_MAX:"text"===e.textType?rt.INT16_UNSIGNED_MAX:rt.INT8_UNSIGNED_MAX),rr(e,["PgChar","MySqlChar","SingleStoreChar"])&&(n=e.length,o=!0),rr(e,["PgBinaryVector"])&&(i=/^[01]+$/,n=e.dimensions);let a=!0===r||r?.string?t.coerce.string():t.string();return a=i?a.regex(i):a,n&&o?a.length(n):n?a.max(n):a}(t,i,o):"json"===t.dataType?n=ri:"custom"===t.dataType?n=i.any():"buffer"===t.dataType&&(n=ro)),n||(n=i.any()),n}(l,i):re.z.any(),m="function"==typeof t?t(d):d;!n.never(l)&&(o[a]=m,l&&(n.nullable(l)&&(o[a]=o[a].nullable()),n.optional(l)&&(o[a]=o[a].optional())))}return re.z.object(o)})(ra(e),t??{},rs),ru=t8("users",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),username:tT("username").notNull().unique(),password:tT("password").notNull()});t8("oauth_users",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),email:tM("email").unique(),firstName:tM("first_name"),lastName:tM("last_name"),profileImageUrl:tM("profile_image_url"),createdAt:tD("created_at").defaultNow(),updatedAt:tD("updated_at").defaultNow()}),t8("sessions",{sid:tM("sid").primaryKey(),sess:eW("sess").notNull(),expire:tD("expire").notNull()},e=>[t4("IDX_session_expire").on(e.expire)]),t8("admin_whitelist",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),email:tM("email").notNull().unique(),addedAt:tD("added_at").defaultNow(),addedBy:tM("added_by"),notes:tT("notes")});let rd=t8("blog_posts",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),title:tT("title").notNull(),h1:tT("h1"),slug:tT("slug").notNull().unique(),content:tT("content").notNull(),excerpt:tT("excerpt"),author:tT("author").notNull().default("Economy Plumbing"),publishDate:tD("publish_date").notNull().defaultNow(),category:tT("category").notNull(),featuredImage:tT("featured_image"),jpegFeaturedImage:tT("jpeg_featured_image"),imageId:tM("image_id"),focalPointX:eM("focal_point_x"),focalPointY:eM("focal_point_y"),metaDescription:tT("meta_description"),published:eh("published").notNull().default(!0),isScheduled:eh("is_scheduled").notNull().default(!1),scheduledFor:tD("scheduled_for"),generatedByAI:eh("generated_by_ai").notNull().default(!1)},e=>({publishDateIdx:t4("blog_posts_publish_date_idx").on(e.publishDate),categoryIdx:t4("blog_posts_category_idx").on(e.category),publishedIdx:t4("blog_posts_published_idx").on(e.published),imageIdIdx:t4("blog_posts_image_id_idx").on(e.imageId),scheduledIdx:t4("blog_posts_scheduled_idx").on(e.isScheduled,e.scheduledFor)})),rc=t8("products",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),name:tT("name").notNull(),slug:tT("slug").notNull().unique(),description:tT("description").notNull(),price:eM("price").notNull(),category:tT("category").notNull(),sku:tT("sku"),image:tT("image"),stripeProductId:tT("stripe_product_id"),stripePriceId:tT("stripe_price_id"),features:tT("features").array(),active:eh("active").notNull().default(!0),serviceTitanMembershipTypeId:tT("service_titan_membership_type_id"),durationBillingId:tT("duration_billing_id"),serviceTitanEnabled:eh("service_titan_enabled").notNull().default(!1)},e=>({categoryIdx:t4("products_category_idx").on(e.category),activeIdx:t4("products_active_idx").on(e.active)})),rm=t8("contact_submissions",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),name:tT("name").notNull(),phone:tT("phone").notNull(),email:tT("email"),service:tT("service"),location:tT("location"),urgency:tT("urgency"),message:tT("message"),pageContext:tT("page_context"),submittedAt:tD("submitted_at").notNull().defaultNow()},e=>({submittedAtIdx:t4("contact_submissions_submitted_at_idx").on(e.submittedAt)}));t8("referral_codes",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),code:tT("code").notNull().unique(),customerId:eM("customer_id").notNull(),customerName:tT("customer_name").notNull(),customerPhone:tT("customer_phone"),createdAt:tD("created_at").notNull().defaultNow()},e=>({codeIdx:t4("referral_codes_code_idx").on(e.code),customerIdIdx:t4("referral_codes_customer_id_idx").on(e.customerId)}));let r_=t8("chatbot_conversations",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),sessionId:tM("session_id").notNull(),customerEmail:tM("customer_email"),customerPhone:tM("customer_phone"),startedAt:tD("started_at").notNull().defaultNow(),endedAt:tD("ended_at"),pageContext:tM("page_context"),handoffRequested:eh("handoff_requested").notNull().default(!1),handoffReason:tT("handoff_reason"),emailSent:eh("email_sent").notNull().default(!1),archived:eh("archived").notNull().default(!1),notes:tT("notes"),rating:eM("rating"),feedbackPositive:eM("feedback_positive").notNull().default(0),feedbackNegative:eM("feedback_negative").notNull().default(0)},e=>({sessionIdIdx:t4("chatbot_conversations_session_id_idx").on(e.sessionId),startedAtIdx:t4("chatbot_conversations_started_at_idx").on(e.startedAt),handoffIdx:t4("chatbot_conversations_handoff_idx").on(e.handoffRequested),archivedIdx:t4("chatbot_conversations_archived_idx").on(e.archived)})),rf=t8("chatbot_messages",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),conversationId:tM("conversation_id").notNull().references(()=>r_.id,{onDelete:"cascade"}),role:tM("role").notNull(),content:tT("content").notNull(),imageUrl:tT("image_url"),feedback:tM("feedback"),createdAt:tD("created_at").notNull().defaultNow()},e=>({conversationIdIdx:t4("chatbot_messages_conversation_id_idx").on(e.conversationId),createdAtIdx:t4("chatbot_messages_created_at_idx").on(e.createdAt)})),rp=t8("chatbot_analytics",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),question:tT("question").notNull(),category:tM("category"),count:eM("count").notNull().default(1),lastAsked:tD("last_asked").notNull().defaultNow(),suggestedAnswer:tT("suggested_answer"),isCommon:eh("is_common").notNull().default(!1)},e=>({categoryIdx:t4("chatbot_analytics_category_idx").on(e.category),countIdx:t4("chatbot_analytics_count_idx").on(e.count),isCommonIdx:t4("chatbot_analytics_is_common_idx").on(e.isCommon)})),rg=t8("chatbot_quick_responses",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),label:tM("label").notNull(),message:tT("message").notNull(),category:tM("category"),sortOrder:eM("sort_order").notNull().default(0),active:eh("active").notNull().default(!0),icon:tM("icon")},e=>({categoryIdx:t4("chatbot_quick_responses_category_idx").on(e.category),activeIdx:t4("chatbot_quick_responses_active_idx").on(e.active),sortOrderIdx:t4("chatbot_quick_responses_sort_order_idx").on(e.sortOrder)}));t8("referrals",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),referralCode:tT("referral_code"),referrerName:tT("referrer_name").notNull(),referrerPhone:tT("referrer_phone").notNull(),referrerCustomerId:eM("referrer_customer_id"),refereeName:tT("referee_name").notNull(),refereePhone:tT("referee_phone").notNull(),refereeEmail:tT("referee_email"),refereeCustomerId:eM("referee_customer_id"),status:tT("status").notNull().default("pending"),creditAmount:eM("credit_amount").notNull().default(2500),firstJobId:tT("first_job_id"),firstJobDate:tD("first_job_date"),firstJobAmount:eM("first_job_amount"),creditedAt:tD("credited_at"),creditedBy:tM("credited_by"),creditNotes:tT("credit_notes"),expiresAt:tD("expires_at"),submittedAt:tD("submitted_at").notNull().defaultNow(),contactedAt:tD("contacted_at"),updatedAt:tD("updated_at").notNull().defaultNow()},e=>({referrerCustomerIdIdx:t4("referrals_referrer_customer_id_idx").on(e.referrerCustomerId),refereeCustomerIdIdx:t4("referrals_referee_customer_id_idx").on(e.refereeCustomerId),statusIdx:t4("referrals_status_idx").on(e.status),submittedAtIdx:t4("referrals_submitted_at_idx").on(e.submittedAt)}));let rh=t8("referral_credit_usage",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerId:eM("customer_id").notNull(),jobId:tT("job_id").notNull(),jobNumber:tT("job_number").notNull(),amountUsed:eM("amount_used").notNull(),usedAt:tD("used_at").notNull(),processedAt:tD("processed_at").notNull().defaultNow()},e=>({customerIdIdx:t4("referral_credit_usage_customer_id_idx").on(e.customerId),jobIdIdx:t7("referral_credit_usage_job_id_idx").on(e.jobId),usedAtIdx:t4("referral_credit_usage_used_at_idx").on(e.usedAt)})),ry=t8("referee_welcome_emails",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),referralId:tM("referral_id").notNull(),refereeName:tT("referee_name").notNull(),refereeEmail:tT("referee_email").notNull(),referrerName:tT("referrer_name").notNull(),subject:tT("subject").notNull(),htmlContent:tT("html_content").notNull(),plainTextContent:tT("plain_text_content").notNull(),status:tT("status").notNull().default("queued"),sentAt:tD("sent_at"),failureReason:tT("failure_reason"),emailOpens:eM("email_opens").notNull().default(0),linkClicks:eM("link_clicks").notNull().default(0),generatedByAI:eh("generated_by_ai").notNull().default(!0),aiPrompt:tT("ai_prompt"),createdAt:tD("created_at").notNull().defaultNow()},e=>({referralIdIdx:t4("referee_welcome_emails_referral_id_idx").on(e.referralId),statusIdx:t4("referee_welcome_emails_status_idx").on(e.status),sentAtIdx:t4("referee_welcome_emails_sent_at_idx").on(e.sentAt),refereeEmailIdx:t4("referee_welcome_emails_referee_email_idx").on(e.refereeEmail)})),rx=t8("referrer_thank_you_emails",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),referralId:tM("referral_id").notNull(),referrerName:tT("referrer_name").notNull(),referrerEmail:tT("referrer_email").notNull(),referrerCustomerId:eM("referrer_customer_id").notNull(),refereeName:tT("referee_name").notNull(),subject:tT("subject").notNull(),htmlContent:tT("html_content").notNull(),plainTextContent:tT("plain_text_content").notNull(),status:tT("status").notNull().default("queued"),approvedAt:tD("approved_at"),approvedBy:tM("approved_by"),sentAt:tD("sent_at"),failureReason:tT("failure_reason"),emailOpens:eM("email_opens").notNull().default(0),linkClicks:eM("link_clicks").notNull().default(0),generatedByAI:eh("generated_by_ai").notNull().default(!0),aiPrompt:tT("ai_prompt"),createdAt:tD("created_at").notNull().defaultNow()},e=>({referralIdIdx:t4("referrer_thank_you_emails_referral_id_idx").on(e.referralId),statusIdx:t4("referrer_thank_you_emails_status_idx").on(e.status),sentAtIdx:t4("referrer_thank_you_emails_sent_at_idx").on(e.sentAt),referrerEmailIdx:t4("referrer_thank_you_emails_referrer_email_idx").on(e.referrerEmail),referrerCustomerIdIdx:t4("referrer_thank_you_emails_referrer_customer_id_idx").on(e.referrerCustomerId)})),rb=t8("referrer_success_emails",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),referralId:tM("referral_id").notNull(),referrerName:tT("referrer_name").notNull(),referrerEmail:tT("referrer_email").notNull(),referrerCustomerId:eM("referrer_customer_id").notNull(),refereeName:tT("referee_name").notNull(),creditAmount:eM("credit_amount").notNull(),creditExpiresAt:tD("credit_expires_at").notNull(),currentBalance:eM("current_balance"),subject:tT("subject").notNull(),htmlContent:tT("html_content").notNull(),plainTextContent:tT("plain_text_content").notNull(),status:tT("status").notNull().default("queued"),approvedAt:tD("approved_at"),approvedBy:tM("approved_by"),sentAt:tD("sent_at"),failureReason:tT("failure_reason"),emailOpens:eM("email_opens").notNull().default(0),linkClicks:eM("link_clicks").notNull().default(0),generatedByAI:eh("generated_by_ai").notNull().default(!0),aiPrompt:tT("ai_prompt"),createdAt:tD("created_at").notNull().defaultNow()},e=>({referralIdIdx:t4("referrer_success_emails_referral_id_idx").on(e.referralId),statusIdx:t4("referrer_success_emails_status_idx").on(e.status),sentAtIdx:t4("referrer_success_emails_sent_at_idx").on(e.sentAt),referrerEmailIdx:t4("referrer_success_emails_referrer_email_idx").on(e.referrerEmail),referrerCustomerIdIdx:t4("referrer_success_emails_referrer_customer_id_idx").on(e.referrerCustomerId)})),rN=t8("email_preferences",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),email:tT("email").notNull().unique(),customerId:eM("customer_id"),marketingEmails:eh("marketing_emails").notNull().default(!0),reviewRequests:eh("review_requests").notNull().default(!0),referralEmails:eh("referral_emails").notNull().default(!0),serviceReminders:eh("service_reminders").notNull().default(!0),transactionalOnly:eh("transactional_only").notNull().default(!1),unsubscribeToken:tT("unsubscribe_token").notNull().unique(),optedOutAt:tD("opted_out_at"),fullyUnsubscribedAt:tD("fully_unsubscribed_at"),lastUpdated:tD("last_updated").notNull().defaultNow(),createdAt:tD("created_at").notNull().defaultNow()},e=>({emailIdx:t4("email_preferences_email_idx").on(e.email),customerIdIdx:t4("email_preferences_customer_id_idx").on(e.customerId),tokenIdx:t4("email_preferences_token_idx").on(e.unsubscribeToken)})),rI=t8("pending_referrals",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),referrerCustomerId:eM("referrer_customer_id").notNull(),referrerName:tT("referrer_name").notNull(),refereeName:tT("referee_name").notNull(),refereeEmail:tT("referee_email"),refereePhone:tT("referee_phone"),trackingCookie:tT("tracking_cookie").unique(),convertedToReferral:eh("converted_to_referral").notNull().default(!1),referralId:tM("referral_id"),capturedAt:tD("captured_at").notNull().defaultNow(),convertedAt:tD("converted_at"),expiresAt:tD("expires_at").notNull()},e=>({referrerIdIdx:t4("pending_referrals_referrer_id_idx").on(e.referrerCustomerId),emailIdx:t4("pending_referrals_email_idx").on(e.refereeEmail),phoneIdx:t4("pending_referrals_phone_idx").on(e.refereePhone),cookieIdx:t4("pending_referrals_cookie_idx").on(e.trackingCookie),convertedIdx:t4("pending_referrals_converted_idx").on(e.convertedToReferral)})),rv=t8("conversion_events",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),eventType:tT("event_type").notNull(),source:tT("source"),utmSource:tT("utm_source"),utmMedium:tT("utm_medium"),utmCampaign:tT("utm_campaign"),utmContent:tT("utm_content"),metadata:eW("metadata"),customerId:eM("customer_id"),email:tT("email"),createdAt:tD("created_at").notNull().defaultNow()},e=>({eventTypeIdx:t4("conversion_events_event_type_idx").on(e.eventType),createdAtIdx:t4("conversion_events_created_at_idx").on(e.createdAt),customerIdIdx:t4("conversion_events_customer_id_idx").on(e.customerId)})),rw=t8("customer_segments",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),name:tT("name").notNull().unique(),description:tT("description"),segmentType:tT("segment_type").notNull(),aiPrompt:tT("ai_prompt"),aiCriteria:eW("ai_criteria"),criteria:eW("criteria"),customerCount:eM("customer_count").notNull().default(0),lastRefreshedAt:tD("last_refreshed_at"),createdAt:tD("created_at").notNull().defaultNow(),updatedAt:tD("updated_at").notNull().defaultNow()},e=>({nameIdx:t4("customer_segments_name_idx").on(e.name),typeIdx:t4("customer_segments_type_idx").on(e.segmentType)})),rA=t8("segment_membership",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),segmentId:tM("segment_id").notNull().references(()=>rw.id,{onDelete:"cascade"}),customerId:eM("customer_id").notNull(),addedAt:tD("added_at").notNull().defaultNow(),addedBy:tM("added_by")},e=>({segmentCustomerIdx:t7("segment_membership_segment_customer_idx").on(e.segmentId,e.customerId),customerIdIdx:t4("segment_membership_customer_id_idx").on(e.customerId)})),rS=t8("custom_email_campaigns",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),name:tT("name").notNull().unique(),description:tT("description"),campaignType:tT("campaign_type").notNull(),segmentId:tM("segment_id").references(()=>rw.id,{onDelete:"set null"}),targetCustomerIds:eM("target_customer_ids").array(),trackingPhoneNumber:tT("tracking_phone_number"),utmCampaign:tT("utm_campaign"),utmSource:tT("utm_source").default("email"),utmMedium:tT("utm_medium").default("campaign"),status:tT("status").notNull().default("draft"),approvedBy:tM("approved_by"),approvedAt:tD("approved_at"),scheduledFor:tD("scheduled_for"),dripIntervalDays:eM("drip_interval_days").array(),pauseOnEngagement:eh("pause_on_engagement").notNull().default(!1),generatedByAI:eh("generated_by_ai").notNull().default(!1),aiPrompt:tT("ai_prompt"),aiGoal:tT("ai_goal"),totalSent:eM("total_sent").notNull().default(0),totalDelivered:eM("total_delivered").notNull().default(0),totalOpened:eM("total_opened").notNull().default(0),totalClicked:eM("total_clicked").notNull().default(0),totalUnsubscribed:eM("total_unsubscribed").notNull().default(0),totalBounced:eM("total_bounced").notNull().default(0),totalCalls:eM("total_calls").notNull().default(0),totalJobsBooked:eM("total_jobs_booked").notNull().default(0),totalRevenue:eM("total_revenue").notNull().default(0),dailySendLimit:eM("daily_send_limit").notNull().default(500),createdAt:tD("created_at").notNull().defaultNow(),updatedAt:tD("updated_at").notNull().defaultNow(),startedAt:tD("started_at"),completedAt:tD("completed_at")},e=>({nameIdx:t4("custom_campaigns_name_idx").on(e.name),statusIdx:t4("custom_campaigns_status_idx").on(e.status),segmentIdIdx:t4("custom_campaigns_segment_id_idx").on(e.segmentId),scheduledForIdx:t4("custom_campaigns_scheduled_for_idx").on(e.scheduledFor)})),rT=t8("custom_campaign_emails",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),campaignId:tM("campaign_id").notNull().references(()=>rS.id,{onDelete:"cascade"}),sequenceNumber:eM("sequence_number").notNull().default(1),daysAfterStart:eM("days_after_start").notNull().default(0),subject:tT("subject").notNull(),preheader:tT("preheader"),htmlContent:tT("html_content").notNull(),plainTextContent:tT("plain_text_content").notNull(),generatedByAI:eh("generated_by_ai").notNull().default(!1),aiStrategy:tT("ai_strategy"),aiPrompt:tT("ai_prompt"),isVariant:eh("is_variant").notNull().default(!1),variantOf:tM("variant_of"),testPercentage:eM("test_percentage"),totalSent:eM("total_sent").notNull().default(0),totalOpened:eM("total_opened").notNull().default(0),totalClicked:eM("total_clicked").notNull().default(0),enabled:eh("enabled").notNull().default(!0),createdAt:tD("created_at").notNull().defaultNow(),updatedAt:tD("updated_at").notNull().defaultNow()},e=>({campaignSequenceIdx:t4("custom_campaign_emails_campaign_sequence_idx").on(e.campaignId,e.sequenceNumber),variantOfIdx:t4("custom_campaign_emails_variant_of_idx").on(e.variantOf)})),rP=t8("custom_campaign_send_log",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),campaignId:tM("campaign_id").notNull().references(()=>rS.id,{onDelete:"cascade"}),campaignEmailId:tM("campaign_email_id").notNull().references(()=>rT.id,{onDelete:"cascade"}),customerId:eM("customer_id").notNull(),recipientEmail:tT("recipient_email").notNull(),recipientName:tT("recipient_name").notNull(),resendEmailId:tT("resend_email_id"),resendStatus:tT("resend_status"),sentAt:tD("sent_at").notNull().defaultNow(),deliveredAt:tD("delivered_at"),openedAt:tD("opened_at"),clickedAt:tD("clicked_at"),bouncedAt:tD("bounced_at"),complainedAt:tD("complained_at"),unsubscribedAt:tD("unsubscribed_at"),openCount:eM("open_count").notNull().default(0),clickCount:eM("click_count").notNull().default(0),leadToJobBooking:eh("lead_to_job_booking").notNull().default(!1),jobId:eu("job_id",{mode:"number"}),revenueAttributed:eM("revenue_attributed").notNull().default(0),errorMessage:tT("error_message")},e=>({campaignCustomerIdx:t4("custom_send_log_campaign_customer_idx").on(e.campaignId,e.customerId),campaignEmailIdx:t4("custom_send_log_campaign_email_idx").on(e.campaignEmailId),sentAtIdx:t4("custom_send_log_sent_at_idx").on(e.sentAt),resendEmailIdIdx:t4("custom_send_log_resend_id_idx").on(e.resendEmailId),openedAtIdx:t4("custom_send_log_opened_at_idx").on(e.openedAt),clickedAtIdx:t4("custom_send_log_clicked_at_idx").on(e.clickedAt)})),rC=t8("customer_success_stories",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerName:tT("customer_name").notNull(),email:tT("email"),phone:tT("phone"),story:tT("story").notNull(),beforePhotoUrl:tT("before_photo_url").notNull(),afterPhotoUrl:tT("after_photo_url").notNull(),collagePhotoUrl:tT("collage_photo_url"),jpegCollagePhotoUrl:tT("jpeg_collage_photo_url"),beforeFocalX:eM("before_focal_x"),beforeFocalY:eM("before_focal_y"),afterFocalX:eM("after_focal_x"),afterFocalY:eM("after_focal_y"),serviceCategory:tT("service_category").notNull(),location:tT("location").notNull(),approved:eh("approved").notNull().default(!1),submittedAt:tD("submitted_at").notNull().defaultNow()},e=>({submittedAtIdx:t4("customer_success_stories_submitted_at_idx").on(e.submittedAt),approvedIdx:t4("customer_success_stories_approved_idx").on(e.approved),categoryIdx:t4("customer_success_stories_category_idx").on(e.serviceCategory)})),rj=t8("service_areas",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),cityName:tT("city_name").notNull(),slug:tT("slug").notNull().unique(),region:tT("region").notNull(),metaDescription:tT("meta_description").notNull(),introContent:tT("intro_content").notNull(),neighborhoods:tT("neighborhoods").array(),landmarks:tT("landmarks").array(),localPainPoints:tT("local_pain_points").array(),seasonalIssues:tT("seasonal_issues").array(),uniqueFaqs:tT("unique_faqs").array(),testimonials:tT("testimonials").array(),population:tT("population"),zipCodes:tT("zip_codes").array(),latitude:tT("latitude"),longitude:tT("longitude")},e=>({regionIdx:t4("service_areas_region_idx").on(e.region)}));rl(ru).pick({username:!0,password:!0}),rl(rd).omit({id:!0,publishDate:!0}),rl(rc).omit({id:!0});let rB=rl(rm).omit({id:!0,submittedAt:!0});rl(rC).omit({id:!0,submittedAt:!0,approved:!0});let rk=t8("google_reviews",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),authorName:tT("author_name").notNull(),authorUrl:tT("author_url"),profilePhotoUrl:tT("profile_photo_url"),rating:eM("rating").notNull(),text:tT("text").notNull(),relativeTime:tT("relative_time").notNull(),timestamp:eM("timestamp").notNull(),fetchedAt:tD("fetched_at").notNull().defaultNow(),categories:tT("categories").array().notNull().default(Y`ARRAY[]::text[]`),source:tT("source").notNull().default("places_api"),reviewId:tT("review_id"),replyText:tT("reply_text"),repliedAt:tD("replied_at"),canReply:eh("can_reply").notNull().default(!1)},e=>({ratingIdx:t4("google_reviews_rating_idx").on(e.rating),timestampIdx:t4("google_reviews_timestamp_idx").on(e.timestamp),sourceIdx:t4("google_reviews_source_idx").on(e.source),repliedIdx:t4("google_reviews_replied_idx").on(e.repliedAt)})),rE=t8("google_oauth_tokens",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),service:tT("service").notNull().default("google_my_business"),accessToken:tT("access_token").notNull(),refreshToken:tT("refresh_token").notNull(),expiryDate:tD("expiry_date").notNull(),accountId:tT("account_id"),locationId:tT("location_id"),updatedAt:tD("updated_at").notNull().defaultNow()}),rq=t8("zoom_oauth_tokens",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),accessToken:tT("access_token").notNull(),refreshToken:tT("refresh_token").notNull(),expiresAt:tD("expires_at").notNull(),scope:tT("scope"),tokenType:tT("token_type").notNull().default("bearer"),createdAt:tD("created_at").notNull().defaultNow(),updatedAt:tD("updated_at").notNull().defaultNow()}),rD=t8("pending_purchases",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),paymentIntentId:tT("payment_intent_id").notNull().unique(),productId:tM("product_id").notNull(),customerType:tT("customer_type").notNull(),customerName:tT("customer_name"),companyName:tT("company_name"),contactPersonName:tT("contact_person_name"),locationPhone:tT("location_phone"),extension:tT("extension"),locationName:tT("location_name"),street:tT("street").notNull(),city:tT("city").notNull(),state:tT("state").notNull(),zip:tT("zip").notNull(),billingName:tT("billing_name"),billingStreet:tT("billing_street"),billingCity:tT("billing_city"),billingState:tT("billing_state"),billingZip:tT("billing_zip"),phone:tT("phone").notNull(),email:tT("email").notNull(),createdAt:tD("created_at").notNull().defaultNow()},e=>({paymentIntentIdIdx:t4("pending_purchases_payment_intent_id_idx").on(e.paymentIntentId)})),rF=t8("service_titan_memberships",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerType:tT("customer_type").notNull(),customerName:tT("customer_name"),companyName:tT("company_name"),contactPersonName:tT("contact_person_name"),locationPhone:tT("location_phone"),extension:tT("extension"),locationName:tT("location_name"),street:tT("street").notNull(),city:tT("city").notNull(),state:tT("state").notNull(),zip:tT("zip").notNull(),billingName:tT("billing_name"),billingStreet:tT("billing_street"),billingCity:tT("billing_city"),billingState:tT("billing_state"),billingZip:tT("billing_zip"),phone:tT("phone").notNull(),email:tT("email").notNull(),serviceTitanMembershipTypeId:tT("service_titan_membership_type_id").notNull(),serviceTitanCustomerId:tT("service_titan_customer_id"),serviceTitanMembershipId:tT("service_titan_membership_id"),serviceTitanInvoiceId:tT("service_titan_invoice_id"),productId:tM("product_id").notNull(),stripePaymentIntentId:tT("stripe_payment_intent_id"),stripeCustomerId:tT("stripe_customer_id"),amount:eM("amount").notNull(),syncStatus:tT("sync_status").notNull().default("pending"),syncError:tT("sync_error"),lastSyncAttempt:tD("last_sync_attempt"),syncedAt:tD("synced_at"),purchasedAt:tD("purchased_at").notNull().defaultNow()},e=>({customerTypeIdx:t4("st_memberships_customer_type_idx").on(e.customerType),syncStatusIdx:t4("st_memberships_sync_status_idx").on(e.syncStatus),serviceTitanCustomerIdIdx:t4("st_memberships_st_customer_id_idx").on(e.serviceTitanCustomerId),productIdIdx:t4("st_memberships_product_id_idx").on(e.productId)})),rz=t8("service_titan_customers",{id:eM("id").primaryKey(),name:tT("name").notNull(),type:tT("type").notNull(),email:tT("email"),phone:tT("phone"),mobilePhone:tT("mobile_phone"),street:tT("street"),city:tT("city"),state:tT("state"),zip:tT("zip"),active:eh("active").notNull().default(!0),balance:tT("balance"),jobCount:eM("job_count").notNull().default(0),lastServiceDate:tD("last_service_date"),lastServiceType:tT("last_service_type"),lifetimeValue:eM("lifetime_value").notNull().default(0),customerTags:tT("customer_tags").array(),preferredContactMethod:tT("preferred_contact_method"),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({activeIdx:t4("st_customers_active_idx").on(e.active),emailIdx:t4("st_customers_email_idx").on(e.email),phoneIdx:t4("st_customers_phone_idx").on(e.phone),mobilePhoneIdx:t4("st_customers_mobile_phone_idx").on(e.mobilePhone),typeIdx:t4("st_customers_type_idx").on(e.type),jobCountIdx:t4("st_customers_job_count_idx").on(e.jobCount),lastSyncedIdx:t4("st_customers_last_synced_idx").on(e.lastSyncedAt),lastServiceDateIdx:t4("st_customers_last_service_date_idx").on(e.lastServiceDate),lifetimeValueIdx:t4("st_customers_lifetime_value_idx").on(e.lifetimeValue),preferredContactIdx:t4("st_customers_preferred_contact_idx").on(e.preferredContactMethod)})),rU=t8("service_titan_contacts",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerId:eM("customer_id").notNull(),contactType:tT("contact_type").notNull(),value:tT("value").notNull(),normalizedValue:tT("normalized_value").notNull(),isPrimary:eh("is_primary").notNull().default(!1),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({customerIdIdx:t4("st_contacts_customer_id_idx").on(e.customerId),normalizedValueIdx:t4("st_contacts_normalized_value_idx").on(e.normalizedValue),contactTypeIdx:t4("st_contacts_contact_type_idx").on(e.contactType)}));t8("customers_xlsx",{id:eM("id").primaryKey(),name:tT("name").notNull(),type:tT("type").notNull(),email:tT("email"),phone:tT("phone"),mobilePhone:tT("mobile_phone"),street:tT("street"),city:tT("city"),state:tT("state"),zip:tT("zip"),active:eh("active").notNull().default(!0),balance:tT("balance"),jobCount:eM("job_count").notNull().default(0),lastServiceDate:tD("last_service_date"),lastServiceType:tT("last_service_type"),lifetimeValue:eM("lifetime_value").notNull().default(0),customerTags:tT("customer_tags").array(),preferredContactMethod:tT("preferred_contact_method"),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({activeIdx:t4("customers_xlsx_active_idx").on(e.active),emailIdx:t4("customers_xlsx_email_idx").on(e.email),phoneIdx:t4("customers_xlsx_phone_idx").on(e.phone),mobilePhoneIdx:t4("customers_xlsx_mobile_phone_idx").on(e.mobilePhone),typeIdx:t4("customers_xlsx_type_idx").on(e.type),jobCountIdx:t4("customers_xlsx_job_count_idx").on(e.jobCount),lastSyncedIdx:t4("customers_xlsx_last_synced_idx").on(e.lastSyncedAt),lastServiceDateIdx:t4("customers_xlsx_last_service_date_idx").on(e.lastServiceDate),lifetimeValueIdx:t4("customers_xlsx_lifetime_value_idx").on(e.lifetimeValue),preferredContactIdx:t4("customers_xlsx_preferred_contact_idx").on(e.preferredContactMethod)})),t8("contacts_xlsx",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerId:eM("customer_id").notNull(),contactType:tT("contact_type").notNull(),value:tT("value").notNull(),normalizedValue:tT("normalized_value").notNull(),isPrimary:eh("is_primary").notNull().default(!1),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({customerIdIdx:t4("contacts_xlsx_customer_id_idx").on(e.customerId),normalizedValueIdx:t4("contacts_xlsx_normalized_value_idx").on(e.normalizedValue),contactTypeIdx:t4("contacts_xlsx_contact_type_idx").on(e.contactType)}));let rL=t8("mailgun_webhook_logs",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),receivedAt:tD("received_at").notNull().defaultNow(),messageId:tT("message_id"),sender:tT("sender"),recipient:tT("recipient"),subject:tT("subject"),signatureVerified:eh("signature_verified").notNull().default(!1),timestampAge:eM("timestamp_age"),attachmentCount:eM("attachment_count").notNull().default(0),xlsxFound:eh("xlsx_found").notNull().default(!1),xlsxFileName:tT("xlsx_file_name"),xlsxSize:eM("xlsx_size"),status:tT("status").notNull(),errorMessage:tT("error_message"),importId:tM("import_id"),processingTime:eM("processing_time")},e=>({receivedAtIdx:t4("mailgun_webhook_logs_received_at_idx").on(e.receivedAt),statusIdx:t4("mailgun_webhook_logs_status_idx").on(e.status),messageIdIdx:t4("mailgun_webhook_logs_message_id_idx").on(e.messageId)})),rO=t8("customer_data_imports",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),fileName:tT("file_name").notNull(),importedBy:tT("imported_by"),importSource:tT("import_source").notNull().default("manual"),totalRows:eM("total_rows").notNull().default(0),customersImported:eM("customers_imported").notNull().default(0),contactsImported:eM("contacts_imported").notNull().default(0),errors:eM("errors").notNull().default(0),totalLifetimeRevenue:eM("total_lifetime_revenue").notNull().default(0),customersWithRevenue:eM("customers_with_revenue").notNull().default(0),avgLifetimeRevenue:eM("avg_lifetime_revenue").notNull().default(0),maxLifetimeRevenue:eM("max_lifetime_revenue").notNull().default(0),newCustomers:eM("new_customers").notNull().default(0),revenueChange:eM("revenue_change").notNull().default(0),status:tT("status").notNull().default("processing"),errorMessage:tT("error_message"),startedAt:tD("started_at").notNull().defaultNow(),completedAt:tD("completed_at"),processingTime:eM("processing_time")},e=>({importSourceIdx:t4("customer_imports_source_idx").on(e.importSource),statusIdx:t4("customer_imports_status_idx").on(e.status),startedAtIdx:t4("customer_imports_started_at_idx").on(e.startedAt)})),rM=t8("tracking_numbers",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),channelKey:tT("channel_key").notNull().unique(),channelName:tT("channel_name").notNull(),displayNumber:tT("display_number").notNull(),rawNumber:tT("raw_number").notNull(),telLink:tT("tel_link").notNull(),detectionRules:tT("detection_rules").notNull(),isActive:eh("is_active").notNull().default(!0),isDefault:eh("is_default").notNull().default(!1),sortOrder:eM("sort_order").notNull().default(0),createdAt:tD("created_at").notNull().defaultNow(),updatedAt:tD("updated_at").notNull().defaultNow()},e=>({channelKeyIdx:t4("tracking_numbers_channel_key_idx").on(e.channelKey),isActiveIdx:t4("tracking_numbers_is_active_idx").on(e.isActive),isDefaultIdx:t4("tracking_numbers_is_default_idx").on(e.isDefault)}));rl(rj).omit({id:!0}),rl(rM).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rk).omit({id:!0,fetchedAt:!0}),rl(rE).omit({id:!0,updatedAt:!0}),rl(rq).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rD).omit({id:!0,createdAt:!0}),rl(rF).omit({id:!0,purchasedAt:!0,lastSyncAttempt:!0,syncedAt:!0}),rl(t8("companycam_photos",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),companyCamPhotoId:tT("companycam_photo_id").unique(),companyCamProjectId:tT("companycam_project_id"),photoUrl:tT("photo_url").notNull(),thumbnailUrl:tT("thumbnail_url"),source:tT("source").notNull().default("companycam"),category:tT("category").notNull(),aiDescription:tT("ai_description"),tags:tT("tags").array(),qualityAnalyzed:eh("quality_analyzed").notNull().default(!1),isGoodQuality:eh("is_good_quality"),shouldKeep:eh("should_keep"),qualityScore:eM("quality_score"),qualityReasoning:tT("quality_reasoning"),analyzedAt:tD("analyzed_at"),focalPointX:eM("focal_point_x"),focalPointY:eM("focal_point_y"),focalPointReason:tT("focal_point_reason"),suggestedBlogTopic:tT("suggested_blog_topic"),blogTopicAnalyzed:eh("blog_topic_analyzed").notNull().default(!1),blogTopicAnalyzedAt:tD("blog_topic_analyzed_at"),uploadedAt:tD("uploaded_at"),fetchedAt:tD("fetched_at").notNull().defaultNow(),usedInBlogPostId:tM("used_in_blog_post_id"),usedInPageUrl:tT("used_in_page_url")},e=>({categoryIdx:t4("companycam_photos_category_idx").on(e.category),projectIdIdx:t4("companycam_photos_project_id_idx").on(e.companyCamProjectId),qualityIdx:t4("companycam_photos_quality_idx").on(e.shouldKeep),blogTopicIdx:t4("companycam_photos_blog_topic_idx").on(e.blogTopicAnalyzed,e.usedInBlogPostId)}))).omit({id:!0,fetchedAt:!0}),rl(t8("before_after_composites",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),beforePhotoId:tM("before_photo_id").notNull(),afterPhotoId:tM("after_photo_id").notNull(),compositeUrl:tT("composite_url").notNull(),jpegCompositeUrl:tT("jpeg_composite_url"),caption:tT("caption"),category:tT("category").notNull(),jobId:tT("job_id"),createdAt:tD("created_at").notNull().defaultNow(),postedToFacebook:eh("posted_to_facebook").notNull().default(!1),postedToInstagram:eh("posted_to_instagram").notNull().default(!1),facebookPostId:tT("facebook_post_id"),instagramPostId:tT("instagram_post_id"),postedAt:tD("posted_at")},e=>({categoryIdx:t4("before_after_composites_category_idx").on(e.category),postedIdx:t4("before_after_composites_posted_idx").on(e.postedToFacebook,e.postedToInstagram)}))).omit({id:!0,createdAt:!0});let rV=t8("system_settings",{key:tT("key").primaryKey(),value:tT("value"),updatedAt:tD("updated_at").notNull().defaultNow()}),rR=t8("not_found_errors",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),requestedUrl:tT("requested_url").notNull(),referrer:tT("referrer"),userAgent:tT("user_agent"),ipAddress:tT("ip_address"),timestamp:tD("timestamp").notNull().defaultNow(),emailSent:eh("email_sent").notNull().default(!1)},e=>({timestampIdx:t4("not_found_errors_timestamp_idx").on(e.timestamp),urlIdx:t4("not_found_errors_url_idx").on(e.requestedUrl)})),rK=t8("imported_photos",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),url:tT("url").notNull(),category:tT("category").notNull(),isProductionQuality:eh("is_production_quality").notNull().default(!0),aiQuality:eM("ai_quality"),aiQualityScore:eM("ai_quality_score"),qualityReason:tT("quality_reason"),aiDescription:tT("ai_description"),aiTags:tT("ai_tags").array(),focalPointX:eM("focal_point_x"),focalPointY:eM("focal_point_y"),gdriveFileId:tT("gdrive_file_id").unique(),usedInBlog:eh("used_in_blog").notNull().default(!1),usedInBlogPostId:tT("used_in_blog_post_id"),usedInPageUrl:tT("used_in_page_url"),uploadDate:tD("upload_date"),createdAt:tD("created_at").notNull().defaultNow(),fetchedAt:tD("fetched_at").notNull().defaultNow()},e=>({categoryIdx:t4("imported_photos_category_idx").on(e.category),usedIdx:t4("imported_photos_used_idx").on(e.usedInBlog),qualityIdx:t4("imported_photos_quality_idx").on(e.isProductionQuality),gdriveIdx:t4("imported_photos_gdrive_idx").on(e.gdriveFileId)}));rl(rV),rl(rR).omit({id:!0,timestamp:!0}),rl(rK).omit({id:!0,fetchedAt:!0}),rl(t8("commercial_customers",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),name:tT("name").notNull(),logoUrl:tT("logo_url").notNull(),websiteUrl:tT("website_url"),location:tT("location"),industry:tT("industry"),customerSince:eM("customer_since"),displayOrder:eM("display_order").notNull().default(0),active:eh("active").notNull().default(!0),addedAt:tD("added_at").notNull().defaultNow()},e=>({activeIdx:t4("commercial_customers_active_idx").on(e.active),displayOrderIdx:t4("commercial_customers_display_order_idx").on(e.displayOrder)}))).omit({id:!0,addedAt:!0}),t8("portal_analytics",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),searchType:tT("search_type").notNull(),searchValue:tT("search_value").notNull(),found:eh("found").notNull(),customerId:eM("customer_id"),timestamp:tD("timestamp").notNull().defaultNow()},e=>({timestampIdx:t4("portal_analytics_timestamp_idx").on(e.timestamp),foundIdx:t4("portal_analytics_found_idx").on(e.found)})),t8("phone_login_lookups",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),lookupToken:tT("lookup_token").notNull().unique(),phone:tT("phone").notNull(),email:tT("email").notNull(),customerId:eM("customer_id").notNull(),expiresAt:tD("expires_at",{withTimezone:!0}).notNull(),createdAt:tD("created_at").defaultNow()},e=>({tokenIdx:t4("phone_login_lookups_token_idx").on(e.lookupToken),expiresIdx:t4("phone_login_lookups_expires_idx").on(e.expiresAt)})),t8("portal_verifications",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),verificationType:tT("verification_type").notNull(),contactValue:tT("contact_value").notNull(),code:tT("code").notNull(),customerIds:eM("customer_ids").array().notNull(),verified:eh("verified").notNull().default(!1),verifiedAt:tD("verified_at",{withTimezone:!0}),expiresAt:tD("expires_at",{withTimezone:!0}).notNull(),attempts:eM("attempts").notNull().default(0),createdAt:tD("created_at",{withTimezone:!0}).notNull().defaultNow()},e=>({codeIdx:t4("portal_verifications_code_idx").on(e.code),contactIdx:t4("portal_verifications_contact_idx").on(e.contactValue),expiresIdx:t4("portal_verifications_expires_idx").on(e.expiresAt)})),rl(t8("page_metadata",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),path:tT("path").notNull().unique(),title:tT("title").notNull(),description:tT("description").notNull(),keywords:tT("keywords"),canonicalUrl:tT("canonical_url"),ogImage:tT("og_image"),updatedAt:tD("updated_at").notNull().defaultNow(),createdAt:tD("created_at").notNull().defaultNow()},e=>({pathIdx:t4("page_metadata_path_idx").on(e.path)}))).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rz).omit({lastSyncedAt:!0}),rl(rU).omit({id:!0,lastSyncedAt:!0}),rl(rL).omit({id:!0,receivedAt:!0}),rl(rO).omit({id:!0,startedAt:!0,completedAt:!0}),rl(t8("otp_verifications",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),phoneNumber:tT("phone_number").notNull(),otp:tT("otp").notNull(),verified:eh("verified").notNull().default(!1),expiresAt:tD("expires_at").notNull(),createdAt:tD("created_at").notNull().defaultNow()},e=>({phoneNumberIdx:t4("otp_verifications_phone_number_idx").on(e.phoneNumber),expiresAtIdx:t4("otp_verifications_expires_at_idx").on(e.expiresAt)}))).omit({id:!0,createdAt:!0}),rl(t8("custom_reviews",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerName:tT("customer_name").notNull(),email:tT("email"),phone:tT("phone"),serviceTitanCustomerId:eM("service_titan_customer_id"),rating:eM("rating").notNull(),title:tT("title"),text:tT("text").notNull(),serviceType:tT("service_type"),jobDate:tD("job_date"),photoUrls:tT("photo_urls").array().default(Y`ARRAY[]::text[]`),status:tT("status").notNull().default("pending"),replyText:tT("reply_text"),repliedAt:tD("replied_at"),moderatedBy:tM("moderated_by"),moderatedAt:tD("moderated_at"),moderationNotes:tT("moderation_notes"),featured:eh("featured").notNull().default(!1),displayOnWebsite:eh("display_on_website").notNull().default(!0),submittedAt:tD("submitted_at").notNull().defaultNow(),ipAddress:tT("ip_address"),userAgent:tT("user_agent"),source:tT("source").notNull().default("website"),requestId:tM("request_id")},e=>({statusIdx:t4("custom_reviews_status_idx").on(e.status),ratingIdx:t4("custom_reviews_rating_idx").on(e.rating),submittedAtIdx:t4("custom_reviews_submitted_at_idx").on(e.submittedAt),featuredIdx:t4("custom_reviews_featured_idx").on(e.featured),customerIdIdx:t4("custom_reviews_customer_id_idx").on(e.serviceTitanCustomerId)}))).omit({id:!0,submittedAt:!0,moderatedBy:!0,moderatedAt:!0});let rQ=t8("review_platforms",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),platform:tT("platform").notNull().unique(),displayName:tT("display_name").notNull(),url:tT("url").notNull(),enabled:eh("enabled").notNull().default(!0),sortOrder:eM("sort_order").notNull().default(0),icon:tT("icon"),description:tT("description"),updatedAt:tD("updated_at").notNull().defaultNow()});t8("service_titan_jobs_staging",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),jobId:eu("job_id",{mode:"number"}).notNull(),rawData:eW("raw_data").notNull(),fetchedAt:tD("fetched_at").notNull().defaultNow(),processedAt:tD("processed_at"),processingError:tT("processing_error")},e=>({jobIdIdx:t4("st_jobs_staging_job_id_idx").on(e.jobId),fetchedAtIdx:t4("st_jobs_staging_fetched_at_idx").on(e.fetchedAt),processedAtIdx:t4("st_jobs_staging_processed_at_idx").on(e.processedAt)})),t8("service_titan_jobs",{id:eu("id",{mode:"number"}).primaryKey(),jobNumber:tM("job_number").notNull(),customerId:eM("customer_id").notNull(),jobType:tM("job_type"),businessUnitId:eu("business_unit_id",{mode:"number"}),jobStatus:tM("job_status").notNull(),completedOn:tD("completed_on"),total:eM("total").notNull().default(0),invoice:eM("invoice").notNull().default(0),serviceCategory:tM("service_category"),equipmentInstalled:tT("equipment_installed").array(),customerSatisfaction:eM("customer_satisfaction"),createdOn:tD("created_on").notNull(),modifiedOn:tD("modified_on").notNull(),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({customerIdIdx:t4("st_jobs_customer_id_idx").on(e.customerId),jobStatusIdx:t4("st_jobs_job_status_idx").on(e.jobStatus),completedOnIdx:t4("st_jobs_completed_on_idx").on(e.completedOn),modifiedOnIdx:t4("st_jobs_modified_on_idx").on(e.modifiedOn),jobNumberIdx:t4("st_jobs_job_number_idx").on(e.jobNumber),serviceCategoryIdx:t4("st_jobs_service_category_idx").on(e.serviceCategory),customerSatisfactionIdx:t4("st_jobs_customer_satisfaction_idx").on(e.customerSatisfaction)})),t8("sync_watermarks",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),syncType:tM("sync_type").notNull(),lastSuccessfulSyncAt:tD("last_successful_sync_at"),lastModifiedOnFetched:tD("last_modified_on_fetched"),recordsProcessed:eM("records_processed").notNull().default(0),syncDuration:eM("sync_duration"),lastError:tT("last_error"),lastErrorAt:tD("last_error_at"),updatedAt:tD("updated_at").notNull().defaultNow()}),t8("service_titan_job_forms",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),formId:eu("form_id",{mode:"number"}).notNull(),jobId:eu("job_id",{mode:"number"}).notNull(),customerId:eM("customer_id").notNull(),formTemplateId:eu("form_template_id",{mode:"number"}),formTemplateName:tT("form_template_name"),rawFormData:eW("raw_form_data").notNull(),parsedFields:eW("parsed_fields").notNull(),technicianNotes:tT("technician_notes"),customerConcerns:tT("customer_concerns").array(),recommendationsMade:tT("recommendations_made").array(),equipmentCondition:tT("equipment_condition"),submittedOn:tD("submitted_on").notNull(),submittedBy:tT("submitted_by"),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({jobIdIdx:t4("st_job_forms_job_id_idx").on(e.jobId),customerIdIdx:t4("st_job_forms_customer_id_idx").on(e.customerId),formIdIdx:t4("st_job_forms_form_id_idx").on(e.formId)}));let r$=t8("service_titan_estimates",{id:eu("id",{mode:"number"}).primaryKey(),jobId:eu("job_id",{mode:"number"}),customerId:eM("customer_id").notNull(),name:tT("name"),summary:tT("summary"),status:tM("status").notNull(),soldBy:tT("sold_by"),soldOn:tD("sold_on"),dismissedBy:tT("dismissed_by"),dismissedOn:tD("dismissed_on"),subtotal:eM("subtotal").notNull().default(0),tax:eM("tax").notNull().default(0),total:eM("total").notNull().default(0),createdBy:tT("created_by"),createdOn:tD("created_on").notNull(),modifiedOn:tD("modified_on"),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({jobIdIdx:t4("st_estimates_job_id_idx").on(e.jobId),customerIdIdx:t4("st_estimates_customer_id_idx").on(e.customerId),statusIdx:t4("st_estimates_status_idx").on(e.status),soldOnIdx:t4("st_estimates_sold_on_idx").on(e.soldOn),createdOnIdx:t4("st_estimates_created_on_idx").on(e.createdOn)})),rX=t8("service_titan_line_items",{id:eu("id",{mode:"number"}).primaryKey(),estimateId:eu("estimate_id",{mode:"number"}).notNull(),jobId:eu("job_id",{mode:"number"}),customerId:eM("customer_id").notNull(),itemType:tM("item_type").notNull(),skuId:eu("sku_id",{mode:"number"}),skuName:tT("sku_name"),description:tT("description"),equipmentManufacturer:tT("equipment_manufacturer"),equipmentModel:tT("equipment_model"),equipmentSize:tT("equipment_size"),equipmentType:tT("equipment_type"),quantity:eM("quantity").notNull().default(1),unitPrice:eM("unit_price").notNull().default(0),totalPrice:eM("total_price").notNull().default(0),cost:eM("cost").notNull().default(0),memberPrice:eM("member_price"),sold:eh("sold").notNull().default(!1),soldBy:tT("sold_by"),soldOn:tD("sold_on"),lastSyncedAt:tD("last_synced_at").notNull().defaultNow()},e=>({estimateIdIdx:t4("st_line_items_estimate_id_idx").on(e.estimateId),jobIdIdx:t4("st_line_items_job_id_idx").on(e.jobId),customerIdIdx:t4("st_line_items_customer_id_idx").on(e.customerId),itemTypeIdx:t4("st_line_items_item_type_idx").on(e.itemType),skuIdIdx:t4("st_line_items_sku_id_idx").on(e.skuId),equipmentTypeIdx:t4("st_line_items_equipment_type_idx").on(e.equipmentType),soldIdx:t4("st_line_items_sold_idx").on(e.sold),soldOnIdx:t4("st_line_items_sold_on_idx").on(e.soldOn)}));rl(r$).omit({lastSyncedAt:!0}),rl(rX).omit({lastSyncedAt:!0}),rl(rQ).omit({id:!0,updatedAt:!0});let rG=t8("job_completions",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),jobId:eM("job_id").notNull().unique(),customerId:eM("customer_id").notNull(),customerName:tT("customer_name").notNull(),customerEmail:tT("customer_email"),customerPhone:tT("customer_phone"),completionDate:tD("completion_date").notNull(),serviceName:tT("service_name"),technicianName:tT("technician_name"),invoiceTotal:eM("invoice_total"),jobNotes:tT("job_notes"),marketingOptedOut:eh("marketing_opted_out").notNull().default(!1),isQuoteOnly:eh("is_quote_only").notNull().default(!1),createdAt:tD("created_at").notNull().defaultNow()},e=>({completionDateIdx:t4("job_completions_completion_date_idx").on(e.completionDate),customerIdIdx:t4("job_completions_customer_id_idx").on(e.customerId)})),rJ=t8("review_requests",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),jobCompletionId:tM("job_completion_id").notNull(),customerId:eM("customer_id").notNull(),customerEmail:tT("customer_email").notNull(),status:tT("status").notNull().default("queued"),stopReason:tT("stop_reason"),email1SentAt:tD("email1_sent_at"),email2SentAt:tD("email2_sent_at"),email3SentAt:tD("email3_sent_at"),email4SentAt:tD("email4_sent_at"),reviewSubmitted:eh("review_submitted").notNull().default(!1),reviewSubmittedAt:tD("review_submitted_at"),reviewRating:eM("review_rating"),reviewPlatform:tT("review_platform"),emailOpens:eM("email_opens").notNull().default(0),linkClicks:eM("link_clicks").notNull().default(0),createdAt:tD("created_at").notNull().defaultNow(),completedAt:tD("completed_at")},e=>({statusIdx:t4("review_requests_status_idx").on(e.status),customerIdIdx:t4("review_requests_customer_id_idx").on(e.customerId),createdAtIdx:t4("review_requests_created_at_idx").on(e.createdAt)})),rW=t8("review_feedback",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),reviewRequestId:tM("review_request_id").notNull(),customerId:eM("customer_id").notNull(),rating:eM("rating").notNull(),feedbackText:tT("feedback_text"),wouldRecommend:eh("would_recommend"),followedUp:eh("followed_up").notNull().default(!1),followedUpAt:tD("followed_up_at"),followUpNotes:tT("follow_up_notes"),resolved:eh("resolved").notNull().default(!1),submittedAt:tD("submitted_at").notNull().defaultNow()},e=>({reviewRequestIdIdx:t4("review_feedback_review_request_idx").on(e.reviewRequestId),followedUpIdx:t4("review_feedback_followed_up_idx").on(e.followedUp),ratingIdx:t4("review_feedback_rating_idx").on(e.rating)})),rY=t8("referral_nurture_campaigns",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),customerId:eM("customer_id").notNull().unique(),customerEmail:tT("customer_email").notNull(),originalReviewId:tM("original_review_id"),status:tT("status").notNull().default("queued"),pauseReason:tT("pause_reason"),email1SentAt:tD("email1_sent_at"),email2SentAt:tD("email2_sent_at"),email3SentAt:tD("email3_sent_at"),email4SentAt:tD("email4_sent_at"),consecutiveUnopened:eM("consecutive_unopened").notNull().default(0),totalOpens:eM("total_opens").notNull().default(0),totalClicks:eM("total_clicks").notNull().default(0),referralsSubmitted:eM("referrals_submitted").notNull().default(0),lastReferralAt:tD("last_referral_at"),createdAt:tD("created_at").notNull().defaultNow(),pausedAt:tD("paused_at"),completedAt:tD("completed_at")},e=>({statusIdx:t4("referral_nurture_status_idx").on(e.status),customerIdIdx:t4("referral_nurture_customer_id_idx").on(e.customerId),createdAtIdx:t4("referral_nurture_created_at_idx").on(e.createdAt)})),rH=t8("review_email_templates",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),campaignType:tT("campaign_type").notNull(),emailNumber:eM("email_number").notNull(),subject:tT("subject").notNull(),htmlContent:tT("html_content").notNull(),plainTextContent:tT("plain_text_content").notNull(),mergeFields:tT("merge_fields").array(),isDefault:eh("is_default").notNull().default(!1),customized:eh("customized").notNull().default(!1),lastEditedBy:tM("last_edited_by"),lastEditedAt:tD("last_edited_at"),aiGenerated:eh("ai_generated").notNull().default(!1),aiPrompt:tT("ai_prompt"),createdAt:tD("created_at").notNull().defaultNow(),updatedAt:tD("updated_at").notNull().defaultNow()},e=>({campaignTypeIdx:t4("review_email_templates_campaign_type_idx").on(e.campaignType),emailNumberIdx:t4("review_email_templates_email_number_idx").on(e.emailNumber),uniqueCampaignEmail:t7("review_email_templates_campaign_email_unique").on(e.campaignType,e.emailNumber)})),rZ=t8("email_send_log",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),campaignType:tT("campaign_type").notNull(),campaignRecordId:tM("campaign_record_id").notNull(),emailNumber:eM("email_number").notNull(),recipientEmail:tT("recipient_email").notNull(),recipientName:tT("recipient_name"),customerId:eM("customer_id").notNull(),resendEmailId:tT("resend_email_id").unique(),resendStatus:tT("resend_status"),sentAt:tD("sent_at").notNull().defaultNow(),deliveredAt:tD("delivered_at"),openedAt:tD("opened_at"),clickedAt:tD("clicked_at"),bouncedAt:tD("bounced_at"),complainedAt:tD("complained_at"),errorMessage:tT("error_message")},e=>({resendEmailIdIdx:t4("email_send_log_resend_email_id_idx").on(e.resendEmailId),campaignTypeIdx:t4("email_send_log_campaign_type_idx").on(e.campaignType),campaignRecordIdx:t4("email_send_log_campaign_record_idx").on(e.campaignRecordId),recipientEmailIdx:t4("email_send_log_recipient_email_idx").on(e.recipientEmail)})),r0=t8("email_suppression_list",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),email:tT("email").notNull().unique(),reason:tT("reason").notNull(),reasonDetails:tT("reason_details"),resendEmailId:tT("resend_email_id"),campaignRecordId:tM("campaign_record_id"),addedAt:tD("added_at").notNull().defaultNow()},e=>({emailIdx:t4("email_suppression_list_email_idx").on(e.email),reasonIdx:t4("email_suppression_list_reason_idx").on(e.reason)}));rl(t8("webhook_failure_queue",{id:tM("id").primaryKey().default(Y`gen_random_uuid()`),webhookType:tT("webhook_type").notNull(),webhookEvent:tT("webhook_event").notNull(),rawPayload:eW("raw_payload").notNull(),headers:eW("headers").notNull(),signature:tT("signature"),attemptCount:eM("attempt_count").notNull().default(0),maxAttempts:eM("max_attempts").notNull().default(5),nextRetryAt:tD("next_retry_at"),lastAttemptAt:tD("last_attempt_at"),lastError:tT("last_error"),status:tT("status").notNull().default("pending"),processedAt:tD("processed_at"),movedToDeadLetterAt:tD("moved_to_dead_letter_at"),receivedAt:tD("received_at").notNull().defaultNow(),createdAt:tD("created_at").notNull().defaultNow()},e=>({statusIdx:t4("webhook_failure_queue_status_idx").on(e.status),nextRetryAtIdx:t4("webhook_failure_queue_next_retry_at_idx").on(e.nextRetryAt),webhookTypeIdx:t4("webhook_failure_queue_type_idx").on(e.webhookType)}))).omit({id:!0,receivedAt:!0,createdAt:!0,processedAt:!0,movedToDeadLetterAt:!0,lastAttemptAt:!0}),rl(r_).omit({id:!0,startedAt:!0,feedbackPositive:!0,feedbackNegative:!0}),rl(rf).omit({id:!0,createdAt:!0}),rl(rp).omit({id:!0,lastAsked:!0,count:!0}),rl(rg).omit({id:!0}),rl(rG).omit({id:!0,createdAt:!0}),rl(rJ).omit({id:!0,createdAt:!0,completedAt:!0}),rl(rW).omit({id:!0,submittedAt:!0,followedUpAt:!0}),rl(rY).omit({id:!0,createdAt:!0,pausedAt:!0,completedAt:!0}),rl(rH).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rZ).omit({id:!0,sentAt:!0}),rl(r0).omit({id:!0,addedAt:!0}),rl(rh).omit({id:!0,processedAt:!0}),rl(ry).omit({id:!0,createdAt:!0,sentAt:!0}),rl(rx).omit({id:!0,createdAt:!0,approvedAt:!0,sentAt:!0}),rl(rb).omit({id:!0,createdAt:!0,approvedAt:!0,sentAt:!0}),rl(rN).omit({id:!0,createdAt:!0,lastUpdated:!0}),rl(rI).omit({id:!0,capturedAt:!0,convertedAt:!0}),rl(rv).omit({id:!0,createdAt:!0}),rl(rw).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rA).omit({id:!0,addedAt:!0}),rl(rS).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rT).omit({id:!0,createdAt:!0,updatedAt:!0}),rl(rP).omit({id:!0,sentAt:!0});var r1=e.i(954616),r2=e.i(437453),r8=e.i(908406),r6=e.i(515288),r5=e.i(519455),r3=e.i(793479),r4=e.i(624687),r7=e.i(903133),r9=e.i(967489);e.i(573690);var ne=e.i(829682);function nt({title:e="Get a Free Estimate",description:t="Contact us today for expert plumbing services. We'll respond within 1 hour during business hours.",defaultService:r,defaultLocation:n,pageContext:l="Website Contact Form",phoneNumber:u,phoneLabel:d="Austin",className:c="",phoneTel:m}){let _=(0,ne.usePhoneConfig)(),{toast:f}=(0,r8.useToast)(),[p,g]=(0,o.useState)(!1),[h]=(0,o.useState)(Date.now()),y=u||_.display,x=m||_.tel,b=(0,a.useForm)({resolver:(0,s.zodResolver)(rB),defaultValues:{name:"",phone:"",email:"",service:r||"",location:n||"",urgency:"",message:"",pageContext:l}}),[N,I]=(0,o.useState)(""),v=(0,r1.useMutation)({mutationFn:async e=>(await (0,r2.apiRequest)("POST","/api/contact",{...e,website:N,formStartTime:h})).json(),onSuccess:()=>{g(!0),b.reset(),f({title:"Message Sent!",description:"We'll contact you within 1 hour during business hours."})},onError:e=>{f({title:"Error",description:e.message||"Failed to send message. Please call us instead.",variant:"destructive"})}});return p?(0,i.jsx)("section",{className:c,children:(0,i.jsxs)(r6.Card,{className:"p-8 max-w-2xl mx-auto text-center",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold mb-4",children:"Thank You!"}),(0,i.jsx)("p",{className:"text-muted-foreground mb-6",children:"We've received your message and will contact you within 1 hour during business hours."}),(0,i.jsx)("p",{className:"text-sm text-muted-foreground mb-4",children:"Need immediate assistance?"}),(0,i.jsx)(r5.Button,{asChild:!0,className:"bg-primary","data-testid":"button-call-now",children:(0,i.jsxs)("a",{href:x,children:["Call ",y]})})]})}):(0,i.jsx)("section",{className:c,children:(0,i.jsxs)(r6.Card,{className:"p-8 max-w-2xl mx-auto",children:[(0,i.jsxs)("div",{className:"mb-6",children:[(0,i.jsx)("h3",{className:"text-2xl font-bold mb-2",children:e}),(0,i.jsx)("p",{className:"text-muted-foreground",children:t})]}),(0,i.jsx)(r7.Form,{...b,children:(0,i.jsxs)("form",{onSubmit:b.handleSubmit(e=>{v.mutate(e)}),className:"space-y-6",children:[(0,i.jsxs)("div",{style:{position:"absolute",left:"-9999px",opacity:0},"aria-hidden":"true",children:[(0,i.jsx)("label",{htmlFor:"website-field",children:"Website (leave blank)"}),(0,i.jsx)("input",{type:"text",id:"website-field",name:"website",value:N,onChange:e=>I(e.target.value),autoComplete:"off",tabIndex:-1})]}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsx)(r7.FormField,{control:b.control,name:"name",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"Name *"}),(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r3.Input,{...e,"data-testid":"input-name"})}),(0,i.jsx)(r7.FormMessage,{})]})}),(0,i.jsx)(r7.FormField,{control:b.control,name:"phone",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"Phone *"}),(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r3.Input,{...e,type:"tel","data-testid":"input-phone"})}),(0,i.jsx)(r7.FormMessage,{})]})})]}),(0,i.jsx)(r7.FormField,{control:b.control,name:"email",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"Email"}),(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r3.Input,{...e,value:e.value||"",type:"email","data-testid":"input-email"})}),(0,i.jsx)(r7.FormMessage,{})]})}),(0,i.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,i.jsx)(r7.FormField,{control:b.control,name:"service",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"Service Needed"}),(0,i.jsxs)(r9.Select,{onValueChange:e.onChange,value:e.value||"",children:[(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r9.SelectTrigger,{"data-testid":"select-service",children:(0,i.jsx)(r9.SelectValue,{placeholder:"Select service"})})}),(0,i.jsxs)(r9.SelectContent,{children:[(0,i.jsx)(r9.SelectItem,{value:"water-heater",children:"Water Heater"}),(0,i.jsx)(r9.SelectItem,{value:"drain-cleaning",children:"Drain Cleaning"}),(0,i.jsx)(r9.SelectItem,{value:"leak-repair",children:"Leak Repair"}),(0,i.jsx)(r9.SelectItem,{value:"toilet-faucet",children:"Toilet/Faucet"}),(0,i.jsx)(r9.SelectItem,{value:"gas",children:"Gas Services"}),(0,i.jsx)(r9.SelectItem,{value:"backflow",children:"Backflow Testing"}),(0,i.jsx)(r9.SelectItem,{value:"commercial",children:"Commercial Plumbing"}),(0,i.jsx)(r9.SelectItem,{value:"other",children:"Other"})]})]}),(0,i.jsx)(r7.FormMessage,{})]})}),(0,i.jsx)(r7.FormField,{control:b.control,name:"urgency",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"Urgency"}),(0,i.jsxs)(r9.Select,{onValueChange:e.onChange,value:e.value||"",children:[(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r9.SelectTrigger,{"data-testid":"select-urgency",children:(0,i.jsx)(r9.SelectValue,{placeholder:"Select urgency"})})}),(0,i.jsxs)(r9.SelectContent,{children:[(0,i.jsx)(r9.SelectItem,{value:"emergency",children:"Emergency - Need Help Now"}),(0,i.jsx)(r9.SelectItem,{value:"urgent",children:"Urgent - Within 24 Hours"}),(0,i.jsx)(r9.SelectItem,{value:"soon",children:"Soon - This Week"}),(0,i.jsx)(r9.SelectItem,{value:"scheduled",children:"Scheduled - Next Week or Later"})]})]}),(0,i.jsx)(r7.FormMessage,{})]})})]}),(0,i.jsx)(r7.FormField,{control:b.control,name:"location",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"City/Location"}),(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r3.Input,{...e,value:e.value||"",placeholder:"e.g. Austin, Cedar Park","data-testid":"input-location"})}),(0,i.jsx)(r7.FormMessage,{})]})}),(0,i.jsx)(r7.FormField,{control:b.control,name:"message",render:({field:e})=>(0,i.jsxs)(r7.FormItem,{children:[(0,i.jsx)(r7.FormLabel,{children:"Message"}),(0,i.jsx)(r7.FormControl,{children:(0,i.jsx)(r4.Textarea,{...e,value:e.value||"",placeholder:"Describe your plumbing issue...",rows:4,"data-testid":"textarea-message"})}),(0,i.jsx)(r7.FormMessage,{})]})}),(0,i.jsx)(r5.Button,{type:"submit",className:"w-full bg-primary",disabled:v.isPending,"data-testid":"button-submit-contact",children:v.isPending?"Sending...":"Send Message"}),(0,i.jsxs)("p",{className:"text-sm text-center text-muted-foreground",children:["Or call us directly at"," ",(0,i.jsx)("a",{href:x,className:"text-foreground hover:underline",children:y}),d&&(0,i.jsxs)("span",{className:"text-muted-foreground",children:[" (",d,")"]})]})]})})]})})}function nr({data:e}){return(0,i.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify(e)}})}function nn(e,t,r){return{"@context":"https://schema.org","@type":"Service","@id":r,name:e,serviceType:e,description:t,provider:{"@type":"Plumber","@id":"https://www.plumbersthatcare.com/#austin",name:"Economy Plumbing Services",telephone:["+15123689159","+18304603565"],url:"https://www.plumbersthatcare.com",address:{"@type":"PostalAddress",streetAddress:"701 Tillery St #12",addressLocality:"Austin",addressRegion:"TX",postalCode:"78702",addressCountry:"US"},geo:{"@type":"GeoCoordinates",latitude:"30.2672",longitude:"-97.7431"},aggregateRating:{"@type":"AggregateRating",ratingValue:"4.3",reviewCount:"495",bestRating:"5",worstRating:"1"}},areaServed:[{"@type":"City",name:"Austin",containedIn:{"@type":"State",name:"Texas"}},{"@type":"City",name:"Cedar Park",containedIn:{"@type":"State",name:"Texas"}},{"@type":"City",name:"Leander",containedIn:{"@type":"State",name:"Texas"}},{"@type":"City",name:"Round Rock",containedIn:{"@type":"State",name:"Texas"}},{"@type":"City",name:"Georgetown",containedIn:{"@type":"State",name:"Texas"}},{"@type":"City",name:"Pflugerville",containedIn:{"@type":"State",name:"Texas"}},{"@type":"City",name:"Marble Falls",containedIn:{"@type":"State",name:"Texas"}}],url:r,category:"Plumbing Services"}}function ni(e){return{"@context":"https://schema.org","@type":"FAQPage",mainEntity:e.map(e=>({"@type":"Question",name:e.question,acceptedAnswer:{"@type":"Answer",text:e.answer}}))}}function no(e){return{"@context":"https://schema.org","@type":"BreadcrumbList",itemListElement:e.map((e,t)=>({"@type":"ListItem",position:t+1,name:e.name,...e.url&&{item:e.url}}))}}function na(e){let t=e.timestamp?new Date(1e3*e.timestamp).toISOString():new Date().toISOString();return{"@context":"https://schema.org","@type":"Review",author:{"@type":"Person",name:"Anonymous"===e.authorName?"Google Customer":e.authorName},reviewRating:{"@type":"Rating",ratingValue:e.rating.toString(),bestRating:"5",worstRating:"1"},reviewBody:e.text,datePublished:t,itemReviewed:{"@type":"LocalBusiness","@id":"https://www.plumbersthatcare.com",name:"Economy Plumbing Services",address:{"@type":"PostalAddress",streetAddress:"701 Tillery St #12",addressLocality:"Austin",addressRegion:"TX",postalCode:"78702",addressCountry:"US"},telephone:"+15123689159",url:"https://www.plumbersthatcare.com"}}}e.s(["default",()=>nt],363736),e.s(["JsonLd",()=>nr,"createBreadcrumbListSchema",()=>no,"createFAQSchema",()=>ni,"createReviewSchema",()=>na,"createServiceSchema",()=>nn],44722)}]);
(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,515288,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(975157);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",e),...s}));a.displayName="Card";let i=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex flex-col space-y-1.5 p-6",e),...s}));i.displayName="CardHeader";let n=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-2xl font-semibold leading-none tracking-tight",e),...s}));n.displayName="CardTitle";let l=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("text-sm text-muted-foreground",e),...s}));l.displayName="CardDescription";let d=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("p-6 pt-0",e),...s}));d.displayName="CardContent",s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("div",{ref:a,className:(0,r.cn)("flex items-center p-6 pt-0",e),...s})).displayName="CardFooter",e.s(["Card",()=>a,"CardContent",()=>d,"CardDescription",()=>l,"CardHeader",()=>i,"CardTitle",()=>n])},811076,e=>{"use strict";function t(e,t){return"function"==typeof e?e(...t):!!e}function s(){}e.s(["noop",()=>s,"shouldThrowError",()=>t])},266027,e=>{"use strict";let t;var s=e.i(175555),r=e.i(540143),a=e.i(286491),i=e.i(915823),n=e.i(793803),l=e.i(619273),d=class extends i.Subscribable{constructor(e,t){super(),this.options=t,this.#e=e,this.#t=null,this.#s=(0,n.pendingThenable)(),this.options.experimental_prefetchInRender||this.#s.reject(Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}#e;#r=void 0;#a=void 0;#i=void 0;#n;#l;#s;#t;#d;#c;#o;#u;#m;#h;#p=new Set;bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){1===this.listeners.size&&(this.#r.addObserver(this),c(this.#r,this.options)?this.#f():this.updateResult(),this.#x())}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return o(this.#r,this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return o(this.#r,this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,this.#v(),this.#g(),this.#r.removeObserver(this)}setOptions(e,t){let s=this.options,r=this.#r;if(this.options=this.#e.defaultQueryOptions(e),void 0!==this.options.enabled&&"boolean"!=typeof this.options.enabled&&"function"!=typeof this.options.enabled&&"boolean"!=typeof(0,l.resolveEnabled)(this.options.enabled,this.#r))throw Error("Expected enabled to be a boolean or a callback that returns a boolean");this.#b(),this.#r.setOptions(this.options),s._defaulted&&!(0,l.shallowEqualObjects)(this.options,s)&&this.#e.getQueryCache().notify({type:"observerOptionsUpdated",query:this.#r,observer:this});let a=this.hasListeners();a&&u(this.#r,r,this.options,s)&&this.#f(),this.updateResult(t),a&&(this.#r!==r||(0,l.resolveEnabled)(this.options.enabled,this.#r)!==(0,l.resolveEnabled)(s.enabled,this.#r)||(0,l.resolveStaleTime)(this.options.staleTime,this.#r)!==(0,l.resolveStaleTime)(s.staleTime,this.#r))&&this.#y();let i=this.#j();a&&(this.#r!==r||(0,l.resolveEnabled)(this.options.enabled,this.#r)!==(0,l.resolveEnabled)(s.enabled,this.#r)||i!==this.#h)&&this.#N(i)}getOptimisticResult(e){var t,s;let r=this.#e.getQueryCache().build(this.#e,e),a=this.createResult(r,e);return t=this,s=a,(0,l.shallowEqualObjects)(t.getCurrentResult(),s)||(this.#i=a,this.#l=this.options,this.#n=this.#r.state),a}getCurrentResult(){return this.#i}trackResult(e,t){let s={};return Object.keys(e).forEach(r=>{Object.defineProperty(s,r,{configurable:!1,enumerable:!0,get:()=>(this.trackProp(r),t?.(r),e[r])})}),s}trackProp(e){this.#p.add(e)}getCurrentQuery(){return this.#r}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){let t=this.#e.defaultQueryOptions(e),s=this.#e.getQueryCache().build(this.#e,t);return s.fetch().then(()=>this.createResult(s,t))}fetch(e){return this.#f({...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),this.#i))}#f(e){this.#b();let t=this.#r.fetch(this.options,e);return e?.throwOnError||(t=t.catch(l.noop)),t}#y(){this.#v();let e=(0,l.resolveStaleTime)(this.options.staleTime,this.#r);if(l.isServer||this.#i.isStale||!(0,l.isValidTimeout)(e))return;let t=(0,l.timeUntilStale)(this.#i.dataUpdatedAt,e);this.#u=setTimeout(()=>{this.#i.isStale||this.updateResult()},t+1)}#j(){return("function"==typeof this.options.refetchInterval?this.options.refetchInterval(this.#r):this.options.refetchInterval)??!1}#N(e){this.#g(),this.#h=e,!l.isServer&&!1!==(0,l.resolveEnabled)(this.options.enabled,this.#r)&&(0,l.isValidTimeout)(this.#h)&&0!==this.#h&&(this.#m=setInterval(()=>{(this.options.refetchIntervalInBackground||s.focusManager.isFocused())&&this.#f()},this.#h))}#x(){this.#y(),this.#N(this.#j())}#v(){this.#u&&(clearTimeout(this.#u),this.#u=void 0)}#g(){this.#m&&(clearInterval(this.#m),this.#m=void 0)}createResult(e,t){let s,r=this.#r,i=this.options,d=this.#i,o=this.#n,h=this.#l,p=e!==r?e.state:this.#a,{state:f}=e,x={...f},v=!1;if(t._optimisticResults){let s=this.hasListeners(),n=!s&&c(e,t),l=s&&u(e,r,t,i);(n||l)&&(x={...x,...(0,a.fetchState)(f.data,e.options)}),"isRestoring"===t._optimisticResults&&(x.fetchStatus="idle")}let{error:g,errorUpdatedAt:b,status:y}=x;if(t.select&&void 0!==x.data)if(d&&x.data===o?.data&&t.select===this.#d)s=this.#c;else try{this.#d=t.select,s=t.select(x.data),s=(0,l.replaceData)(d?.data,s,t),this.#c=s,this.#t=null}catch(e){this.#t=e}else s=x.data;if(void 0!==t.placeholderData&&void 0===s&&"pending"===y){let e;if(d?.isPlaceholderData&&t.placeholderData===h?.placeholderData)e=d.data;else if(e="function"==typeof t.placeholderData?t.placeholderData(this.#o?.state.data,this.#o):t.placeholderData,t.select&&void 0!==e)try{e=t.select(e),this.#t=null}catch(e){this.#t=e}void 0!==e&&(y="success",s=(0,l.replaceData)(d?.data,e,t),v=!0)}this.#t&&(g=this.#t,s=this.#c,b=Date.now(),y="error");let j="fetching"===x.fetchStatus,N="pending"===y,w="error"===y,R=N&&j,k=void 0!==s,C={status:y,fetchStatus:x.fetchStatus,isPending:N,isSuccess:"success"===y,isError:w,isInitialLoading:R,isLoading:R,data:s,dataUpdatedAt:x.dataUpdatedAt,error:g,errorUpdatedAt:b,failureCount:x.fetchFailureCount,failureReason:x.fetchFailureReason,errorUpdateCount:x.errorUpdateCount,isFetched:x.dataUpdateCount>0||x.errorUpdateCount>0,isFetchedAfterMount:x.dataUpdateCount>p.dataUpdateCount||x.errorUpdateCount>p.errorUpdateCount,isFetching:j,isRefetching:j&&!N,isLoadingError:w&&!k,isPaused:"paused"===x.fetchStatus,isPlaceholderData:v,isRefetchError:w&&k,isStale:m(e,t),refetch:this.refetch,promise:this.#s};if(this.options.experimental_prefetchInRender){let t=e=>{"error"===C.status?e.reject(C.error):void 0!==C.data&&e.resolve(C.data)},s=()=>{t(this.#s=C.promise=(0,n.pendingThenable)())},a=this.#s;switch(a.status){case"pending":e.queryHash===r.queryHash&&t(a);break;case"fulfilled":("error"===C.status||C.data!==a.value)&&s();break;case"rejected":("error"!==C.status||C.error!==a.reason)&&s()}}return C}updateResult(e){let t=this.#i,s=this.createResult(this.#r,this.options);if(this.#n=this.#r.state,this.#l=this.options,void 0!==this.#n.data&&(this.#o=this.#r),(0,l.shallowEqualObjects)(s,t))return;this.#i=s;let r={},a=()=>{if(!t)return!0;let{notifyOnChangeProps:e}=this.options,s="function"==typeof e?e():e;if("all"===s||!s&&!this.#p.size)return!0;let r=new Set(s??this.#p);return this.options.throwOnError&&r.add("error"),Object.keys(this.#i).some(e=>this.#i[e]!==t[e]&&r.has(e))};e?.listeners!==!1&&a()&&(r.listeners=!0),this.#w({...r,...e})}#b(){let e=this.#e.getQueryCache().build(this.#e,this.options);if(e===this.#r)return;let t=this.#r;this.#r=e,this.#a=e.state,this.hasListeners()&&(t?.removeObserver(this),e.addObserver(this))}onQueryUpdate(){this.updateResult(),this.hasListeners()&&this.#x()}#w(e){r.notifyManager.batch(()=>{e.listeners&&this.listeners.forEach(e=>{e(this.#i)}),this.#e.getQueryCache().notify({query:this.#r,type:"observerResultsUpdated"})})}};function c(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&void 0===e.state.data&&("error"!==e.state.status||!1!==t.retryOnMount)||void 0!==e.state.data&&o(e,t,t.refetchOnMount)}function o(e,t,s){if(!1!==(0,l.resolveEnabled)(t.enabled,e)){let r="function"==typeof s?s(e):s;return"always"===r||!1!==r&&m(e,t)}return!1}function u(e,t,s,r){return(e!==t||!1===(0,l.resolveEnabled)(r.enabled,e))&&(!s.suspense||"error"!==e.state.status)&&m(e,s)}function m(e,t){return!1!==(0,l.resolveEnabled)(t.enabled,e)&&e.isStaleByTime((0,l.resolveStaleTime)(t.staleTime,e))}e.i(247167);var h=e.i(271645),p=e.i(912598);e.i(843476);var f=h.createContext((t=!1,{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t})),x=e.i(811076),v=h.createContext(!1);v.Provider;var g=(e,t,s)=>t.fetchOptimistic(e).catch(()=>{s.clearReset()});function b(e,t){return function(e,t,s){let a=(0,p.useQueryClient)(s),i=h.useContext(v),n=h.useContext(f),d=a.defaultQueryOptions(e);a.getDefaultOptions().queries?._experimental_beforeQuery?.(d),d._optimisticResults=i?"isRestoring":"optimistic",d.suspense&&(void 0===d.staleTime&&(d.staleTime=1e3),"number"==typeof d.gcTime&&(d.gcTime=Math.max(d.gcTime,1e3))),(d.suspense||d.throwOnError||d.experimental_prefetchInRender)&&!n.isReset()&&(d.retryOnMount=!1),h.useEffect(()=>{n.clearReset()},[n]);let c=!a.getQueryCache().get(d.queryHash),[o]=h.useState(()=>new t(a,d)),u=o.getOptimisticResult(d);if(h.useSyncExternalStore(h.useCallback(e=>{let t=i?x.noop:o.subscribe(r.notifyManager.batchCalls(e));return o.updateResult(),t},[o,i]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),h.useEffect(()=>{o.setOptions(d,{listeners:!1})},[d,o]),d?.suspense&&u.isPending)throw g(d,o,n);if((({result:e,errorResetBoundary:t,throwOnError:s,query:r})=>e.isError&&!t.isReset()&&!e.isFetching&&r&&(0,x.shouldThrowError)(s,[e.error,r]))({result:u,errorResetBoundary:n,throwOnError:d.throwOnError,query:a.getQueryCache().get(d.queryHash)}))throw u.error;if(a.getDefaultOptions().queries?._experimental_afterQuery?.(d,u),d.experimental_prefetchInRender&&!l.isServer&&u.isLoading&&u.isFetching&&!i){let e=c?g(d,o,n):a.getQueryCache().get(d.queryHash)?.promise;e?.catch(x.noop).finally(()=>{o.updateResult()})}return d.notifyOnChangeProps?u:o.trackResult(u)}(e,d,t)}e.s(["useQuery",()=>b],266027)},586318,e=>{"use strict";var t=e.i(271645);e.i(843476);var s=t.createContext(void 0);function r(e){let r=t.useContext(s);return e||r||"ltr"}e.s(["useDirection",()=>r])},63209,e=>{"use strict";let t=(0,e.i(475254).default)("CircleAlert",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);e.s(["AlertCircle",()=>t],63209)},929592,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(225913),a=e.i(975157);let i=(0,r.cva)("relative w-full rounded-lg border p-4 [&>svg~*]:pl-7 [&>svg+div]:translate-y-[-3px] [&>svg]:absolute [&>svg]:left-4 [&>svg]:top-4 [&>svg]:text-foreground",{variants:{variant:{default:"bg-background text-foreground",destructive:"border-destructive/50 text-destructive dark:border-destructive [&>svg]:text-destructive"}},defaultVariants:{variant:"default"}}),n=s.forwardRef(({className:e,variant:s,...r},n)=>(0,t.jsx)("div",{ref:n,role:"alert",className:(0,a.cn)(i({variant:s}),e),...r}));n.displayName="Alert",s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("h5",{ref:r,className:(0,a.cn)("mb-1 font-medium leading-none tracking-tight",e),...s})).displayName="AlertTitle";let l=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)("div",{ref:r,className:(0,a.cn)("text-sm [&_p]:leading-relaxed",e),...s}));l.displayName="AlertDescription",e.s(["Alert",()=>n,"AlertDescription",()=>l])},842727,e=>{"use strict";var t=e.i(271645),s=e.i(981140),r=e.i(75830),a=e.i(820783),i=e.i(30030),n=e.i(610772),l=e.i(248425),d=e.i(30207),c=e.i(369340),o=e.i(586318),u=e.i(843476),m="rovingFocusGroup.onEntryFocus",h={bubbles:!1,cancelable:!0},p="RovingFocusGroup",[f,x,v]=(0,r.createCollection)(p),[g,b]=(0,i.createContextScope)(p,[v]),[y,j]=g(p),N=t.forwardRef((e,t)=>(0,u.jsx)(f.Provider,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(f.Slot,{scope:e.__scopeRovingFocusGroup,children:(0,u.jsx)(w,{...e,ref:t})})}));N.displayName=p;var w=t.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:i,orientation:n,loop:p=!1,dir:f,currentTabStopId:v,defaultCurrentTabStopId:g,onCurrentTabStopIdChange:b,onEntryFocus:j,preventScrollOnEntryFocus:N=!1,...w}=e,R=t.useRef(null),k=(0,a.useComposedRefs)(r,R),C=(0,o.useDirection)(f),[S=null,E]=(0,c.useControllableState)({prop:v,defaultProp:g,onChange:b}),[I,Q]=t.useState(!1),D=(0,d.useCallbackRef)(j),A=x(i),q=t.useRef(!1),[F,O]=t.useState(0);return t.useEffect(()=>{let e=R.current;if(e)return e.addEventListener(m,D),()=>e.removeEventListener(m,D)},[D]),(0,u.jsx)(y,{scope:i,orientation:n,dir:C,loop:p,currentTabStopId:S,onItemFocus:t.useCallback(e=>E(e),[E]),onItemShiftTab:t.useCallback(()=>Q(!0),[]),onFocusableItemAdd:t.useCallback(()=>O(e=>e+1),[]),onFocusableItemRemove:t.useCallback(()=>O(e=>e-1),[]),children:(0,u.jsx)(l.Primitive.div,{tabIndex:I||0===F?-1:0,"data-orientation":n,...w,ref:k,style:{outline:"none",...e.style},onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,()=>{q.current=!0}),onFocus:(0,s.composeEventHandlers)(e.onFocus,e=>{let t=!q.current;if(e.target===e.currentTarget&&t&&!I){let t=new CustomEvent(m,h);if(e.currentTarget.dispatchEvent(t),!t.defaultPrevented){let e=A().filter(e=>e.focusable);T([e.find(e=>e.active),e.find(e=>e.id===S),...e].filter(Boolean).map(e=>e.ref.current),N)}}q.current=!1}),onBlur:(0,s.composeEventHandlers)(e.onBlur,()=>Q(!1))})})}),R="RovingFocusGroupItem",k=t.forwardRef((e,r)=>{let{__scopeRovingFocusGroup:a,focusable:i=!0,active:d=!1,tabStopId:c,...o}=e,m=(0,n.useId)(),h=c||m,p=j(R,a),v=p.currentTabStopId===h,g=x(a),{onFocusableItemAdd:b,onFocusableItemRemove:y}=p;return t.useEffect(()=>{if(i)return b(),()=>y()},[i,b,y]),(0,u.jsx)(f.ItemSlot,{scope:a,id:h,focusable:i,active:d,children:(0,u.jsx)(l.Primitive.span,{tabIndex:v?0:-1,"data-orientation":p.orientation,...o,ref:r,onMouseDown:(0,s.composeEventHandlers)(e.onMouseDown,e=>{i?p.onItemFocus(h):e.preventDefault()}),onFocus:(0,s.composeEventHandlers)(e.onFocus,()=>p.onItemFocus(h)),onKeyDown:(0,s.composeEventHandlers)(e.onKeyDown,e=>{if("Tab"===e.key&&e.shiftKey)return void p.onItemShiftTab();if(e.target!==e.currentTarget)return;let t=function(e,t,s){var r;let a=(r=e.key,"rtl"!==s?r:"ArrowLeft"===r?"ArrowRight":"ArrowRight"===r?"ArrowLeft":r);if(!("vertical"===t&&["ArrowLeft","ArrowRight"].includes(a))&&!("horizontal"===t&&["ArrowUp","ArrowDown"].includes(a)))return C[a]}(e,p.orientation,p.dir);if(void 0!==t){if(e.metaKey||e.ctrlKey||e.altKey||e.shiftKey)return;e.preventDefault();let a=g().filter(e=>e.focusable).map(e=>e.ref.current);if("last"===t)a.reverse();else if("prev"===t||"next"===t){var s,r;"prev"===t&&a.reverse();let i=a.indexOf(e.currentTarget);a=p.loop?(s=a,r=i+1,s.map((e,t)=>s[(r+t)%s.length])):a.slice(i+1)}setTimeout(()=>T(a))}})})})});k.displayName=R;var C={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function T(e,t=!1){let s=document.activeElement;for(let r of e)if(r===s||(r.focus({preventScroll:t}),document.activeElement!==s))return}e.s(["Item",()=>k,"Root",()=>N,"createRovingFocusGroupScope",()=>b])},677572,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(981140),a=e.i(30030),i=e.i(842727),n=e.i(296626),l=e.i(248425),d=e.i(586318),c=e.i(369340),o=e.i(610772),u="Tabs",[m,h]=(0,a.createContextScope)(u,[i.createRovingFocusGroupScope]),p=(0,i.createRovingFocusGroupScope)(),[f,x]=m(u),v=s.forwardRef((e,s)=>{let{__scopeTabs:r,value:a,onValueChange:i,defaultValue:n,orientation:u="horizontal",dir:m,activationMode:h="automatic",...p}=e,x=(0,d.useDirection)(m),[v,g]=(0,c.useControllableState)({prop:a,onChange:i,defaultProp:n});return(0,t.jsx)(f,{scope:r,baseId:(0,o.useId)(),value:v,onValueChange:g,orientation:u,dir:x,activationMode:h,children:(0,t.jsx)(l.Primitive.div,{dir:x,"data-orientation":u,...p,ref:s})})});v.displayName=u;var g="TabsList",b=s.forwardRef((e,s)=>{let{__scopeTabs:r,loop:a=!0,...n}=e,d=x(g,r),c=p(r);return(0,t.jsx)(i.Root,{asChild:!0,...c,orientation:d.orientation,dir:d.dir,loop:a,children:(0,t.jsx)(l.Primitive.div,{role:"tablist","aria-orientation":d.orientation,...n,ref:s})})});b.displayName=g;var y="TabsTrigger",j=s.forwardRef((e,s)=>{let{__scopeTabs:a,value:n,disabled:d=!1,...c}=e,o=x(y,a),u=p(a),m=R(o.baseId,n),h=k(o.baseId,n),f=n===o.value;return(0,t.jsx)(i.Item,{asChild:!0,...u,focusable:!d,active:f,children:(0,t.jsx)(l.Primitive.button,{type:"button",role:"tab","aria-selected":f,"aria-controls":h,"data-state":f?"active":"inactive","data-disabled":d?"":void 0,disabled:d,id:m,...c,ref:s,onMouseDown:(0,r.composeEventHandlers)(e.onMouseDown,e=>{d||0!==e.button||!1!==e.ctrlKey?e.preventDefault():o.onValueChange(n)}),onKeyDown:(0,r.composeEventHandlers)(e.onKeyDown,e=>{[" ","Enter"].includes(e.key)&&o.onValueChange(n)}),onFocus:(0,r.composeEventHandlers)(e.onFocus,()=>{let e="manual"!==o.activationMode;f||d||!e||o.onValueChange(n)})})})});j.displayName=y;var N="TabsContent",w=s.forwardRef((e,r)=>{let{__scopeTabs:a,value:i,forceMount:d,children:c,...o}=e,u=x(N,a),m=R(u.baseId,i),h=k(u.baseId,i),p=i===u.value,f=s.useRef(p);return s.useEffect(()=>{let e=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(e)},[]),(0,t.jsx)(n.Presence,{present:d||p,children:({present:s})=>(0,t.jsx)(l.Primitive.div,{"data-state":p?"active":"inactive","data-orientation":u.orientation,role:"tabpanel","aria-labelledby":m,hidden:!s,id:h,tabIndex:0,...o,ref:r,style:{...e.style,animationDuration:f.current?"0s":void 0},children:s&&c})})});function R(e,t){return`${e}-trigger-${t}`}function k(e,t){return`${e}-content-${t}`}w.displayName=N;var C=e.i(975157);let T=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(b,{ref:r,className:(0,C.cn)("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",e),...s}));T.displayName=b.displayName;let S=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(j,{ref:r,className:(0,C.cn)("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm",e),...s}));S.displayName=j.displayName;let E=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(w,{ref:r,className:(0,C.cn)("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",e),...s}));E.displayName=w.displayName,e.s(["Tabs",()=>v,"TabsContent",()=>E,"TabsList",()=>T,"TabsTrigger",()=>S],677572)},994575,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(266027),a=e.i(618566),i=e.i(677572),n=e.i(515288),l=e.i(519455),d=e.i(302747),c=e.i(929592),o=e.i(522016),u=e.i(908406),m=e.i(63209);function h(){let e=(0,a.useRouter)(),h=(0,a.useSearchParams)(),{toast:p}=(0,u.useToast)(),[f,x]=(0,s.useState)(h.get("tab")||"overview");(0,s.useEffect)(()=>{let e=h.get("tab");e&&x(e)},[h]);let v=e=>{p({title:"Feature Coming Soon",description:`${e} functionality will be available in the next update.`})},{data:g,isLoading:b,isError:y}=(0,r.useQuery)({queryKey:["/api/admin/review-requests"]}),{data:j,isLoading:N,isError:w}=(0,r.useQuery)({queryKey:["/api/admin/referral-campaigns"]}),{data:R,isLoading:k,isError:C}=(0,r.useQuery)({queryKey:["/api/admin/tracking-numbers"]}),{data:T,isLoading:S,isError:E}=(0,r.useQuery)({queryKey:["/api/admin/email-templates"]});return(0,t.jsx)("div",{className:"p-8",children:(0,t.jsxs)("div",{className:"max-w-7xl mx-auto",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-2","data-testid":"heading-marketing",children:"Marketing Automation"}),(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-description",children:"Manage campaigns, email templates, and phone tracking"})]}),(0,t.jsxs)("div",{className:"grid md:grid-cols-4 gap-6 mb-8",children:[(0,t.jsxs)(n.Card,{className:"p-6","data-testid":"stat-review-requests",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Active Review Requests"}),b?(0,t.jsx)(d.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-review-requests"}):y?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-review-requests-count",children:g?.requests?.filter(e=>"sent"===e.status).length||0})]}),(0,t.jsxs)(n.Card,{className:"p-6","data-testid":"stat-referral-campaigns",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Referral Campaigns"}),N?(0,t.jsx)(d.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-referral-campaigns"}):w?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-referral-campaigns-count",children:j?.campaigns?.length||0})]}),(0,t.jsxs)(n.Card,{className:"p-6","data-testid":"stat-tracking-numbers",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Tracking Numbers"}),k?(0,t.jsx)(d.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-tracking-numbers"}):C?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-tracking-numbers-count",children:R?.numbers?.length||0})]}),(0,t.jsxs)(n.Card,{className:"p-6","data-testid":"stat-email-templates",children:[(0,t.jsx)("div",{className:"text-sm text-muted-foreground mb-1",children:"Email Templates"}),S?(0,t.jsx)(d.Skeleton,{className:"h-9 w-12","data-testid":"skeleton-email-templates"}):E?(0,t.jsx)("div",{className:"text-3xl font-bold text-destructive",children:"—"}):(0,t.jsx)("div",{className:"text-3xl font-bold","data-testid":"text-email-templates-count",children:T?.templates?.length||0})]})]}),(0,t.jsxs)(i.Tabs,{value:f,onValueChange:t=>{x(t),e.push(`/admin/marketing?tab=${t}`)},children:[(0,t.jsxs)(i.TabsList,{className:"mb-8",children:[(0,t.jsx)(i.TabsTrigger,{value:"overview","data-testid":"tab-overview",children:"Overview"}),(0,t.jsx)(i.TabsTrigger,{value:"review-requests","data-testid":"tab-review-requests",children:"Review Requests"}),(0,t.jsx)(i.TabsTrigger,{value:"referral-nurture","data-testid":"tab-referral-nurture",children:"Referral Nurture"}),(0,t.jsx)(i.TabsTrigger,{value:"tracking","data-testid":"tab-tracking",children:"Phone Tracking"}),(0,t.jsx)(i.TabsTrigger,{value:"templates","data-testid":"tab-templates",children:"Email Templates"})]}),(0,t.jsx)(i.TabsContent,{value:"overview",children:(0,t.jsxs)(n.Card,{className:"p-8",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Marketing Overview"}),(0,t.jsx)("div",{className:"space-y-4",children:(0,t.jsxs)("div",{className:"grid md:grid-cols-2 gap-4",children:[(0,t.jsxs)(o.default,{href:"/admin/marketing?tab=review-requests",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-review-requests",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Review Request Campaigns"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"4-email sequence to gather customer reviews after job completion"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:b?(0,t.jsx)(d.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-review-requests"}):y?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[g?.requests?.filter(e=>"sent"===e.status).length||0," active campaigns"]})})]}),(0,t.jsxs)(o.default,{href:"/admin/marketing?tab=referral-nurture",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-referral-nurture",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Referral Nurture Campaigns"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"4-email sequence over 6 months to encourage referrals from happy customers"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:N?(0,t.jsx)(d.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-referral-campaigns"}):w?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[j?.campaigns?.length||0," enrolled customers"]})})]}),(0,t.jsxs)(o.default,{href:"/admin/marketing?tab=tracking",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-tracking-numbers",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"Campaign Phone Tracking"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Dedicated tracking phone numbers for each email campaign type"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:k?(0,t.jsx)(d.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-tracking-numbers"}):C?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[R?.numbers?.length||0," tracking numbers configured"]})})]}),(0,t.jsxs)(o.default,{href:"/admin/marketing?tab=templates",className:"p-6 bg-accent/50 hover:bg-accent rounded-lg transition","data-testid":"link-email-templates",children:[(0,t.jsx)("h3",{className:"font-semibold text-lg mb-2",children:"AI Email Templates"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"GPT-4o generated email templates with preview/edit workflow"}),(0,t.jsx)("div",{className:"mt-4 text-sm",children:S?(0,t.jsx)(d.Skeleton,{className:"h-5 w-32","data-testid":"skeleton-overview-email-templates"}):E?(0,t.jsx)("span",{className:"font-medium text-destructive",children:"—"}):(0,t.jsxs)("span",{className:"font-medium",children:[T?.templates?.length||0," templates ready"]})})]})]})})]})}),(0,t.jsx)(i.TabsContent,{value:"review-requests",children:(0,t.jsxs)(n.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Review Request Campaigns"}),(0,t.jsx)(l.Button,{"data-testid":"button-create-review-campaign",children:"Create Campaign"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"4-email drip campaign sent over 21 days to request customer reviews after job completion. Each campaign has a dedicated tracking phone number for attribution."}),b?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(d.Skeleton,{className:"h-6 w-48 mb-2","data-testid":`skeleton-review-request-${e}`}),(0,t.jsx)(d.Skeleton,{className:"h-4 w-64","data-testid":`skeleton-review-request-desc-${e}`})]},e))}):y?(0,t.jsxs)(c.Alert,{variant:"destructive",children:[(0,t.jsx)(m.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(c.AlertDescription,{children:"Failed to load review request campaigns. Please try again."})]}):g?.requests&&g.requests.length>0?(0,t.jsx)("div",{className:"space-y-3",children:g.requests.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`review-request-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.customerName}),(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${"sent"===e.status?"bg-blue-500/10 text-blue-600":"opened"===e.status?"bg-green-500/10 text-green-600":"bg-gray-500/10 text-gray-600"}`,"data-testid":`status-${e.id}`,children:e.status})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.email," • Started ",new Date(e.startedAt).toLocaleDateString()]}),e.trackingNumber&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["Tracking: ",e.trackingNumber]})]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>v("Campaign details"),"data-testid":`button-view-${e.id}`,children:"View"})]})},e.id))}):(0,t.jsx)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-review-requests",children:"No active review request campaigns"})})]})}),(0,t.jsx)(i.TabsContent,{value:"referral-nurture",children:(0,t.jsxs)(n.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Referral Nurture Campaigns"}),(0,t.jsx)(l.Button,{"data-testid":"button-create-referral-campaign",children:"Create Campaign"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"4-email sequence sent over 6 months (days 14, 60, 150, 210) to encourage referrals. Auto-pauses after 2 consecutive unopened emails. Each campaign has dedicated tracking number."}),N?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(d.Skeleton,{className:"h-6 w-48 mb-2","data-testid":`skeleton-referral-campaign-${e}`}),(0,t.jsx)(d.Skeleton,{className:"h-4 w-64","data-testid":`skeleton-referral-campaign-desc-${e}`})]},e))}):w?(0,t.jsxs)(c.Alert,{variant:"destructive",children:[(0,t.jsx)(m.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(c.AlertDescription,{children:"Failed to load referral nurture campaigns. Please try again."})]}):j?.campaigns&&j.campaigns.length>0?(0,t.jsx)("div",{className:"space-y-3",children:j.campaigns.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`referral-campaign-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.customerName}),e.isPaused&&(0,t.jsx)("span",{className:"text-xs bg-yellow-500/10 text-yellow-600 px-2 py-0.5 rounded","data-testid":`paused-${e.id}`,children:"Paused"}),(0,t.jsxs)("span",{className:"text-xs bg-gray-500/10 text-gray-600 px-2 py-0.5 rounded","data-testid":`email-${e.id}`,children:["Email ",e.currentEmail||1,"/4"]})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.email," • Started ",new Date(e.startedAt).toLocaleDateString()]}),e.unopenedCount>0&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:[e.unopenedCount," consecutive unopened emails"]})]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>v("Campaign details"),"data-testid":`button-view-${e.id}`,children:"View"})]})},e.id))}):(0,t.jsx)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-referral-campaigns",children:"No active referral nurture campaigns"})})]})}),(0,t.jsx)(i.TabsContent,{value:"tracking",children:(0,t.jsxs)(n.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"Campaign Phone Tracking"}),(0,t.jsx)(l.Button,{"data-testid":"button-add-tracking-number",children:"Add Tracking Number"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"Each email campaign type has its own dedicated tracking phone number for accurate attribution. All email links include automatic UTM parameters."}),k?(0,t.jsx)("div",{className:"space-y-3",children:[1,2].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(d.Skeleton,{className:"h-6 w-40 mb-2","data-testid":`skeleton-tracking-number-${e}`}),(0,t.jsx)(d.Skeleton,{className:"h-4 w-56","data-testid":`skeleton-tracking-number-desc-${e}`})]},e))}):C?(0,t.jsxs)(c.Alert,{variant:"destructive",children:[(0,t.jsx)(m.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(c.AlertDescription,{children:"Failed to load tracking numbers. Please try again."})]}):R?.numbers&&R.numbers.length>0?(0,t.jsx)("div",{className:"space-y-3",children:R.numbers.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`tracking-number-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-semibold text-lg",children:e.phoneNumber}),(0,t.jsx)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded","data-testid":`campaign-type-${e.id}`,children:e.campaignType})]}),(0,t.jsx)("div",{className:"text-sm text-muted-foreground",children:e.description||"No description"}),e.utmSource&&(0,t.jsxs)("div",{className:"text-sm text-muted-foreground mt-1",children:["UTM: ",e.utmSource," / ",e.utmMedium," / ",e.utmCampaign]})]}),(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>v("Edit tracking number"),"data-testid":`button-edit-${e.id}`,children:"Edit"})]})},e.id))}):(0,t.jsx)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-tracking-numbers",children:"No tracking numbers configured"})})]})}),(0,t.jsx)(i.TabsContent,{value:"templates",children:(0,t.jsxs)(n.Card,{className:"p-8",children:[(0,t.jsxs)("div",{className:"flex justify-between items-center mb-6",children:[(0,t.jsx)("h2",{className:"text-2xl font-bold",children:"AI Email Templates"}),(0,t.jsx)(l.Button,{"data-testid":"button-generate-template",children:"Generate New Template"})]}),(0,t.jsx)("p",{className:"text-muted-foreground mb-6",children:"GPT-4o powered email template generation with visual HTML preview and edit/approve workflow. Templates support dynamic variables and campaign-specific phone numbers."}),S?(0,t.jsx)("div",{className:"space-y-3",children:[1,2,3].map(e=>(0,t.jsxs)("div",{className:"p-4 border rounded-lg",children:[(0,t.jsx)(d.Skeleton,{className:"h-6 w-64 mb-2","data-testid":`skeleton-email-template-${e}`}),(0,t.jsx)(d.Skeleton,{className:"h-4 w-48","data-testid":`skeleton-email-template-desc-${e}`})]},e))}):E?(0,t.jsxs)(c.Alert,{variant:"destructive",children:[(0,t.jsx)(m.AlertCircle,{className:"h-4 w-4"}),(0,t.jsx)(c.AlertDescription,{children:"Failed to load email templates. Please try again."})]}):T?.templates&&T.templates.length>0?(0,t.jsx)("div",{className:"space-y-3",children:T.templates.map(e=>(0,t.jsx)("div",{className:"p-4 border rounded-lg","data-testid":`email-template-${e.id}`,children:(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 mb-1",children:[(0,t.jsx)("span",{className:"font-medium",children:e.name||e.subject}),e.isAiGenerated&&(0,t.jsx)("span",{className:"text-xs bg-primary/10 text-primary px-2 py-0.5 rounded",children:"AI Generated"}),(0,t.jsx)("span",{className:`text-xs px-2 py-0.5 rounded ${"approved"===e.status?"bg-green-500/10 text-green-600":"draft"===e.status?"bg-gray-500/10 text-gray-600":"bg-blue-500/10 text-blue-600"}`,"data-testid":`status-${e.id}`,children:e.status})]}),(0,t.jsxs)("div",{className:"text-sm text-muted-foreground",children:[e.campaignType&&(0,t.jsxs)("span",{children:["Campaign: ",e.campaignType]}),e.campaignType&&e.createdAt&&(0,t.jsx)("span",{className:"mx-2",children:"•"}),e.createdAt&&(0,t.jsxs)("span",{children:["Created ",new Date(e.createdAt).toLocaleDateString()]})]})]}),(0,t.jsxs)("div",{className:"flex gap-2",children:[(0,t.jsx)(l.Button,{variant:"outline",size:"sm",onClick:()=>v("Template preview"),"data-testid":`button-preview-${e.id}`,children:"Preview"}),(0,t.jsx)(l.Button,{variant:"ghost",size:"sm",onClick:()=>v("Edit template"),"data-testid":`button-edit-${e.id}`,children:"Edit"})]})]})},e.id))}):(0,t.jsxs)("div",{className:"bg-muted/30 p-8 rounded-lg text-center",children:[(0,t.jsx)("p",{className:"text-muted-foreground","data-testid":"text-empty-templates",children:"No email templates yet"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground mt-2",children:"Generate your first AI-powered email template"})]})]})})]})]})})}e.s(["MarketingDashboard",()=>h])}]);
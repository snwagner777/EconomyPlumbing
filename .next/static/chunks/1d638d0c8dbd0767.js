(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,531278,e=>{"use strict";let t=(0,e.i(475254).default)("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);e.s(["Loader2",()=>t],531278)},776872,e=>{"use strict";var t=e.i(843476),r=e.i(271645),a=e.i(142023),o=e.i(954616),c=e.i(437453),i=e.i(531278);function s(){let[,e]=(0,a.useRoute)("/ref/:code"),[,s]=(0,a.useLocation)(),[n,l]=(0,r.useState)(!0),u=(0,o.useMutation)({mutationFn:async e=>(0,c.apiRequest)("POST","/api/referrals/track-click",{code:e})});return((0,r.useEffect)(()=>{let t=e?.code;if(!t)return void s("/");let r=new Date;r.setDate(r.getDate()+30),document.cookie=`referralCode=${t}; path=/; expires=${r.toUTCString()}`,u.mutate(t,{onSuccess:()=>{console.log("[Referral Link] Click tracked for code:",t)},onError:e=>{console.error("[Referral Link] Error tracking click:",e)},onSettled:()=>{setTimeout(()=>{l(!1),s(`/referral-offer?code=${t}`)},500)}})},[e?.code]),n)?(0,t.jsx)("div",{className:"flex items-center justify-center min-h-screen bg-background",children:(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)(i.Loader2,{className:"h-12 w-12 animate-spin mx-auto text-primary"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Loading referral..."})]})}):null}e.s(["default",()=>s])}]);
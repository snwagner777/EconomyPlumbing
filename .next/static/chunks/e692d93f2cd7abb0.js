(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,519455,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(991918),i=e.i(225913),o=e.i(975157);let a=(0,i.cva)("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-full px-3 text-xs",lg:"min-h-10 rounded-full px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),n=t.forwardRef(({className:e,variant:t,size:i,asChild:n=!1,...l},d)=>{let u=n?s.Slot:"button";return(0,r.jsx)(u,{className:(0,o.cn)(a({variant:t,size:i,className:e})),ref:d,...l})});n.displayName="Button",e.s(["Button",()=>n])},793479,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(975157);let i=t.forwardRef(({className:e,type:t,...i},o)=>(0,r.jsx)("input",{type:t,className:(0,s.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:o,...i}));i.displayName="Input",e.s(["Input",()=>i])},110204,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(248425),i=t.forwardRef((e,t)=>(0,r.jsx)(s.Primitive.label,{...e,ref:t,onMouseDown:r=>{r.target.closest("button, input, select, textarea")||(e.onMouseDown?.(r),!r.defaultPrevented&&r.detail>1&&r.preventDefault())}}));i.displayName="Label";var o=e.i(225913),a=e.i(975157);let n=(0,o.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),l=t.forwardRef(({className:e,...t},s)=>(0,r.jsx)(i,{ref:s,className:(0,a.cn)(n(),e),...t}));l.displayName=i.displayName,e.s(["Label",()=>l],110204)},81821,e=>{"use strict";var r=e.i(843476),t=e.i(271645),s=e.i(653145),i=e.i(994814),o=e.i(50270),a=e.i(519455),n=e.i(903133),l=e.i(793479),d=e.i(908406),u=e.i(437453);let c=o.z.object({phone:o.z.string().min(10,"Please enter a valid phone number"),firstName:o.z.string().min(1,"First name is required"),lastName:o.z.string().min(1,"Last name is required")});function m(){let{toast:e}=(0,d.useToast)(),[o,m]=(0,t.useState)(!1),b=(0,s.useForm)({resolver:(0,i.zodResolver)(c),defaultValues:{phone:"",firstName:"",lastName:""}}),p=async r=>{m(!0);try{await (0,u.apiRequest)("/api/sms/subscribe",{method:"POST",body:JSON.stringify(r)}),e({title:"Successfully Subscribed!",description:"You'll start receiving text alerts from Economy Plumbing."}),b.reset()}catch(r){e({variant:"destructive",title:"Subscription Failed",description:"Please try again or call us at (512) 368-9159."})}finally{m(!1)}};return(0,r.jsx)(n.Form,{...b,children:(0,r.jsxs)("form",{onSubmit:b.handleSubmit(p),className:"space-y-6",children:[(0,r.jsx)(n.FormField,{control:b.control,name:"phone",render:({field:e})=>(0,r.jsxs)(n.FormItem,{children:[(0,r.jsx)(n.FormLabel,{children:"Phone Number"}),(0,r.jsx)(n.FormControl,{children:(0,r.jsx)(l.Input,{...e,type:"tel","data-testid":"input-phone",placeholder:"(512) 555-1234",className:"text-lg"})}),(0,r.jsx)(n.FormMessage,{})]})}),(0,r.jsx)(n.FormField,{control:b.control,name:"firstName",render:({field:e})=>(0,r.jsxs)(n.FormItem,{children:[(0,r.jsx)(n.FormLabel,{children:"First Name"}),(0,r.jsx)(n.FormControl,{children:(0,r.jsx)(l.Input,{...e,"data-testid":"input-first-name",placeholder:"John"})}),(0,r.jsx)(n.FormMessage,{})]})}),(0,r.jsx)(n.FormField,{control:b.control,name:"lastName",render:({field:e})=>(0,r.jsxs)(n.FormItem,{children:[(0,r.jsx)(n.FormLabel,{children:"Last Name"}),(0,r.jsx)(n.FormControl,{children:(0,r.jsx)(l.Input,{...e,"data-testid":"input-last-name",placeholder:"Doe"})}),(0,r.jsx)(n.FormMessage,{})]})}),(0,r.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg text-sm",children:[(0,r.jsx)("p",{className:"mb-2",children:"By signing up, you agree to receive text messages from Economy Plumbing Services. Message and data rates may apply. Message frequency varies."}),(0,r.jsx)("p",{children:"Reply STOP to unsubscribe or HELP for help at any time."})]}),(0,r.jsx)(a.Button,{type:"submit","data-testid":"button-submit-sms-signup",className:"w-full text-lg",size:"lg",disabled:o,children:o?"Signing Up...":"Sign Me Up"})]})})}e.s(["SMSForm",()=>m])}]);
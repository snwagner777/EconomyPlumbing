(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,269638,e=>{"use strict";let t=(0,e.i(475254).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);e.s(["CheckCircle",()=>t],269638)},110204,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(248425),a=s.forwardRef((e,s)=>(0,t.jsx)(r.Primitive.label,{...e,ref:s,onMouseDown:t=>{t.target.closest("button, input, select, textarea")||(e.onMouseDown?.(t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));a.displayName="Label";var i=e.i(225913),n=e.i(975157);let l=(0,i.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),o=s.forwardRef(({className:e,...s},r)=>(0,t.jsx)(a,{ref:r,className:(0,n.cn)(l(),e),...s}));o.displayName=a.displayName,e.s(["Label",()=>o],110204)},954616,e=>{"use strict";var t=e.i(271645),s=e.i(114272),r=e.i(540143),a=e.i(915823),i=e.i(619273),n=class extends a.Subscribable{#e;#t=void 0;#s;#r;constructor(e,t){super(),this.#e=e,this.setOptions(t),this.bindMethods(),this.#a()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#e.defaultMutationOptions(e),(0,i.shallowEqualObjects)(this.options,t)||this.#e.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#s,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,i.hashKey)(t.mutationKey)!==(0,i.hashKey)(this.options.mutationKey)?this.reset():this.#s?.state.status==="pending"&&this.#s.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#s?.removeObserver(this)}onMutationUpdate(e){this.#a(),this.#i(e)}getCurrentResult(){return this.#t}reset(){this.#s?.removeObserver(this),this.#s=void 0,this.#a(),this.#i()}mutate(e,t){return this.#r=t,this.#s?.removeObserver(this),this.#s=this.#e.getMutationCache().build(this.#e,this.options),this.#s.addObserver(this),this.#s.execute(e)}#a(){let e=this.#s?.state??(0,s.getDefaultState)();this.#t={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){r.notifyManager.batch(()=>{if(this.#r&&this.hasListeners()){let t=this.#t.variables,s=this.#t.context;e?.type==="success"?(this.#r.onSuccess?.(e.data,t,s),this.#r.onSettled?.(e.data,null,t,s)):e?.type==="error"&&(this.#r.onError?.(e.error,t,s),this.#r.onSettled?.(void 0,e.error,t,s))}this.listeners.forEach(e=>{e(this.#t)})})}},l=e.i(912598),o=e.i(811076);function d(e,s){let a=(0,l.useQueryClient)(s),[i]=t.useState(()=>new n(a,e));t.useEffect(()=>{i.setOptions(e)},[i,e]);let d=t.useSyncExternalStore(t.useCallback(e=>i.subscribe(r.notifyManager.batchCalls(e)),[i]),()=>i.getCurrentResult(),()=>i.getCurrentResult()),c=t.useCallback((e,t)=>{i.mutate(e,t).catch(o.noop)},[i]);if(d.error&&(0,o.shouldThrowError)(i.options.throwOnError,[d.error]))throw d.error;return{...d,mutate:c,mutateAsync:d.mutate}}e.s(["useMutation",()=>d],954616)},624687,e=>{"use strict";var t=e.i(843476),s=e.i(271645),r=e.i(975157);let a=s.forwardRef(({className:e,...s},a)=>(0,t.jsx)("textarea",{className:(0,r.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",e),ref:a,...s}));a.displayName="Textarea",e.s(["Textarea",()=>a])},870273,e=>{"use strict";let t=(0,e.i(475254).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);e.s(["Star",()=>t],870273)},302747,e=>{"use strict";var t=e.i(843476),s=e.i(975157);function r({className:e,...r}){return(0,t.jsx)("div",{className:(0,s.cn)("animate-pulse rounded-md bg-muted",e),...r})}e.s(["Skeleton",()=>r])},98919,e=>{"use strict";let t=(0,e.i(475254).default)("Shield",[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]]);e.s(["Shield",()=>t],98919)},842009,e=>{"use strict";let t=(0,e.i(475254).default)("Award",[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]]);e.s(["Award",()=>t],842009)},761911,e=>{"use strict";let t=(0,e.i(475254).default)("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);e.s(["Users",()=>t],761911)},25652,e=>{"use strict";let t=(0,e.i(475254).default)("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);e.s(["TrendingUp",()=>t],25652)},778917,e=>{"use strict";let t=(0,e.i(475254).default)("ExternalLink",[["path",{d:"M15 3h6v6",key:"1q9fwt"}],["path",{d:"M10 14 21 3",key:"gplh6r"}],["path",{d:"M18 13v6a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V8a2 2 0 0 1 2-2h6",key:"a6xqqp"}]]);e.s(["ExternalLink",()=>t],778917)},514764,e=>{"use strict";let t=(0,e.i(475254).default)("Send",[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]]);e.s(["Send",()=>t],514764)},790597,e=>{"use strict";let t=(0,e.i(475254).default)("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);e.s(["Heart",()=>t],790597)},590524,e=>{"use strict";var t=e.i(843476),s=e.i(266027),r=e.i(954616),a=e.i(870273),i=e.i(778917),n=e.i(383157),l=e.i(98919),o=e.i(790597),d=e.i(25652),c=e.i(269638),u=e.i(842009),m=e.i(761911),h=e.i(514764),x=e.i(519455),p=e.i(515288),g=e.i(302747),f=e.i(624687),b=e.i(110204),y=e.i(868127),v=e.i(380759),j=e.i(402971),N=e.i(13642),w=e.i(908406),k=e.i(437453),C=e.i(271645);let S=e=>{switch(e){case"google":return"bg-blue-600 hover:bg-blue-700 dark:bg-blue-700 dark:hover:bg-blue-800";case"facebook":return"bg-[#1877F2] hover:bg-[#1668D9] dark:bg-[#1668D9] dark:hover:bg-[#1459C0]";case"bbb":return"bg-emerald-600 hover:bg-emerald-700 dark:bg-emerald-700 dark:hover:bg-emerald-800";case"yelp":return"bg-red-600 hover:bg-red-700 dark:bg-red-700 dark:hover:bg-red-800";default:return"bg-primary hover:bg-primary/90"}};e.s(["default",0,function(){let e,{toast:M}=(0,w.useToast)(),[R,T]=(0,C.useState)(null),[O,E]=(0,C.useState)(null),[H,P]=(0,C.useState)(""),[Y,D]=(0,C.useState)(!1),{data:F,isLoading:A}=(0,s.useQuery)({queryKey:["/api/review-platforms"]}),U=(0,r.useMutation)({mutationFn:async e=>{let t=await (0,k.apiRequest)("POST","/api/review-feedback",e);return await t.json()},onSuccess:()=>{D(!0),M({title:"Thank You!",description:"Your feedback has been received. We'll use it to improve our service."})},onError:e=>{M({title:"Submission Failed",description:e.message||"Failed to submit feedback",variant:"destructive"})}}),L=["Your review helps families find reliable plumbing service when they need it most","Local homeowners depend on reviews like yours to make informed decisions","Your feedback guides others to trustworthy service in our community","By sharing your experience, you're helping neighbors avoid plumbing disasters"],W=L[Math.floor(Math.random()*L.length)],q=null!==O?O:R;return(0,t.jsxs)("div",{className:"min-h-screen bg-gradient-to-br from-background via-background to-muted/20",children:[(0,t.jsx)(v.SEOHead,{title:"Leave a Review | Economy Plumbing Services",description:"Share your experience with Economy Plumbing Services. Your review helps our business grow and helps other customers make informed decisions.",canonical:"/request-review"}),(0,t.jsx)(j.default,{}),(0,t.jsxs)("div",{className:"container max-w-4xl mx-auto px-4 py-16 space-y-8",children:[(0,t.jsxs)("div",{className:"text-center space-y-4",children:[(0,t.jsx)("div",{className:"inline-flex items-center justify-center p-3 bg-primary/10 rounded-full mb-4",children:(0,t.jsx)(a.Star,{className:"w-8 h-8 text-primary fill-primary"})}),(0,t.jsxs)("h1",{className:"text-4xl md:text-5xl font-bold tracking-tight",children:[(e=new Date().getHours())<12?"Good morning":e<17?"Good afternoon":"Good evening","! Thank You for Choosing Economy Plumbing"]}),(0,t.jsx)("p",{className:"text-xl text-muted-foreground max-w-2xl mx-auto",children:"We'd love to hear about your experience!"})]}),!R&&!Y&&(0,t.jsxs)(p.Card,{className:"border-2 border-primary/30 shadow-lg",children:[(0,t.jsxs)(p.CardHeader,{className:"bg-gradient-to-r from-primary/10 to-primary/5",children:[(0,t.jsx)(p.CardTitle,{className:"text-2xl text-center",children:"How Would You Rate Your Experience?"}),(0,t.jsx)(p.CardDescription,{className:"text-center",children:"Click to select your rating"})]}),(0,t.jsxs)(p.CardContent,{className:"pt-8 pb-10",children:[(0,t.jsx)("div",{className:"flex justify-center gap-3","data-testid":"rating-selector",children:[1,2,3,4,5].map(e=>(0,t.jsx)("button",{onClick:()=>T(e),onMouseEnter:()=>E(e),onMouseLeave:()=>E(null),className:"transition-transform hover:scale-110 active:scale-95","data-testid":`star-${e}`,children:(0,t.jsx)(a.Star,{className:`w-16 h-16 transition-colors ${q&&q>=e?"fill-yellow-400 text-yellow-400":"fill-none text-gray-300"}`})},e))}),q&&(0,t.jsxs)("p",{className:"text-center mt-6 text-lg font-medium","data-testid":"rating-label",children:[5===q&&"Excellent! â­",4===q&&"Great! ðŸ‘",3===q&&"Good",2===q&&"Fair",1===q&&"Poor"]})]})]}),R&&R>=4&&!Y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Card,{className:"border-2 border-green-500/30 shadow-lg",children:[(0,t.jsxs)(p.CardHeader,{className:"bg-gradient-to-r from-green-500/10 to-green-500/5",children:[(0,t.jsxs)(p.CardTitle,{className:"text-2xl text-center flex items-center justify-center gap-2",children:[(0,t.jsx)(c.CheckCircle,{className:"w-6 h-6 text-green-600"}),"Wonderful! We're So Glad You Had a Great Experience"]}),(0,t.jsx)(p.CardDescription,{className:"text-center",children:W})]}),(0,t.jsx)(p.CardContent,{className:"pt-6",children:(0,t.jsx)("p",{className:"text-center text-muted-foreground mb-6",children:"Would you mind sharing your positive experience on one of these platforms? It only takes 2 minutes!"})})]}),(0,t.jsxs)(p.Card,{className:"border-primary/20",children:[(0,t.jsxs)(p.CardHeader,{children:[(0,t.jsxs)(p.CardTitle,{className:"text-xl flex items-center gap-2",children:[(0,t.jsx)(c.CheckCircle,{className:"w-5 h-5 text-primary"}),"Quick Questions to Guide Your Review"]}),(0,t.jsx)(p.CardDescription,{children:"Consider mentioning these in your feedback"})]}),(0,t.jsx)(p.CardContent,{className:"space-y-4 pt-4",children:(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.TrendingUp,{className:"w-5 h-5 text-primary mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"How was our response time?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Did we arrive when promised?"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.Users,{className:"w-5 h-5 text-primary mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"How was our technician?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Professional, friendly, knowledgeable?"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(l.Shield,{className:"w-5 h-5 text-primary mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Was the problem solved?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"Did we fix it right the first time?"})]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(o.Heart,{className:"w-5 h-5 text-primary mt-1"}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"font-medium",children:"Would you recommend us?"}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground",children:"To friends, family, or neighbors?"})]})]})]})})]})]}),R&&R<4&&!Y&&(0,t.jsxs)(p.Card,{className:"border-2 border-orange-500/30 shadow-lg",children:[(0,t.jsxs)(p.CardHeader,{className:"bg-gradient-to-r from-orange-500/10 to-orange-500/5",children:[(0,t.jsx)(p.CardTitle,{className:"text-2xl text-center",children:"We're Sorry to Hear That"}),(0,t.jsx)(p.CardDescription,{className:"text-center",children:"Your feedback is valuable and helps us improve. Please tell us what went wrong."})]}),(0,t.jsxs)(p.CardContent,{className:"pt-6 space-y-4",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)(b.Label,{htmlFor:"feedback-text",className:"text-base font-medium",children:"What could we have done better?"}),(0,t.jsx)(f.Textarea,{id:"feedback-text","data-testid":"input-feedback",placeholder:"Please share details about your experience so we can make it right...",value:H,onChange:e=>P(e.target.value),rows:6,className:"mt-2"})]}),(0,t.jsxs)("div",{className:"flex gap-3 justify-end",children:[(0,t.jsx)(x.Button,{variant:"outline",onClick:()=>{T(null),P("")},"data-testid":"button-cancel-feedback",children:"Go Back"}),(0,t.jsx)(x.Button,{onClick:()=>{R?H.trim()?U.mutate({rating:R,feedback:H}):M({title:"Feedback Required",description:"Please tell us about your experience",variant:"destructive"}):M({title:"Rating Required",description:"Please select a rating before submitting",variant:"destructive"})},disabled:U.isPending||!H.trim(),"data-testid":"button-submit-feedback",children:U.isPending?"Submitting...":(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(h.Send,{className:"w-4 h-4 mr-2"}),"Submit Feedback"]})})]})]})]}),Y&&(0,t.jsx)(p.Card,{className:"border-2 border-green-500/30 shadow-lg",children:(0,t.jsxs)(p.CardContent,{className:"pt-8 pb-8 text-center",children:[(0,t.jsx)(c.CheckCircle,{className:"w-16 h-16 text-green-600 mx-auto mb-4"}),(0,t.jsx)("h2",{className:"text-2xl font-bold mb-2",children:"Thank You for Your Feedback"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"We take all feedback seriously and will use it to improve our service. A member of our team may reach out to discuss your experience further."})]})}),R&&R>=4&&!Y&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsxs)(p.Card,{className:"border-primary/20 bg-gradient-to-br from-primary/5 to-background",children:[(0,t.jsxs)(p.CardHeader,{children:[(0,t.jsx)(p.CardTitle,{className:"text-2xl",children:"The Impact of Your Review"}),(0,t.jsx)(p.CardDescription,{children:"Here's how your 2-minute review helps"})]}),(0,t.jsxs)(p.CardContent,{className:"space-y-3",children:[(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(m.Users,{className:"w-5 h-5 text-primary mt-1 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("strong",{className:"text-foreground",children:"Helps 50+ families monthly:"})," Your review guides Austin homeowners to reliable emergency plumbing service"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(u.Award,{className:"w-5 h-5 text-primary mt-1 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("strong",{className:"text-foreground",children:"Recognizes excellent service:"})," Our technicians take pride in every positive review - it's the highlight of their day"]})]}),(0,t.jsxs)("div",{className:"flex items-start gap-3",children:[(0,t.jsx)(d.TrendingUp,{className:"w-5 h-5 text-primary mt-1 flex-shrink-0"}),(0,t.jsxs)("p",{className:"text-muted-foreground",children:[(0,t.jsx)("strong",{className:"text-foreground",children:"Supports a local business:"})," As a family-owned company since 1995, your review helps us compete with corporate chains"]})]})]})]}),(0,t.jsxs)("div",{className:"space-y-4",children:[(0,t.jsx)("h2",{className:"text-2xl font-semibold text-center",children:"Choose Your Preferred Platform"}),A?(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[1,2,3,4].map(e=>(0,t.jsx)(g.Skeleton,{className:"h-32 w-full"},e))}):(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:F?.map(e=>(0,t.jsxs)(p.Card,{className:"hover-elevate transition-all",children:[(0,t.jsx)(p.CardHeader,{className:"pb-3",children:(0,t.jsxs)("div",{className:"flex items-center gap-3",children:[(0,t.jsx)("div",{className:`p-2 rounded-lg ${S(e.platform)} text-white`,children:(e=>{switch(e){case"google":default:return(0,t.jsx)(a.Star,{className:"w-6 h-6"});case"facebook":return(0,t.jsx)(n.Facebook,{className:"w-6 h-6"});case"bbb":return(0,t.jsx)(l.Shield,{className:"w-6 h-6"});case"yelp":return(0,t.jsx)(y.SiYelp,{className:"w-6 h-6"})}})(e.platform)}),(0,t.jsxs)("div",{children:[(0,t.jsx)(p.CardTitle,{className:"text-lg",children:e.displayName}),e.description&&(0,t.jsx)(p.CardDescription,{className:"text-xs mt-1",children:e.description})]})]})}),(0,t.jsx)(p.CardContent,{children:(0,t.jsx)(x.Button,{asChild:!0,className:`w-full ${S(e.platform)} text-white`,size:"lg","data-testid":`button-review-${e.platform}`,children:(0,t.jsxs)("a",{href:e.url,target:"_blank",rel:"noopener noreferrer",children:["Review on ",e.displayName,(0,t.jsx)(i.ExternalLink,{className:"w-4 h-4 ml-2"})]})})})]},e.id))})]}),(0,t.jsx)(p.Card,{className:"bg-muted/50 border-muted",children:(0,t.jsxs)(p.CardContent,{className:"pt-6 text-center space-y-4",children:[(0,t.jsx)("div",{className:"flex justify-center",children:(0,t.jsx)(o.Heart,{className:"w-12 h-12 text-primary fill-primary/20"})}),(0,t.jsxs)("div",{children:[(0,t.jsx)("p",{className:"text-lg font-medium mb-2",children:"Thank You for Being Part of Our Story"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"Every review represents a real person we've helped. Your honest feedback helps us continue delivering excellent plumbing service to the Austin and Marble Falls area for another 30 years."})]}),(0,t.jsx)("p",{className:"text-sm text-muted-foreground italic",children:'"We treat every home like it\'s our own, and every customer like family."'})]})})]})]}),(0,t.jsx)(N.default,{})]})}],590524)}]);
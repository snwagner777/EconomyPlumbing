(globalThis.TURBOPACK||(globalThis.TURBOPACK=[])).push(["object"==typeof document?document.currentScript:void 0,284614,e=>{"use strict";let t=(0,e.i(475254).default)("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);e.s(["User",()=>t],284614)},402386,373375,463059,e=>{"use strict";var t=e.i(843476),a=e.i(271645),s=e.i(515288),l=e.i(487486),i=e.i(87316),r=e.i(284614),n=e.i(972520),d=e.i(522016),c=e.i(945919);let o=(0,a.memo)(({post:e,priority:a=!1})=>(0,t.jsxs)(s.Card,{className:"flex flex-col h-full hover-elevate active-elevate-2 overflow-hidden",children:[(0,t.jsx)("div",{className:"overflow-hidden",children:e.featuredImage?(0,t.jsx)(d.default,{href:`/${e.slug}`,"data-testid":`link-image-${e.slug}`,children:(0,t.jsx)("img",{src:e.featuredImage,srcSet:(e=>{if(!e)return"";if(e.includes("_1200w.webp")){let t=e.replace("_1200w.webp","");return`${t}_400w.webp 400w, ${t}_800w.webp 800w, ${t}_1200w.webp 1200w`}return`${e} 1200w`})(e.featuredImage),sizes:"(max-width: 640px) 100vw, (max-width: 1024px) 50vw, 33vw",alt:`Featured image for: ${e.title}`,width:"1200",height:"675",loading:a?"eager":"lazy",fetchPriority:a?"high":"auto",decoding:"async",className:"w-full h-56 object-cover cursor-pointer transition-transform hover:scale-105",style:{objectPosition:e.focalPointX&&e.focalPointY?`${e.focalPointX}% ${e.focalPointY}%`:"center center"}})}):(0,t.jsx)("div",{className:"w-full h-56 bg-muted flex items-center justify-center",children:(0,t.jsx)("span",{className:"text-muted-foreground",children:"No image available"})})}),(0,t.jsxs)("div",{className:"p-6 flex flex-col flex-1",children:[(0,t.jsxs)("div",{className:"flex flex-wrap items-center gap-3 mb-3",children:[(0,t.jsx)(l.Badge,{variant:"secondary","data-testid":`badge-category-${e.slug}`,children:e.category}),(0,t.jsxs)("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[(0,t.jsx)(i.Calendar,{className:"w-4 h-4"}),(0,t.jsx)("span",{"data-testid":`text-date-${e.slug}`,children:(0,c.format)(new Date(e.publishDate),"MMM dd, yyyy")})]})]}),(0,t.jsx)(d.default,{href:`/${e.slug}`,children:(0,t.jsx)("h3",{className:"text-xl font-bold mb-3 hover:text-primary transition-colors","data-testid":`text-title-${e.slug}`,children:e.title})}),e.excerpt&&(0,t.jsx)("p",{className:"text-muted-foreground mb-4 line-clamp-3 flex-1","data-testid":`text-excerpt-${e.slug}`,children:e.excerpt}),(0,t.jsxs)("div",{className:"flex items-center justify-between gap-4 pt-4 border-t mt-auto",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:[(0,t.jsx)(r.User,{className:"w-4 h-4"}),(0,t.jsx)("span",{"data-testid":`text-author-${e.slug}`,children:e.author})]}),(0,t.jsxs)(d.default,{href:`/${e.slug}`,className:"inline-flex items-center gap-1.5 text-sm font-semibold text-foreground hover:text-primary transition-colors","data-testid":`link-read-more-${e.slug}`,children:["Read Full Article",(0,t.jsx)(n.ArrowRight,{className:"w-4 h-4"})]})]})]})]}));o.displayName="BlogCard",e.s(["default",0,o],402386);var m=e.i(475254);let x=(0,m.default)("ChevronLeft",[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]]);e.s(["ChevronLeft",()=>x],373375);let h=(0,m.default)("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);e.s(["ChevronRight",()=>h],463059)},937046,e=>{"use strict";var t=e.i(843476),a=e.i(266027),s=e.i(618566),l=e.i(522016),i=e.i(918789),r=e.i(130562),n=e.i(271645),d=e.i(402971),c=e.i(13642),o=e.i(402386),m=e.i(416954),x=e.i(37727),h=e.i(373375),u=e.i(463059),g=e.i(519455);function f({images:e,currentIndex:a,onClose:s,onNavigate:l}){let[i,r]=(0,n.useState)(a);(0,n.useEffect)(()=>{r(a)},[a]),(0,n.useEffect)(()=>{let t=t=>{"Escape"===t.key?s():"ArrowLeft"===t.key&&i>0?d():"ArrowRight"===t.key&&i<e.length-1&&c()};return window.addEventListener("keydown",t),document.body.style.overflow="hidden",()=>{window.removeEventListener("keydown",t),document.body.style.overflow="unset"}},[i,e.length,s]);let d=()=>{let e=Math.max(0,i-1);r(e),l?.(e)},c=()=>{let t=Math.min(e.length-1,i+1);r(t),l?.(t)};return(0,t.jsxs)("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/90 p-4",onClick:e=>{e.target===e.currentTarget&&s()},"data-testid":"lightbox-overlay",children:[(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"absolute top-4 right-4 text-white hover:bg-white/20 z-10",onClick:s,"data-testid":"button-close-lightbox",children:(0,t.jsx)(x.X,{className:"w-6 h-6"})}),e.length>1&&(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"absolute left-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed z-10",onClick:d,disabled:0===i,"data-testid":"button-prev-image",children:(0,t.jsx)(h.ChevronLeft,{className:"w-8 h-8"})}),(0,t.jsx)(g.Button,{variant:"ghost",size:"icon",className:"absolute right-4 top-1/2 -translate-y-1/2 text-white hover:bg-white/20 disabled:opacity-30 disabled:cursor-not-allowed z-10",onClick:c,disabled:i===e.length-1,"data-testid":"button-next-image",children:(0,t.jsx)(u.ChevronRight,{className:"w-8 h-8"})})]}),e.length>1&&(0,t.jsxs)("div",{className:"absolute bottom-4 left-1/2 -translate-x-1/2 bg-black/60 text-white px-4 py-2 rounded-full text-sm","data-testid":"text-image-counter",children:[i+1," / ",e.length]}),(0,t.jsx)("img",{src:e[i],alt:"",className:"max-w-full max-h-full object-contain","data-testid":"img-lightbox"})]})}function p({src:e,alt:a,className:s,...l}){let[i,r]=(0,n.useState)(!1);return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)("img",{src:e,alt:a,className:`cursor-pointer ${s||""}`,onClick:()=>r(!0),...l}),i&&(0,t.jsx)(f,{images:[e],currentIndex:0,onClose:()=>r(!1)})]})}var j=e.i(487486),b=e.i(87316),w=e.i(284614),v=e.i(343432),N=e.i(694351),y=e.i(945919),k=e.i(380759),C=e.i(44722);e.i(573690);var P=e.i(829682);let $={"Water Heaters":"water_heater","Drain Cleaning":"drain",Drains:"drain","Emergency Tips":"general",Maintenance:"general","Leak Repair":"leak",Commercial:"general","Backflow Testing":"general","Customer Stories":"general","Seasonal Tips":"general",Promotions:"general"};e.s(["default",0,function(){let e=(0,s.useParams)(),x=e?.slug||"",B=(0,P.usePhoneConfig)(),I=(0,P.useMarbleFallsPhone)(),[S,T]=(0,n.useState)(!1),[D,M]=(0,n.useState)([]),[R,A]=(0,n.useState)(0),{data:z,isLoading:L}=(0,a.useQuery)({queryKey:["/api/blog",x],enabled:!!x}),{data:E}=(0,a.useQuery)({queryKey:["/api/blog"]}),F=`https://www.plumbersthatcare.com/${x}`,_=E?.posts||[],H=_.filter(e=>e.category===z?.category&&e.slug!==z?.slug).slice(0,3),U=[..._].sort((e,t)=>new Date(t.publishDate).getTime()-new Date(e.publishDate).getTime()),O=U.findIndex(e=>e.id===z?.id)??-1,X=O>0?U[O-1]:null,K=O<(U.length??0)-1?U[O+1]:null;if(L)return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(d.default,{}),(0,t.jsx)("main",{className:"flex-1 py-12",children:(0,t.jsx)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:(0,t.jsx)("div",{className:"h-96 bg-muted animate-pulse rounded-lg"})})}),(0,t.jsx)(c.default,{})]});if(!z)return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(d.default,{}),(0,t.jsx)("main",{className:"flex-1 py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold mb-4",children:"Post Not Found"}),(0,t.jsx)("p",{className:"text-muted-foreground",children:"The blog post you're looking for doesn't exist."})]})}),(0,t.jsx)(c.default,{})]});let Y=z?(0,C.createBlogPostSchema)(z):void 0,q=z?(0,C.createBreadcrumbListSchema)([{name:"Home",url:"https://www.plumbersthatcare.com"},{name:"Blog",url:"https://www.plumbersthatcare.com/blog"},{name:z.title,url:F}]):void 0;return(0,t.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,t.jsx)(k.SEOHead,{title:z.title,description:z.metaDescription||"",canonical:F,ogType:"article",ogImage:z.featuredImage?z.featuredImage.startsWith("http")?z.featuredImage:`https://www.plumbersthatcare.com${z.featuredImage}`:"https://www.plumbersthatcare.com/attached_assets/logo.jpg",ogImageAlt:`Featured image for: ${z.title}`,schema:Y&&q?[Y,q]:void 0,articlePublishedTime:new Date(z.publishDate).toISOString(),articleAuthor:z.author}),(0,t.jsx)(d.default,{}),(0,t.jsxs)("main",{className:"flex-1",children:[(0,t.jsx)("article",{className:"py-12 lg:py-16",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,t.jsx)("nav",{"aria-label":"Breadcrumb",className:"mb-6 text-sm text-muted-foreground","data-testid":"nav-breadcrumbs",children:(0,t.jsxs)("ol",{className:"flex items-center gap-2",children:[(0,t.jsx)("li",{children:(0,t.jsxs)(l.default,{href:"/",className:"hover:text-foreground flex items-center gap-1","data-testid":"link-breadcrumb-home",children:[(0,t.jsx)(N.Home,{className:"w-4 h-4"}),"Home"]})}),(0,t.jsx)("li",{"aria-hidden":"true",children:"/"}),(0,t.jsx)("li",{children:(0,t.jsx)(l.default,{href:"/blog",className:"hover:text-foreground","data-testid":"link-breadcrumb-blog",children:"Blog"})}),(0,t.jsx)("li",{"aria-hidden":"true",children:"/"}),(0,t.jsx)("li",{"aria-current":"page",className:"text-foreground","data-testid":"text-breadcrumb-current",children:z.title})]})}),(0,t.jsxs)("div",{className:"mb-6",children:[(0,t.jsx)(j.Badge,{className:"mb-4","data-testid":"badge-category",children:z.category}),(0,t.jsx)("h1",{className:"text-4xl lg:text-5xl font-bold mb-4","data-testid":"text-title",children:z.h1||z.title}),(0,t.jsxs)("div",{className:"flex items-center gap-6 text-muted-foreground",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(w.User,{className:"w-4 h-4"}),(0,t.jsx)("span",{"data-testid":"text-author",children:z.author})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(b.Calendar,{className:"w-4 h-4"}),(0,t.jsx)("span",{"data-testid":"text-date",children:(0,y.format)(new Date(z.publishDate),"MMMM dd, yyyy")})]})]})]}),z.featuredImage&&(0,t.jsx)(p,{src:z.featuredImage,alt:z.title,width:"1200",height:"630",loading:"eager",fetchPriority:"high",decoding:"async",className:"w-full h-96 object-cover rounded-lg mb-8",style:{objectPosition:z.focalPointX&&z.focalPointY?`${z.focalPointX}% ${z.focalPointY}%`:"center center"},"data-testid":"img-featured"}),(0,t.jsxs)("div",{className:"relative",children:[z.category&&$[z.category]&&(0,t.jsx)("div",{className:"hidden md:block md:float-right md:ml-6 md:w-80 lg:w-96 mb-6",style:{marginTop:"12rem"},children:(0,t.jsx)(m.default,{category:$[z.category],minRating:4})}),(0,t.jsxs)("div",{className:"prose prose-lg max-w-none mb-12","data-testid":"text-content",children:[z.category&&$[z.category]&&(0,t.jsx)("div",{className:"md:hidden not-prose mb-6",children:(0,t.jsx)(m.default,{category:$[z.category],minRating:4})}),(0,t.jsx)(i.default,{rehypePlugins:[r.default],components:{img:({node:e,src:a,alt:s,...l})=>{let i;if(!a)return null;let r=[],n=/!\[.*?\]\((.*?)\)/g;for(;null!==(i=n.exec(z.content));)r.push(i[1]);return(0,t.jsx)("img",{src:a,alt:s||"",...l,className:"cursor-pointer rounded-lg",onClick:()=>{let e;return e=r.indexOf(a),void(M(r),A(e>=0?e:0),T(!0))}})}},children:z.content}),S&&(0,t.jsx)(f,{images:D,currentIndex:R,onClose:()=>T(!1),onNavigate:A})]})]}),H&&H.length>0&&(0,t.jsxs)("div",{className:"bg-card border rounded-lg p-6 mb-12","data-testid":"card-related-articles",children:[(0,t.jsx)("h3",{className:"text-2xl font-bold mb-6",children:"Related Articles"}),(0,t.jsx)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:H.map(e=>(0,t.jsx)(o.default,{post:e},e.id))})]}),(X||K)&&(0,t.jsx)("div",{className:"border-t pt-8 mt-12","data-testid":"nav-pagination",children:(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row sm:justify-between gap-4",children:[X&&(0,t.jsx)(l.default,{href:`/${X.slug}`,className:"flex-1",children:(0,t.jsxs)(g.Button,{variant:"ghost",className:"gap-2 w-full sm:w-auto justify-start","data-testid":"button-prev-post",children:[(0,t.jsx)(h.ChevronLeft,{className:"w-4 h-4 flex-shrink-0"}),(0,t.jsxs)("div",{className:"text-left min-w-0",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Previous"}),(0,t.jsx)("div",{className:"font-medium truncate",children:X.title})]})]})}),K&&(0,t.jsx)(l.default,{href:`/${K.slug}`,className:"flex-1",children:(0,t.jsxs)(g.Button,{variant:"ghost",className:"gap-2 w-full sm:w-auto justify-start sm:justify-end","data-testid":"button-next-post",children:[(0,t.jsxs)("div",{className:"text-left sm:text-right min-w-0 order-2 sm:order-1",children:[(0,t.jsx)("div",{className:"text-xs text-muted-foreground",children:"Next"}),(0,t.jsx)("div",{className:"font-medium truncate",children:K.title})]}),(0,t.jsx)(u.ChevronRight,{className:"w-4 h-4 flex-shrink-0 order-1 sm:order-2"})]})})]})})]})}),(0,t.jsx)("section",{className:"bg-primary text-white py-12",children:(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 text-center",children:[(0,t.jsx)("h2",{className:"text-3xl font-bold mb-4",children:"Need Plumbing Services?"}),(0,t.jsx)("p",{className:"text-xl mb-6 text-white/90",children:"Contact Economy Plumbing for expert service in Austin and surrounding areas"}),(0,t.jsxs)("div",{className:"flex flex-col sm:flex-row gap-4 justify-center items-center",children:[(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Phone,{className:"w-5 h-5"}),(0,t.jsx)("a",{href:B.tel,className:"text-2xl font-bold hover:underline","data-testid":"link-phone-austin",children:B.display}),(0,t.jsx)("span",{className:"text-white/80",children:"Austin"})]}),(0,t.jsxs)("div",{className:"flex items-center gap-2",children:[(0,t.jsx)(v.Phone,{className:"w-5 h-5"}),(0,t.jsx)("a",{href:I.tel,className:"text-2xl font-bold hover:underline","data-testid":"link-phone-marble",children:I.display}),(0,t.jsx)("span",{className:"text-white/80",children:"Marble Falls"})]})]})]})})]}),(0,t.jsx)(c.default,{})]})}],937046)}]);
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/admin/check/route.ts"],"sourcesContent":["/**\n * Admin Auth Check API\n * Returns whether the current user is authenticated as admin\n */\n\nimport { NextResponse } from 'next/server';\nimport { getIronSession } from 'iron-session';\nimport { cookies } from 'next/headers';\n\nconst sessionOptions = {\n  password: process.env.SESSION_SECRET || 'complex_password_at_least_32_characters_long',\n  cookieName: 'plumbing_session',\n  cookieOptions: {\n    secure: process.env.NODE_ENV === 'production',\n    httpOnly: true,\n    sameSite: 'lax' as const,\n    maxAge: 60 * 60 * 24 * 30, // 30 days\n  },\n};\n\nexport async function GET() {\n  try {\n    const cookieStore = await cookies();\n    const session = await getIronSession(cookieStore, sessionOptions);\n    \n    const isAdmin = !!(session as any).isAdmin && !!(session as any).user?.claims?.email;\n    \n    return NextResponse.json({ isAdmin });\n  } catch (error) {\n    console.error('[Admin Check] Error:', error);\n    return NextResponse.json({ isAdmin: false });\n  }\n}\n"],"names":[],"mappings":"AAAA;;;CAGC;;;;AAED;AACA;AACA;;;;AAEA,MAAM,iBAAiB;IACrB,UAAU,QAAQ,GAAG,CAAC,cAAc,IAAI;IACxC,YAAY;IACZ,eAAe;QACb,QAAQ,oDAAyB;QACjC,UAAU;QACV,UAAU;QACV,QAAQ,KAAK,KAAK,KAAK;IACzB;AACF;AAEO,eAAe;IACpB,IAAI;QACF,MAAM,cAAc,MAAM,IAAA,4IAAO;QACjC,MAAM,UAAU,MAAM,IAAA,oKAAc,EAAC,aAAa;QAElD,MAAM,UAAU,CAAC,CAAC,AAAC,QAAgB,OAAO,IAAI,CAAC,CAAC,AAAC,QAAgB,IAAI,EAAE,QAAQ;QAE/E,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAQ;IACrC,EAAE,OAAO,OAAO;QACd,QAAQ,KAAK,CAAC,wBAAwB;QACtC,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE,SAAS;QAAM;IAC5C;AACF","debugId":null}}]
}
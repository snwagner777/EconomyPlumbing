{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 52, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/session.ts"],"sourcesContent":["/**\n * Session Management for Next.js App Router\n * \n * Replaces express-session with iron-session for Next.js compatibility\n * Preserves all existing OAuth functionality\n */\n\nimport { getIronSession, type IronSession } from 'iron-session';\nimport { cookies } from 'next/headers';\n\nexport interface SessionData {\n  user?: {\n    id: string;\n    email: string;\n    firstName?: string;\n    lastName?: string;\n    profileImageUrl?: string;\n    claims?: any;\n    access_token?: string;\n    refresh_token?: string;\n    expires_at?: number;\n  };\n  isAdmin?: boolean;\n  oauthState?: string;\n  oauthCodeVerifier?: string;\n  customerPortalAuth?: {\n    customerId: number;\n    email: string;\n    phone: string;\n    verifiedAt: number;\n  };\n}\n\nif (!process.env.SESSION_SECRET) {\n  throw new Error('SESSION_SECRET environment variable is required');\n}\n\nconst sessionOptions = {\n  password: process.env.SESSION_SECRET,\n  cookieName: 'plumbing_session',\n  ttl: 7 * 24 * 60 * 60, // 1 week (in seconds)\n  cookieOptions: {\n    httpOnly: true,\n    secure: process.env.NODE_ENV === 'production',\n    sameSite: 'lax' as const,\n    maxAge: 7 * 24 * 60 * 60, // 1 week (in seconds)\n    path: '/',\n  },\n};\n\n/**\n * Get the current session from cookies\n */\nexport async function getSession(): Promise<IronSession<SessionData>> {\n  const cookieStore = await cookies();\n  return getIronSession<SessionData>(cookieStore, sessionOptions);\n}\n\n/**\n * Check if user is authenticated\n */\nexport async function isAuthenticated(): Promise<boolean> {\n  const session = await getSession();\n  return !!session.user && !!session.user.expires_at && session.user.expires_at > Math.floor(Date.now() / 1000);\n}\n\n/**\n * Check if user is admin\n */\nexport async function isAdmin(): Promise<boolean> {\n  const session = await getSession();\n  return !!session.isAdmin && await isAuthenticated();\n}\n\n/**\n * Get current user from session\n */\nexport async function getCurrentUser() {\n  const session = await getSession();\n  return session.user;\n}\n\n/**\n * Destroy session (logout)\n */\nexport async function destroySession() {\n  const session = await getSession();\n  session.destroy();\n}\n"],"names":[],"mappings":"AAAA;;;;;CAKC;;;;;;;;;;;;AAED;AACA;;;AAyBA,IAAI,CAAC,QAAQ,GAAG,CAAC,cAAc,EAAE;IAC/B,MAAM,IAAI,MAAM;AAClB;AAEA,MAAM,iBAAiB;IACrB,UAAU,QAAQ,GAAG,CAAC,cAAc;IACpC,YAAY;IACZ,KAAK,IAAI,KAAK,KAAK;IACnB,eAAe;QACb,UAAU;QACV,QAAQ,oDAAyB;QACjC,UAAU;QACV,QAAQ,IAAI,KAAK,KAAK;QACtB,MAAM;IACR;AACF;AAKO,eAAe;IACpB,MAAM,cAAc,MAAM,IAAA,4IAAO;IACjC,OAAO,IAAA,oKAAc,EAAc,aAAa;AAClD;AAKO,eAAe;IACpB,MAAM,UAAU,MAAM;IACtB,OAAO,CAAC,CAAC,QAAQ,IAAI,IAAI,CAAC,CAAC,QAAQ,IAAI,CAAC,UAAU,IAAI,QAAQ,IAAI,CAAC,UAAU,GAAG,KAAK,KAAK,CAAC,KAAK,GAAG,KAAK;AAC1G;AAKO,eAAe;IACpB,MAAM,UAAU,MAAM;IACtB,OAAO,CAAC,CAAC,QAAQ,OAAO,IAAI,MAAM;AACpC;AAKO,eAAe;IACpB,MAAM,UAAU,MAAM;IACtB,OAAO,QAAQ,IAAI;AACrB;AAKO,eAAe;IACpB,MAAM,UAAU,MAAM;IACtB,QAAQ,OAAO;AACjB","debugId":null}},
    {"offset": {"line": 112, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/shared/schema.ts"],"sourcesContent":["import { sql } from \"drizzle-orm\";\nimport { pgTable, text, varchar, timestamp, integer, boolean, index, uniqueIndex, bigint, jsonb } from \"drizzle-orm/pg-core\";\nimport { createInsertSchema } from \"drizzle-zod\";\nimport { z } from \"zod\";\n\n// Legacy admin users (username/password)\nexport const users = pgTable(\"users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  username: text(\"username\").notNull().unique(),\n  password: text(\"password\").notNull(),\n});\n\n// OAuth users table (for Replit Auth)\nexport const oauthUsers = pgTable(\"oauth_users\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").unique(),\n  firstName: varchar(\"first_name\"),\n  lastName: varchar(\"last_name\"),\n  profileImageUrl: varchar(\"profile_image_url\"),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n  updatedAt: timestamp(\"updated_at\").defaultNow(),\n});\n\n// Session storage table (for Replit Auth)\nexport const sessions = pgTable(\n  \"sessions\",\n  {\n    sid: varchar(\"sid\").primaryKey(),\n    sess: jsonb(\"sess\").notNull(),\n    expire: timestamp(\"expire\").notNull(),\n  },\n  (table) => [index(\"IDX_session_expire\").on(table.expire)],\n);\n\n// Admin whitelist (approved emails for OAuth login)\nexport const adminWhitelist = pgTable(\"admin_whitelist\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: varchar(\"email\").notNull().unique(),\n  addedAt: timestamp(\"added_at\").defaultNow(),\n  addedBy: varchar(\"added_by\"), // Who whitelisted this email\n  notes: text(\"notes\"), // Optional notes about this admin\n});\n\nexport const blogPosts = pgTable(\"blog_posts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  title: text(\"title\").notNull(),\n  h1: text(\"h1\"), // Custom H1 tag (optional, falls back to title if not set)\n  slug: text(\"slug\").notNull().unique(),\n  content: text(\"content\").notNull(),\n  excerpt: text(\"excerpt\"),\n  author: text(\"author\").notNull().default(\"Economy Plumbing\"),\n  publishDate: timestamp(\"publish_date\").notNull().defaultNow(),\n  category: text(\"category\").notNull(),\n  featuredImage: text(\"featured_image\"), // WebP version for website\n  jpegFeaturedImage: text(\"jpeg_featured_image\"), // JPEG version for RSS/social media\n  imageId: varchar(\"image_id\"), // Links to companyCamPhotos\n  focalPointX: integer(\"focal_point_x\"), // AI-determined focal point X (0-100 percentage from left)\n  focalPointY: integer(\"focal_point_y\"), // AI-determined focal point Y (0-100 percentage from top)\n  metaDescription: text(\"meta_description\"),\n  published: boolean(\"published\").notNull().default(true),\n  isScheduled: boolean(\"is_scheduled\").notNull().default(false), // Auto-scheduled vs manual\n  scheduledFor: timestamp(\"scheduled_for\"), // Future publish date for scheduled posts\n  generatedByAI: boolean(\"generated_by_ai\").notNull().default(false), // Track AI-generated posts\n}, (table) => ({\n  publishDateIdx: index(\"blog_posts_publish_date_idx\").on(table.publishDate),\n  categoryIdx: index(\"blog_posts_category_idx\").on(table.category),\n  publishedIdx: index(\"blog_posts_published_idx\").on(table.published),\n  imageIdIdx: index(\"blog_posts_image_id_idx\").on(table.imageId),\n  scheduledIdx: index(\"blog_posts_scheduled_idx\").on(table.isScheduled, table.scheduledFor),\n}));\n\nexport const products = pgTable(\"products\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  slug: text(\"slug\").notNull().unique(),\n  description: text(\"description\").notNull(),\n  price: integer(\"price\").notNull(), // in cents\n  category: text(\"category\").notNull(), // 'membership' or 'product'\n  sku: text(\"sku\"), // Product SKU for Zapier/ServiceTitan integration\n  image: text(\"image\"),\n  stripeProductId: text(\"stripe_product_id\"),\n  stripePriceId: text(\"stripe_price_id\"),\n  features: text(\"features\").array(),\n  active: boolean(\"active\").notNull().default(true),\n  \n  // ServiceTitan integration fields (for memberships)\n  serviceTitanMembershipTypeId: text(\"service_titan_membership_type_id\"), // Maps product to ST membership type\n  durationBillingId: text(\"duration_billing_id\"), // ServiceTitan duration/billing ID for membership\n  serviceTitanEnabled: boolean(\"service_titan_enabled\").notNull().default(false), // Enable ST sync for this product\n}, (table) => ({\n  categoryIdx: index(\"products_category_idx\").on(table.category),\n  activeIdx: index(\"products_active_idx\").on(table.active),\n}));\n\nexport const contactSubmissions = pgTable(\"contact_submissions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\"),\n  service: text(\"service\"),\n  location: text(\"location\"),\n  urgency: text(\"urgency\"),\n  message: text(\"message\"),\n  pageContext: text(\"page_context\"),\n  submittedAt: timestamp(\"submitted_at\").notNull().defaultNow(),\n}, (table) => ({\n  submittedAtIdx: index(\"contact_submissions_submitted_at_idx\").on(table.submittedAt),\n}));\n\n// Referral code mapping (code â†’ customer ID)\nexport const referralCodes = pgTable(\"referral_codes\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  code: text(\"code\").notNull().unique(), // e.g., \"JOHN-SMITH\"\n  customerId: integer(\"customer_id\").notNull(), // ServiceTitan customer ID\n  customerName: text(\"customer_name\").notNull(),\n  customerPhone: text(\"customer_phone\"),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  codeIdx: index(\"referral_codes_code_idx\").on(table.code),\n  customerIdIdx: index(\"referral_codes_customer_id_idx\").on(table.customerId),\n}));\n\n// Referral tracking system\n// Chatbot conversations\nexport const chatbotConversations = pgTable(\"chatbot_conversations\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  sessionId: varchar(\"session_id\").notNull(), // Browser session ID\n  customerEmail: varchar(\"customer_email\"),\n  customerPhone: varchar(\"customer_phone\"),\n  startedAt: timestamp(\"started_at\").notNull().defaultNow(),\n  endedAt: timestamp(\"ended_at\"),\n  pageContext: varchar(\"page_context\"), // Which page they started on\n  handoffRequested: boolean(\"handoff_requested\").notNull().default(false),\n  handoffReason: text(\"handoff_reason\"),\n  emailSent: boolean(\"email_sent\").notNull().default(false),\n  archived: boolean(\"archived\").notNull().default(false),\n  notes: text(\"notes\"), // Admin notes\n  rating: integer(\"rating\"), // 1-5 star rating\n  feedbackPositive: integer(\"feedback_positive\").notNull().default(0), // Count of thumbs up\n  feedbackNegative: integer(\"feedback_negative\").notNull().default(0), // Count of thumbs down\n}, (table) => ({\n  sessionIdIdx: index(\"chatbot_conversations_session_id_idx\").on(table.sessionId),\n  startedAtIdx: index(\"chatbot_conversations_started_at_idx\").on(table.startedAt),\n  handoffIdx: index(\"chatbot_conversations_handoff_idx\").on(table.handoffRequested),\n  archivedIdx: index(\"chatbot_conversations_archived_idx\").on(table.archived),\n}));\n\n// Individual messages within a conversation\nexport const chatbotMessages = pgTable(\"chatbot_messages\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  conversationId: varchar(\"conversation_id\").notNull().references(() => chatbotConversations.id, { onDelete: \"cascade\" }),\n  role: varchar(\"role\").notNull(), // 'user', 'assistant', 'system'\n  content: text(\"content\").notNull(),\n  imageUrl: text(\"image_url\"), // For uploaded images\n  feedback: varchar(\"feedback\"), // 'positive' or 'negative'\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  conversationIdIdx: index(\"chatbot_messages_conversation_id_idx\").on(table.conversationId),\n  createdAtIdx: index(\"chatbot_messages_created_at_idx\").on(table.createdAt),\n}));\n\n// Chatbot analytics and common questions\nexport const chatbotAnalytics = pgTable(\"chatbot_analytics\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  question: text(\"question\").notNull(),\n  category: varchar(\"category\"), // 'pricing', 'emergency', 'scheduling', etc.\n  count: integer(\"count\").notNull().default(1),\n  lastAsked: timestamp(\"last_asked\").notNull().defaultNow(),\n  suggestedAnswer: text(\"suggested_answer\"), // Admin-provided answer\n  isCommon: boolean(\"is_common\").notNull().default(false),\n}, (table) => ({\n  categoryIdx: index(\"chatbot_analytics_category_idx\").on(table.category),\n  countIdx: index(\"chatbot_analytics_count_idx\").on(table.count),\n  isCommonIdx: index(\"chatbot_analytics_is_common_idx\").on(table.isCommon),\n}));\n\n// Quick response templates for the chatbot\nexport const chatbotQuickResponses = pgTable(\"chatbot_quick_responses\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  label: varchar(\"label\").notNull(), // Button text\n  message: text(\"message\").notNull(), // What to send when clicked\n  category: varchar(\"category\"), // 'greeting', 'emergency', 'pricing', etc.\n  sortOrder: integer(\"sort_order\").notNull().default(0),\n  active: boolean(\"active\").notNull().default(true),\n  icon: varchar(\"icon\"), // Lucide icon name\n}, (table) => ({\n  categoryIdx: index(\"chatbot_quick_responses_category_idx\").on(table.category),\n  activeIdx: index(\"chatbot_quick_responses_active_idx\").on(table.active),\n  sortOrderIdx: index(\"chatbot_quick_responses_sort_order_idx\").on(table.sortOrder),\n}));\n\nexport const referrals = pgTable(\"referrals\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Referrer info (existing customer)\n  referralCode: text(\"referral_code\"), // The code used (e.g., \"JOHN-SMITH\") - links to referralCodes table\n  referrerName: text(\"referrer_name\").notNull(),\n  referrerPhone: text(\"referrer_phone\").notNull(),\n  referrerCustomerId: integer(\"referrer_customer_id\"), // ServiceTitan customer ID (null if not found yet)\n  \n  // Referee info (person being referred)\n  refereeName: text(\"referee_name\").notNull(),\n  refereePhone: text(\"referee_phone\").notNull(),\n  refereeEmail: text(\"referee_email\"),\n  refereeCustomerId: integer(\"referee_customer_id\"), // ServiceTitan customer ID (null until they become a customer)\n  \n  // Status tracking\n  status: text(\"status\").notNull().default('pending'), // 'pending', 'contacted', 'job_completed', 'credited'\n  creditAmount: integer(\"credit_amount\").notNull().default(2500), // Amount in cents ($25.00)\n  \n  // Job completion tracking\n  firstJobId: text(\"first_job_id\"), // ServiceTitan job ID when referee completes first job\n  firstJobDate: timestamp(\"first_job_date\"), // Date when referee completed first job\n  firstJobAmount: integer(\"first_job_amount\"), // Job amount in cents\n  \n  // Credit tracking\n  creditedAt: timestamp(\"credited_at\"), // When credit was applied to referrer's account\n  creditedBy: varchar(\"credited_by\"), // Admin user who applied the credit\n  creditNotes: text(\"credit_notes\"), // Notes about credit application\n  expiresAt: timestamp(\"expires_at\"), // When credit expires (creditedAt + 180 days)\n  \n  // Timestamps\n  submittedAt: timestamp(\"submitted_at\").notNull().defaultNow(),\n  contactedAt: timestamp(\"contacted_at\"), // When business contacted the referee\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n}, (table) => ({\n  referrerCustomerIdIdx: index(\"referrals_referrer_customer_id_idx\").on(table.referrerCustomerId),\n  refereeCustomerIdIdx: index(\"referrals_referee_customer_id_idx\").on(table.refereeCustomerId),\n  statusIdx: index(\"referrals_status_idx\").on(table.status),\n  submittedAtIdx: index(\"referrals_submitted_at_idx\").on(table.submittedAt),\n}));\n\n// Referral credit usage tracking\n// Tracks when customers use their referral credits on jobs\nexport const referralCreditUsage = pgTable(\"referral_credit_usage\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerId: integer(\"customer_id\").notNull(), // ServiceTitan customer ID\n  jobId: text(\"job_id\").notNull(), // ServiceTitan job ID where credit was used\n  jobNumber: text(\"job_number\").notNull(), // Human-readable job number\n  amountUsed: integer(\"amount_used\").notNull(), // Amount in cents\n  usedAt: timestamp(\"used_at\").notNull(), // When the credit was used (job completion date)\n  processedAt: timestamp(\"processed_at\").notNull().defaultNow(), // When we detected and logged this usage\n}, (table) => ({\n  customerIdIdx: index(\"referral_credit_usage_customer_id_idx\").on(table.customerId),\n  jobIdIdx: uniqueIndex(\"referral_credit_usage_job_id_idx\").on(table.jobId), // Prevent duplicate processing\n  usedAtIdx: index(\"referral_credit_usage_used_at_idx\").on(table.usedAt),\n}));\n\n// Referee welcome emails - sent immediately when someone is referred\nexport const refereeWelcomeEmails = pgTable(\"referee_welcome_emails\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Links to referral\n  referralId: varchar(\"referral_id\").notNull(),\n  \n  // Referee info (who receives the email)\n  refereeName: text(\"referee_name\").notNull(),\n  refereeEmail: text(\"referee_email\").notNull(),\n  referrerName: text(\"referrer_name\").notNull(), // Name of person who referred them\n  \n  // Email content and tracking\n  subject: text(\"subject\").notNull(),\n  htmlContent: text(\"html_content\").notNull(),\n  plainTextContent: text(\"plain_text_content\").notNull(),\n  \n  // Status\n  status: text(\"status\").notNull().default('queued'), // 'queued', 'sent', 'failed'\n  sentAt: timestamp(\"sent_at\"),\n  failureReason: text(\"failure_reason\"),\n  \n  // Engagement tracking\n  emailOpens: integer(\"email_opens\").notNull().default(0),\n  linkClicks: integer(\"link_clicks\").notNull().default(0),\n  \n  // AI generation metadata\n  generatedByAI: boolean(\"generated_by_ai\").notNull().default(true),\n  aiPrompt: text(\"ai_prompt\"),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  referralIdIdx: index(\"referee_welcome_emails_referral_id_idx\").on(table.referralId),\n  statusIdx: index(\"referee_welcome_emails_status_idx\").on(table.status),\n  sentAtIdx: index(\"referee_welcome_emails_sent_at_idx\").on(table.sentAt),\n  refereeEmailIdx: index(\"referee_welcome_emails_referee_email_idx\").on(table.refereeEmail),\n}));\n\n// Referrer thank you emails - sent when someone submits a referral\nexport const referrerThankYouEmails = pgTable(\"referrer_thank_you_emails\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Links to referral\n  referralId: varchar(\"referral_id\").notNull(),\n  \n  // Referrer info (who receives the email)\n  referrerName: text(\"referrer_name\").notNull(),\n  referrerEmail: text(\"referrer_email\").notNull(),\n  referrerCustomerId: integer(\"referrer_customer_id\").notNull(),\n  refereeName: text(\"referee_name\").notNull(), // Who they referred\n  \n  // Email content and tracking\n  subject: text(\"subject\").notNull(),\n  htmlContent: text(\"html_content\").notNull(),\n  plainTextContent: text(\"plain_text_content\").notNull(),\n  \n  // Status\n  status: text(\"status\").notNull().default('queued'), // 'queued', 'approved', 'sent', 'failed'\n  approvedAt: timestamp(\"approved_at\"),\n  approvedBy: varchar(\"approved_by\"), // Admin who approved\n  sentAt: timestamp(\"sent_at\"),\n  failureReason: text(\"failure_reason\"),\n  \n  // Engagement tracking\n  emailOpens: integer(\"email_opens\").notNull().default(0),\n  linkClicks: integer(\"link_clicks\").notNull().default(0),\n  \n  // AI generation metadata\n  generatedByAI: boolean(\"generated_by_ai\").notNull().default(true),\n  aiPrompt: text(\"ai_prompt\"),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  referralIdIdx: index(\"referrer_thank_you_emails_referral_id_idx\").on(table.referralId),\n  statusIdx: index(\"referrer_thank_you_emails_status_idx\").on(table.status),\n  sentAtIdx: index(\"referrer_thank_you_emails_sent_at_idx\").on(table.sentAt),\n  referrerEmailIdx: index(\"referrer_thank_you_emails_referrer_email_idx\").on(table.referrerEmail),\n  referrerCustomerIdIdx: index(\"referrer_thank_you_emails_referrer_customer_id_idx\").on(table.referrerCustomerId),\n}));\n\n// Referrer success notification emails - sent when referred customer completes first job\nexport const referrerSuccessEmails = pgTable(\"referrer_success_emails\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Links to referral\n  referralId: varchar(\"referral_id\").notNull(),\n  \n  // Referrer info (who receives the email)\n  referrerName: text(\"referrer_name\").notNull(),\n  referrerEmail: text(\"referrer_email\").notNull(),\n  referrerCustomerId: integer(\"referrer_customer_id\").notNull(),\n  refereeName: text(\"referee_name\").notNull(), // Who completed the job\n  \n  // Credit details\n  creditAmount: integer(\"credit_amount\").notNull(), // Amount in cents ($25 = 2500)\n  creditExpiresAt: timestamp(\"credit_expires_at\").notNull(),\n  currentBalance: integer(\"current_balance\"), // Total available credits in cents\n  \n  // Email content and tracking\n  subject: text(\"subject\").notNull(),\n  htmlContent: text(\"html_content\").notNull(),\n  plainTextContent: text(\"plain_text_content\").notNull(),\n  \n  // Status\n  status: text(\"status\").notNull().default('queued'), // 'queued', 'approved', 'sent', 'failed'\n  approvedAt: timestamp(\"approved_at\"),\n  approvedBy: varchar(\"approved_by\"), // Admin who approved\n  sentAt: timestamp(\"sent_at\"),\n  failureReason: text(\"failure_reason\"),\n  \n  // Engagement tracking\n  emailOpens: integer(\"email_opens\").notNull().default(0),\n  linkClicks: integer(\"link_clicks\").notNull().default(0),\n  \n  // AI generation metadata\n  generatedByAI: boolean(\"generated_by_ai\").notNull().default(true),\n  aiPrompt: text(\"ai_prompt\"),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  referralIdIdx: index(\"referrer_success_emails_referral_id_idx\").on(table.referralId),\n  statusIdx: index(\"referrer_success_emails_status_idx\").on(table.status),\n  sentAtIdx: index(\"referrer_success_emails_sent_at_idx\").on(table.sentAt),\n  referrerEmailIdx: index(\"referrer_success_emails_referrer_email_idx\").on(table.referrerEmail),\n  referrerCustomerIdIdx: index(\"referrer_success_emails_referrer_customer_id_idx\").on(table.referrerCustomerId),\n}));\n\n// Email Preferences - Granular opt-out controls for customers\nexport const emailPreferences = pgTable(\"email_preferences\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Customer identification (email is primary lookup)\n  email: text(\"email\").notNull().unique(),\n  customerId: integer(\"customer_id\"), // ServiceTitan customer ID (if known)\n  \n  // Granular opt-out preferences\n  marketingEmails: boolean(\"marketing_emails\").notNull().default(true), // Newsletters, promotions, segments\n  reviewRequests: boolean(\"review_requests\").notNull().default(true), // Review request drip campaigns\n  referralEmails: boolean(\"referral_emails\").notNull().default(true), // Referral nurture, referee welcome\n  serviceReminders: boolean(\"service_reminders\").notNull().default(true), // Maintenance reminders, follow-ups\n  transactionalOnly: boolean(\"transactional_only\").notNull().default(false), // Receipts, confirmations only\n  \n  // Unsubscribe token for secure one-click unsubscribe\n  unsubscribeToken: text(\"unsubscribe_token\").notNull().unique(),\n  \n  // Tracking\n  optedOutAt: timestamp(\"opted_out_at\"), // When they first opted out of anything\n  fullyUnsubscribedAt: timestamp(\"fully_unsubscribed_at\"), // When they opted out of everything\n  lastUpdated: timestamp(\"last_updated\").notNull().defaultNow(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  emailIdx: index(\"email_preferences_email_idx\").on(table.email),\n  customerIdIdx: index(\"email_preferences_customer_id_idx\").on(table.customerId),\n  tokenIdx: index(\"email_preferences_token_idx\").on(table.unsubscribeToken),\n}));\n\n// Pending Referrals - Track contact info from referral landing page before job booking\nexport const pendingReferrals = pgTable(\"pending_referrals\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Referrer info (from link)\n  referrerCustomerId: integer(\"referrer_customer_id\").notNull(), // ServiceTitan customer ID\n  referrerName: text(\"referrer_name\").notNull(),\n  \n  // Referee info (captured from landing page)\n  refereeName: text(\"referee_name\").notNull(),\n  refereeEmail: text(\"referee_email\"),\n  refereePhone: text(\"referee_phone\"),\n  \n  // Tracking\n  trackingCookie: text(\"tracking_cookie\").unique(), // 30-day cookie for backup tracking\n  convertedToReferral: boolean(\"converted_to_referral\").notNull().default(false),\n  referralId: varchar(\"referral_id\"), // Links to referrals table when they book\n  \n  // Timestamps\n  capturedAt: timestamp(\"captured_at\").notNull().defaultNow(),\n  convertedAt: timestamp(\"converted_at\"), // When they actually booked/became customer\n  expiresAt: timestamp(\"expires_at\").notNull(), // capturedAt + 30 days\n}, (table) => ({\n  referrerIdIdx: index(\"pending_referrals_referrer_id_idx\").on(table.referrerCustomerId),\n  emailIdx: index(\"pending_referrals_email_idx\").on(table.refereeEmail),\n  phoneIdx: index(\"pending_referrals_phone_idx\").on(table.refereePhone),\n  cookieIdx: index(\"pending_referrals_cookie_idx\").on(table.trackingCookie),\n  convertedIdx: index(\"pending_referrals_converted_idx\").on(table.convertedToReferral),\n}));\n\n// Conversion Events - Track key conversion actions on the website\nexport const conversionEvents = pgTable(\"conversion_events\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Event type\n  eventType: text(\"event_type\").notNull(), // 'scheduler_open', 'phone_click', 'form_submission'\n  \n  // Source information\n  source: text(\"source\"), // Where the event happened (page URL, email campaign, etc.)\n  utmSource: text(\"utm_source\"),\n  utmMedium: text(\"utm_medium\"),\n  utmCampaign: text(\"utm_campaign\"),\n  utmContent: text(\"utm_content\"),\n  \n  // Additional context\n  metadata: jsonb(\"metadata\"), // Additional event data (form type, phone number clicked, etc.)\n  \n  // User identification (optional)\n  customerId: integer(\"customer_id\"), // ServiceTitan customer ID if known\n  email: text(\"email\"), // Email if provided\n  \n  // Timestamp\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  eventTypeIdx: index(\"conversion_events_event_type_idx\").on(table.eventType),\n  createdAtIdx: index(\"conversion_events_created_at_idx\").on(table.createdAt),\n  customerIdIdx: index(\"conversion_events_customer_id_idx\").on(table.customerId),\n}));\n\n// =====================================================\n// CUSTOM EMAIL CAMPAIGN SYSTEM (5 TABLES)\n// Complete system for custom one-time blasts and drip campaigns\n// AI-powered content generation, audience segmentation, tracking\n// =====================================================\n\n// Customer Segments - Target audiences for campaigns\nexport const customerSegments = pgTable(\"customer_segments\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Segment identification\n  name: text(\"name\").notNull().unique(), // \"VIP Customers\", \"Recent Water Heater Installs\", etc.\n  description: text(\"description\"),\n  \n  // Segment type\n  segmentType: text(\"segment_type\").notNull(), // 'static' (manual), 'dynamic' (auto-updated), 'ai_generated'\n  \n  // AI-generated segments\n  aiPrompt: text(\"ai_prompt\"), // \"Customers who spent >$5000 in last 6 months\"\n  aiCriteria: jsonb(\"ai_criteria\"), // Parsed criteria from AI\n  \n  // Static criteria (for manual/dynamic segments)\n  criteria: jsonb(\"criteria\"), // {minLifetimeValue: 5000, lastServiceWithin: 180, tags: ['VIP']}\n  \n  // Statistics\n  customerCount: integer(\"customer_count\").notNull().default(0),\n  lastRefreshedAt: timestamp(\"last_refreshed_at\"), // When dynamic segment was last recalculated\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n}, (table) => ({\n  nameIdx: index(\"customer_segments_name_idx\").on(table.name),\n  typeIdx: index(\"customer_segments_type_idx\").on(table.segmentType),\n}));\n\n// Segment Membership - Links customers to segments\nexport const segmentMembership = pgTable(\"segment_membership\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  segmentId: varchar(\"segment_id\").notNull().references(() => customerSegments.id, { onDelete: 'cascade' }),\n  customerId: integer(\"customer_id\").notNull(), // ServiceTitan customer ID\n  \n  // Metadata\n  addedAt: timestamp(\"added_at\").notNull().defaultNow(),\n  addedBy: varchar(\"added_by\"), // 'manual', 'ai', 'dynamic_refresh'\n}, (table) => ({\n  segmentCustomerIdx: uniqueIndex(\"segment_membership_segment_customer_idx\").on(table.segmentId, table.customerId),\n  customerIdIdx: index(\"segment_membership_customer_id_idx\").on(table.customerId),\n}));\n\n// Custom Email Campaigns - Campaign definitions\nexport const customEmailCampaigns = pgTable(\"custom_email_campaigns\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Campaign identification\n  name: text(\"name\").notNull().unique(),\n  description: text(\"description\"),\n  \n  // Campaign type\n  campaignType: text(\"campaign_type\").notNull(), // 'one_time' (single blast), 'drip' (multi-email sequence)\n  \n  // Target audience\n  segmentId: varchar(\"segment_id\").references(() => customerSegments.id, { onDelete: 'set null' }),\n  targetCustomerIds: integer(\"target_customer_ids\").array(), // Manual customer selection (overrides segment)\n  \n  // Tracking & Attribution\n  trackingPhoneNumber: text(\"tracking_phone_number\"), // Campaign-specific phone number\n  utmCampaign: text(\"utm_campaign\"), // Auto-generated from campaign name\n  utmSource: text(\"utm_source\").default('email'),\n  utmMedium: text(\"utm_medium\").default('campaign'),\n  \n  // Status & Approval\n  status: text(\"status\").notNull().default('draft'), // 'draft', 'pending_approval', 'scheduled', 'sending', 'completed', 'paused', 'cancelled'\n  approvedBy: varchar(\"approved_by\"), // Admin user who approved\n  approvedAt: timestamp(\"approved_at\"),\n  \n  // Scheduling (for one-time campaigns)\n  scheduledFor: timestamp(\"scheduled_for\"), // When to send (null = send immediately)\n  \n  // Drip sequence settings (for drip campaigns)\n  dripIntervalDays: integer(\"drip_interval_days\").array(), // [1, 7, 14, 21] - days between emails\n  pauseOnEngagement: boolean(\"pause_on_engagement\").notNull().default(false), // Stop if customer engages\n  \n  // AI generation metadata\n  generatedByAI: boolean(\"generated_by_ai\").notNull().default(false),\n  aiPrompt: text(\"ai_prompt\"),\n  aiGoal: text(\"ai_goal\"), // \"Promote spring maintenance\", \"Water heater replacement offers\"\n  \n  // Performance metrics\n  totalSent: integer(\"total_sent\").notNull().default(0),\n  totalDelivered: integer(\"total_delivered\").notNull().default(0),\n  totalOpened: integer(\"total_opened\").notNull().default(0),\n  totalClicked: integer(\"total_clicked\").notNull().default(0),\n  totalUnsubscribed: integer(\"total_unsubscribed\").notNull().default(0),\n  totalBounced: integer(\"total_bounced\").notNull().default(0),\n  \n  // Attribution\n  totalCalls: integer(\"total_calls\").notNull().default(0), // Tracking phone clicks\n  totalJobsBooked: integer(\"total_jobs_booked\").notNull().default(0),\n  totalRevenue: integer(\"total_revenue\").notNull().default(0), // In cents\n  \n  // Send limits & safety\n  dailySendLimit: integer(\"daily_send_limit\").notNull().default(500),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n  startedAt: timestamp(\"started_at\"), // When campaign started sending\n  completedAt: timestamp(\"completed_at\"), // When all emails sent\n}, (table) => ({\n  nameIdx: index(\"custom_campaigns_name_idx\").on(table.name),\n  statusIdx: index(\"custom_campaigns_status_idx\").on(table.status),\n  segmentIdIdx: index(\"custom_campaigns_segment_id_idx\").on(table.segmentId),\n  scheduledForIdx: index(\"custom_campaigns_scheduled_for_idx\").on(table.scheduledFor),\n}));\n\n// Campaign Emails - Individual emails in a campaign\nexport const customCampaignEmails = pgTable(\"custom_campaign_emails\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  campaignId: varchar(\"campaign_id\").notNull().references(() => customEmailCampaigns.id, { onDelete: 'cascade' }),\n  \n  // Email position in sequence (for drip campaigns)\n  sequenceNumber: integer(\"sequence_number\").notNull().default(1), // 1, 2, 3, 4...\n  daysAfterStart: integer(\"days_after_start\").notNull().default(0), // Days after campaign start to send this email (for drip)\n  \n  // Email content\n  subject: text(\"subject\").notNull(),\n  preheader: text(\"preheader\"), // Preview text\n  htmlContent: text(\"html_content\").notNull(), // HTML email body\n  plainTextContent: text(\"plain_text_content\").notNull(), // Plain text fallback\n  \n  // AI generation metadata\n  generatedByAI: boolean(\"generated_by_ai\").notNull().default(false),\n  aiStrategy: text(\"ai_strategy\"), // 'value', 'urgency', 'social_proof', 'seasonal'\n  aiPrompt: text(\"ai_prompt\"),\n  \n  // A/B testing\n  isVariant: boolean(\"is_variant\").notNull().default(false),\n  variantOf: varchar(\"variant_of\"), // ID of email this is a variant of\n  testPercentage: integer(\"test_percentage\"), // 50 = send to 50% of audience\n  \n  // Performance metrics\n  totalSent: integer(\"total_sent\").notNull().default(0),\n  totalOpened: integer(\"total_opened\").notNull().default(0),\n  totalClicked: integer(\"total_clicked\").notNull().default(0),\n  \n  // Status\n  enabled: boolean(\"enabled\").notNull().default(true),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n}, (table) => ({\n  campaignSequenceIdx: index(\"custom_campaign_emails_campaign_sequence_idx\").on(table.campaignId, table.sequenceNumber),\n  variantOfIdx: index(\"custom_campaign_emails_variant_of_idx\").on(table.variantOf),\n}));\n\n// Campaign Send Log - Track every email sent in custom campaigns\nexport const customCampaignSendLog = pgTable(\"custom_campaign_send_log\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Campaign and email references\n  campaignId: varchar(\"campaign_id\").notNull().references(() => customEmailCampaigns.id, { onDelete: 'cascade' }),\n  campaignEmailId: varchar(\"campaign_email_id\").notNull().references(() => customCampaignEmails.id, { onDelete: 'cascade' }),\n  \n  // Recipient\n  customerId: integer(\"customer_id\").notNull(), // ServiceTitan customer ID\n  recipientEmail: text(\"recipient_email\").notNull(),\n  recipientName: text(\"recipient_name\").notNull(),\n  \n  // Email provider tracking\n  resendEmailId: text(\"resend_email_id\"), // Resend's email ID for tracking\n  resendStatus: text(\"resend_status\"), // 'queued', 'sent', 'delivered', 'bounced', 'complained'\n  \n  // Tracking events (timestamps)\n  sentAt: timestamp(\"sent_at\").notNull().defaultNow(),\n  deliveredAt: timestamp(\"delivered_at\"),\n  openedAt: timestamp(\"opened_at\"),\n  clickedAt: timestamp(\"clicked_at\"),\n  bouncedAt: timestamp(\"bounced_at\"),\n  complainedAt: timestamp(\"complained_at\"),\n  unsubscribedAt: timestamp(\"unsubscribed_at\"),\n  \n  // Engagement counters (for webhooks that fire multiple times)\n  openCount: integer(\"open_count\").notNull().default(0),\n  clickCount: integer(\"click_count\").notNull().default(0),\n  \n  // Attribution\n  leadToJobBooking: boolean(\"lead_to_job_booking\").notNull().default(false),\n  jobId: bigint(\"job_id\", { mode: 'number' }), // ServiceTitan job ID if booked\n  revenueAttributed: integer(\"revenue_attributed\").notNull().default(0), // In cents\n  \n  // Error tracking\n  errorMessage: text(\"error_message\"),\n}, (table) => ({\n  campaignCustomerIdx: index(\"custom_send_log_campaign_customer_idx\").on(table.campaignId, table.customerId),\n  campaignEmailIdx: index(\"custom_send_log_campaign_email_idx\").on(table.campaignEmailId),\n  sentAtIdx: index(\"custom_send_log_sent_at_idx\").on(table.sentAt),\n  resendEmailIdIdx: index(\"custom_send_log_resend_id_idx\").on(table.resendEmailId),\n  openedAtIdx: index(\"custom_send_log_opened_at_idx\").on(table.openedAt),\n  clickedAtIdx: index(\"custom_send_log_clicked_at_idx\").on(table.clickedAt),\n}));\n\nexport const customerSuccessStories = pgTable(\"customer_success_stories\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerName: text(\"customer_name\").notNull(),\n  email: text(\"email\"),\n  phone: text(\"phone\"),\n  story: text(\"story\").notNull(),\n  beforePhotoUrl: text(\"before_photo_url\").notNull(),\n  afterPhotoUrl: text(\"after_photo_url\").notNull(),\n  collagePhotoUrl: text(\"collage_photo_url\"), // AI-generated before/after composite image (WebP)\n  jpegCollagePhotoUrl: text(\"jpeg_collage_photo_url\"), // JPEG version for RSS/social media\n  beforeFocalX: integer(\"before_focal_x\"), // Manual focal point override (0-100 from left)\n  beforeFocalY: integer(\"before_focal_y\"), // Manual focal point override (0-100 from top)\n  afterFocalX: integer(\"after_focal_x\"), // Manual focal point override (0-100 from left)\n  afterFocalY: integer(\"after_focal_y\"), // Manual focal point override (0-100 from top)\n  serviceCategory: text(\"service_category\").notNull(), // water-heater, drain-cleaning, etc.\n  location: text(\"location\").notNull(),\n  approved: boolean(\"approved\").notNull().default(false), // Moderation flag\n  submittedAt: timestamp(\"submitted_at\").notNull().defaultNow(),\n}, (table) => ({\n  submittedAtIdx: index(\"customer_success_stories_submitted_at_idx\").on(table.submittedAt),\n  approvedIdx: index(\"customer_success_stories_approved_idx\").on(table.approved),\n  categoryIdx: index(\"customer_success_stories_category_idx\").on(table.serviceCategory),\n}));\n\nexport const serviceAreas = pgTable(\"service_areas\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  cityName: text(\"city_name\").notNull(),\n  slug: text(\"slug\").notNull().unique(),\n  region: text(\"region\").notNull(), // 'austin' or 'marble-falls'\n  metaDescription: text(\"meta_description\").notNull(),\n  introContent: text(\"intro_content\").notNull(),\n  neighborhoods: text(\"neighborhoods\").array(),\n  landmarks: text(\"landmarks\").array(),\n  localPainPoints: text(\"local_pain_points\").array(),\n  seasonalIssues: text(\"seasonal_issues\").array(),\n  uniqueFaqs: text(\"unique_faqs\").array(), // JSON stringified FAQ objects\n  testimonials: text(\"testimonials\").array(), // JSON stringified testimonial objects\n  population: text(\"population\"),\n  zipCodes: text(\"zip_codes\").array(),\n  latitude: text(\"latitude\"),\n  longitude: text(\"longitude\"),\n}, (table) => ({\n  regionIdx: index(\"service_areas_region_idx\").on(table.region),\n}));\n\nexport const insertUserSchema = createInsertSchema(users).pick({\n  username: true,\n  password: true,\n});\n\nexport const insertBlogPostSchema = createInsertSchema(blogPosts).omit({\n  id: true,\n  publishDate: true,\n});\n\nexport const insertProductSchema = createInsertSchema(products).omit({\n  id: true,\n});\n\nexport const insertContactSubmissionSchema = createInsertSchema(contactSubmissions).omit({\n  id: true,\n  submittedAt: true,\n});\n\nexport const insertCustomerSuccessStorySchema = createInsertSchema(customerSuccessStories).omit({\n  id: true,\n  submittedAt: true,\n  approved: true, // Will be set to false by default, requires admin approval\n});\n\nexport const googleReviews = pgTable(\"google_reviews\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  authorName: text(\"author_name\").notNull(),\n  authorUrl: text(\"author_url\"),\n  profilePhotoUrl: text(\"profile_photo_url\"),\n  rating: integer(\"rating\").notNull(),\n  text: text(\"text\").notNull(),\n  relativeTime: text(\"relative_time\").notNull(),\n  timestamp: integer(\"timestamp\").notNull(),\n  fetchedAt: timestamp(\"fetched_at\").notNull().defaultNow(),\n  categories: text(\"categories\").array().notNull().default(sql`ARRAY[]::text[]`),\n  source: text(\"source\").notNull().default('places_api'), // 'places_api', 'dataforseo', 'facebook', 'gmb_api', 'yelp'\n  reviewId: text(\"review_id\"), // External review ID for deduplication and API posting\n  \n  // Reply tracking\n  replyText: text(\"reply_text\"), // Our posted reply\n  repliedAt: timestamp(\"replied_at\"), // When we replied\n  canReply: boolean(\"can_reply\").notNull().default(false), // Can we reply via API?\n}, (table) => ({\n  ratingIdx: index(\"google_reviews_rating_idx\").on(table.rating),\n  timestampIdx: index(\"google_reviews_timestamp_idx\").on(table.timestamp),\n  sourceIdx: index(\"google_reviews_source_idx\").on(table.source),\n  repliedIdx: index(\"google_reviews_replied_idx\").on(table.repliedAt),\n}));\n\nexport const googleOAuthTokens = pgTable(\"google_oauth_tokens\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  service: text(\"service\").notNull().default('google_my_business'), // future-proof for other Google services\n  accessToken: text(\"access_token\").notNull(),\n  refreshToken: text(\"refresh_token\").notNull(),\n  expiryDate: timestamp(\"expiry_date\").notNull(),\n  accountId: text(\"account_id\"), // Google My Business account ID\n  locationId: text(\"location_id\"), // Google My Business location ID\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const zoomOAuthTokens = pgTable(\"zoom_oauth_tokens\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  accessToken: text(\"access_token\").notNull(),\n  refreshToken: text(\"refresh_token\").notNull(),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  scope: text(\"scope\"),\n  tokenType: text(\"token_type\").notNull().default('bearer'),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const pendingPurchases = pgTable(\"pending_purchases\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  paymentIntentId: text(\"payment_intent_id\").notNull().unique(),\n  productId: varchar(\"product_id\").notNull(),\n  customerType: text(\"customer_type\").notNull(), // 'residential' or 'commercial'\n  \n  // Residential fields\n  customerName: text(\"customer_name\"), // Residential: customer name / Commercial: not used\n  \n  // Commercial fields\n  companyName: text(\"company_name\"), // Commercial only\n  contactPersonName: text(\"contact_person_name\"), // Commercial only\n  locationPhone: text(\"location_phone\"), // Commercial only\n  extension: text(\"extension\"), // Commercial only\n  \n  // Location address (both types)\n  locationName: text(\"location_name\"), // Residential: same as customerName / Commercial: business location name\n  street: text(\"street\").notNull(),\n  city: text(\"city\").notNull(),\n  state: text(\"state\").notNull(),\n  zip: text(\"zip\").notNull(),\n  \n  // Billing address (both types)\n  billingName: text(\"billing_name\"), // Person/company name for billing\n  billingStreet: text(\"billing_street\"),\n  billingCity: text(\"billing_city\"),\n  billingState: text(\"billing_state\"),\n  billingZip: text(\"billing_zip\"),\n  \n  // Contact info (both types)\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\").notNull(),\n  \n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  paymentIntentIdIdx: index(\"pending_purchases_payment_intent_id_idx\").on(table.paymentIntentId),\n}));\n\nexport const serviceTitanMemberships = pgTable(\"service_titan_memberships\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerType: text(\"customer_type\").notNull(), // 'residential' or 'commercial'\n  \n  // Residential customer fields\n  customerName: text(\"customer_name\"),\n  \n  // Commercial customer fields\n  companyName: text(\"company_name\"),\n  contactPersonName: text(\"contact_person_name\"),\n  locationPhone: text(\"location_phone\"),\n  extension: text(\"extension\"),\n  \n  // Location address (both types)\n  locationName: text(\"location_name\"),\n  street: text(\"street\").notNull(),\n  city: text(\"city\").notNull(),\n  state: text(\"state\").notNull(),\n  zip: text(\"zip\").notNull(),\n  \n  // Billing address (both types)\n  billingName: text(\"billing_name\"),\n  billingStreet: text(\"billing_street\"),\n  billingCity: text(\"billing_city\"),\n  billingState: text(\"billing_state\"),\n  billingZip: text(\"billing_zip\"),\n  \n  // Contact info\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\").notNull(),\n  \n  // ServiceTitan configuration\n  serviceTitanMembershipTypeId: text(\"service_titan_membership_type_id\").notNull(), // ST membership type from product\n  \n  // ServiceTitan IDs (populated after sync)\n  serviceTitanCustomerId: text(\"service_titan_customer_id\"), // ST customer ID\n  serviceTitanMembershipId: text(\"service_titan_membership_id\"), // ST membership ID\n  serviceTitanInvoiceId: text(\"service_titan_invoice_id\"), // ST invoice ID\n  \n  // Product and payment info\n  productId: varchar(\"product_id\").notNull(), // Links to products table\n  stripePaymentIntentId: text(\"stripe_payment_intent_id\"),\n  stripeCustomerId: text(\"stripe_customer_id\"),\n  amount: integer(\"amount\").notNull(), // Amount in cents\n  \n  // Sync status\n  syncStatus: text(\"sync_status\").notNull().default('pending'), // 'pending', 'syncing', 'synced', 'failed'\n  syncError: text(\"sync_error\"),\n  lastSyncAttempt: timestamp(\"last_sync_attempt\"),\n  syncedAt: timestamp(\"synced_at\"),\n  \n  // Timestamps\n  purchasedAt: timestamp(\"purchased_at\").notNull().defaultNow(),\n}, (table) => ({\n  customerTypeIdx: index(\"st_memberships_customer_type_idx\").on(table.customerType),\n  syncStatusIdx: index(\"st_memberships_sync_status_idx\").on(table.syncStatus),\n  serviceTitanCustomerIdIdx: index(\"st_memberships_st_customer_id_idx\").on(table.serviceTitanCustomerId),\n  productIdIdx: index(\"st_memberships_product_id_idx\").on(table.productId),\n}));\n\n// ServiceTitan Customers Cache - synced from ServiceTitan API for fast local search\nexport const serviceTitanCustomers = pgTable(\"service_titan_customers\", {\n  id: integer(\"id\").primaryKey(), // ServiceTitan customer ID (not UUID, this is the actual ST ID)\n  name: text(\"name\").notNull(),\n  type: text(\"type\").notNull(), // 'Residential' or 'Commercial'\n  email: text(\"email\"),\n  phone: text(\"phone\"),\n  mobilePhone: text(\"mobile_phone\"),\n  street: text(\"street\"),\n  city: text(\"city\"),\n  state: text(\"state\"),\n  zip: text(\"zip\"),\n  active: boolean(\"active\").notNull().default(true),\n  balance: text(\"balance\"), // Stored as text (ServiceTitan format)\n  jobCount: integer(\"job_count\").notNull().default(0), // Total completed jobs for leaderboard\n  \n  // Marketing automation personalization fields\n  lastServiceDate: timestamp(\"last_service_date\"), // Most recent completed job date\n  lastServiceType: text(\"last_service_type\"), // Most recent service category\n  lifetimeValue: integer(\"lifetime_value\").notNull().default(0), // Total revenue in cents\n  customerTags: text(\"customer_tags\").array(), // ['VIP', 'Commercial', 'Seasonal']\n  preferredContactMethod: text(\"preferred_contact_method\"), // 'email', 'sms', 'phone'\n  \n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  activeIdx: index(\"st_customers_active_idx\").on(table.active),\n  emailIdx: index(\"st_customers_email_idx\").on(table.email),\n  phoneIdx: index(\"st_customers_phone_idx\").on(table.phone),\n  mobilePhoneIdx: index(\"st_customers_mobile_phone_idx\").on(table.mobilePhone),\n  typeIdx: index(\"st_customers_type_idx\").on(table.type),\n  jobCountIdx: index(\"st_customers_job_count_idx\").on(table.jobCount),\n  lastSyncedIdx: index(\"st_customers_last_synced_idx\").on(table.lastSyncedAt),\n  lastServiceDateIdx: index(\"st_customers_last_service_date_idx\").on(table.lastServiceDate),\n  lifetimeValueIdx: index(\"st_customers_lifetime_value_idx\").on(table.lifetimeValue),\n  preferredContactIdx: index(\"st_customers_preferred_contact_idx\").on(table.preferredContactMethod),\n}));\n\n// ServiceTitan Customer Contacts - stores all contact methods with normalization\n// This allows searching by any phone/email format and handles number changes\nexport const serviceTitanContacts = pgTable(\"service_titan_contacts\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerId: integer(\"customer_id\").notNull(), // References service_titan_customers.id\n  contactType: text(\"contact_type\").notNull(), // 'Phone', 'MobilePhone', 'Email', etc.\n  value: text(\"value\").notNull(), // Raw value from ServiceTitan\n  normalizedValue: text(\"normalized_value\").notNull(), // Normalized for searching (digits only for phones, lowercase for emails)\n  isPrimary: boolean(\"is_primary\").notNull().default(false),\n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  customerIdIdx: index(\"st_contacts_customer_id_idx\").on(table.customerId),\n  // Critical: Fast O(1) lookup by normalized phone/email\n  normalizedValueIdx: index(\"st_contacts_normalized_value_idx\").on(table.normalizedValue),\n  contactTypeIdx: index(\"st_contacts_contact_type_idx\").on(table.contactType),\n}));\n\n// NEW XLSX-BASED TABLES - These are the primary tables for customer data\n// The old serviceTitanCustomers/Contacts tables will continue to be synced by the API (which we can't stop)\n// but all application code will use these XLSX-based tables instead\n\n// XLSX Customers - Primary customer data source (replaces serviceTitanCustomers for application use)\nexport const customersXlsx = pgTable(\"customers_xlsx\", {\n  id: integer(\"id\").primaryKey(), // ServiceTitan customer ID from XLSX\n  name: text(\"name\").notNull(),\n  type: text(\"type\").notNull(), // 'Residential' or 'Commercial'\n  email: text(\"email\"),\n  phone: text(\"phone\"),\n  mobilePhone: text(\"mobile_phone\"),\n  street: text(\"street\"),\n  city: text(\"city\"),\n  state: text(\"state\"),\n  zip: text(\"zip\"),\n  active: boolean(\"active\").notNull().default(true),\n  balance: text(\"balance\"),\n  jobCount: integer(\"job_count\").notNull().default(0),\n  \n  // Marketing automation personalization fields\n  lastServiceDate: timestamp(\"last_service_date\"),\n  lastServiceType: text(\"last_service_type\"),\n  lifetimeValue: integer(\"lifetime_value\").notNull().default(0), // Total revenue in cents\n  customerTags: text(\"customer_tags\").array(),\n  preferredContactMethod: text(\"preferred_contact_method\"),\n  \n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  activeIdx: index(\"customers_xlsx_active_idx\").on(table.active),\n  emailIdx: index(\"customers_xlsx_email_idx\").on(table.email),\n  phoneIdx: index(\"customers_xlsx_phone_idx\").on(table.phone),\n  mobilePhoneIdx: index(\"customers_xlsx_mobile_phone_idx\").on(table.mobilePhone),\n  typeIdx: index(\"customers_xlsx_type_idx\").on(table.type),\n  jobCountIdx: index(\"customers_xlsx_job_count_idx\").on(table.jobCount),\n  lastSyncedIdx: index(\"customers_xlsx_last_synced_idx\").on(table.lastSyncedAt),\n  lastServiceDateIdx: index(\"customers_xlsx_last_service_date_idx\").on(table.lastServiceDate),\n  lifetimeValueIdx: index(\"customers_xlsx_lifetime_value_idx\").on(table.lifetimeValue),\n  preferredContactIdx: index(\"customers_xlsx_preferred_contact_idx\").on(table.preferredContactMethod),\n}));\n\n// XLSX Customer Contacts - Primary contact data source (replaces serviceTitanContacts for application use)\nexport const contactsXlsx = pgTable(\"contacts_xlsx\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  customerId: integer(\"customer_id\").notNull(), // References customers_xlsx.id\n  contactType: text(\"contact_type\").notNull(), // 'Phone', 'MobilePhone', 'Email', etc.\n  value: text(\"value\").notNull(), // Raw value from XLSX\n  normalizedValue: text(\"normalized_value\").notNull(), // Normalized for searching (digits only for phones, lowercase for emails)\n  isPrimary: boolean(\"is_primary\").notNull().default(false),\n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  customerIdIdx: index(\"contacts_xlsx_customer_id_idx\").on(table.customerId),\n  normalizedValueIdx: index(\"contacts_xlsx_normalized_value_idx\").on(table.normalizedValue),\n  contactTypeIdx: index(\"contacts_xlsx_contact_type_idx\").on(table.contactType),\n}));\n\n// Customer Data Import History - Tracks XLSX imports from ServiceTitan\n// Mailgun webhook attempt logging - tracks EVERY webhook hit (success or failure)\nexport const mailgunWebhookLogs = pgTable(\"mailgun_webhook_logs\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Webhook metadata\n  receivedAt: timestamp(\"received_at\").notNull().defaultNow(),\n  messageId: text(\"message_id\"), // Mailgun message ID\n  sender: text(\"sender\"), // From address\n  recipient: text(\"recipient\"), // To address\n  subject: text(\"subject\"),\n  \n  // Signature verification\n  signatureVerified: boolean(\"signature_verified\").notNull().default(false),\n  timestampAge: integer(\"timestamp_age\"), // Seconds old when received\n  \n  // Attachment detection\n  attachmentCount: integer(\"attachment_count\").notNull().default(0),\n  xlsxFound: boolean(\"xlsx_found\").notNull().default(false),\n  xlsxFileName: text(\"xlsx_file_name\"),\n  xlsxSize: integer(\"xlsx_size\"), // Bytes\n  \n  // Processing result\n  status: text(\"status\").notNull(), // 'success', 'failed', 'rejected'\n  errorMessage: text(\"error_message\"),\n  importId: varchar(\"import_id\"), // Links to customerDataImports if successful\n  \n  // Timing\n  processingTime: integer(\"processing_time\"), // Milliseconds\n}, (table) => ({\n  receivedAtIdx: index(\"mailgun_webhook_logs_received_at_idx\").on(table.receivedAt),\n  statusIdx: index(\"mailgun_webhook_logs_status_idx\").on(table.status),\n  messageIdIdx: index(\"mailgun_webhook_logs_message_id_idx\").on(table.messageId),\n}));\n\nexport const customerDataImports = pgTable(\"customer_data_imports\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Import metadata\n  fileName: text(\"file_name\").notNull(), // Original XLSX filename\n  importedBy: text(\"imported_by\"), // Email of admin who triggered import (if manual)\n  importSource: text(\"import_source\").notNull().default('manual'), // 'manual', 'email', 'scheduled'\n  \n  // Import statistics\n  totalRows: integer(\"total_rows\").notNull().default(0),\n  customersImported: integer(\"customers_imported\").notNull().default(0),\n  contactsImported: integer(\"contacts_imported\").notNull().default(0),\n  errors: integer(\"errors\").notNull().default(0),\n  \n  // Metrics snapshot (at time of import)\n  totalLifetimeRevenue: integer(\"total_lifetime_revenue\").notNull().default(0), // In cents\n  customersWithRevenue: integer(\"customers_with_revenue\").notNull().default(0),\n  avgLifetimeRevenue: integer(\"avg_lifetime_revenue\").notNull().default(0), // In cents\n  maxLifetimeRevenue: integer(\"max_lifetime_revenue\").notNull().default(0), // In cents\n  \n  // Significant changes detection\n  newCustomers: integer(\"new_customers\").notNull().default(0), // Customers added since last import\n  revenueChange: integer(\"revenue_change\").notNull().default(0), // Revenue delta in cents\n  \n  // Import status\n  status: text(\"status\").notNull().default('processing'), // 'processing', 'completed', 'failed'\n  errorMessage: text(\"error_message\"),\n  \n  // Timestamps\n  startedAt: timestamp(\"started_at\").notNull().defaultNow(),\n  completedAt: timestamp(\"completed_at\"),\n  processingTime: integer(\"processing_time\"), // Milliseconds\n}, (table) => ({\n  importSourceIdx: index(\"customer_imports_source_idx\").on(table.importSource),\n  statusIdx: index(\"customer_imports_status_idx\").on(table.status),\n  startedAtIdx: index(\"customer_imports_started_at_idx\").on(table.startedAt),\n}));\n\nexport const trackingNumbers = pgTable(\"tracking_numbers\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  channelKey: text(\"channel_key\").notNull().unique(), // e.g., 'google', 'facebook', 'yelp'\n  channelName: text(\"channel_name\").notNull(), // Display name, e.g., 'Google Ads'\n  displayNumber: text(\"display_number\").notNull(), // (512) 368-9159\n  rawNumber: text(\"raw_number\").notNull(), // 5123689159\n  telLink: text(\"tel_link\").notNull(), // tel:+15123689159\n  detectionRules: text(\"detection_rules\").notNull(), // JSON string of detection rules\n  isActive: boolean(\"is_active\").notNull().default(true),\n  isDefault: boolean(\"is_default\").notNull().default(false), // One channel should be default\n  sortOrder: integer(\"sort_order\").notNull().default(0), // For ordering in admin panel\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n}, (table) => ({\n  channelKeyIdx: index(\"tracking_numbers_channel_key_idx\").on(table.channelKey),\n  isActiveIdx: index(\"tracking_numbers_is_active_idx\").on(table.isActive),\n  isDefaultIdx: index(\"tracking_numbers_is_default_idx\").on(table.isDefault),\n}));\n\nexport const insertServiceAreaSchema = createInsertSchema(serviceAreas).omit({\n  id: true,\n});\n\nexport const insertTrackingNumberSchema = createInsertSchema(trackingNumbers).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertGoogleReviewSchema = createInsertSchema(googleReviews).omit({\n  id: true,\n  fetchedAt: true,\n});\n\nexport const insertGoogleOAuthTokenSchema = createInsertSchema(googleOAuthTokens).omit({\n  id: true,\n  updatedAt: true,\n});\n\nexport const insertZoomOAuthTokenSchema = createInsertSchema(zoomOAuthTokens).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertPendingPurchaseSchema = createInsertSchema(pendingPurchases).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertServiceTitanMembershipSchema = createInsertSchema(serviceTitanMemberships).omit({\n  id: true,\n  purchasedAt: true,\n  lastSyncAttempt: true,\n  syncedAt: true,\n});\n\nexport const companyCamPhotos = pgTable(\"companycam_photos\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  companyCamPhotoId: text(\"companycam_photo_id\").unique(), // Nullable for non-CompanyCam sources\n  companyCamProjectId: text(\"companycam_project_id\"), // Nullable for non-CompanyCam sources\n  photoUrl: text(\"photo_url\").notNull(),\n  thumbnailUrl: text(\"thumbnail_url\"),\n  source: text(\"source\").notNull().default('companycam'), // 'companycam', 'gdrive', 'servicetitan'\n  \n  // AI-generated categorization\n  category: text(\"category\").notNull(), // 'water_heater', 'drain', 'leak', 'toilet', 'faucet', 'gas', 'backflow', 'commercial', 'general'\n  aiDescription: text(\"ai_description\"), // What the AI sees in the photo\n  tags: text(\"tags\").array(), // Additional tags from AI analysis\n  \n  // AI quality analysis (OpenAI Vision)\n  qualityAnalyzed: boolean(\"quality_analyzed\").notNull().default(false),\n  isGoodQuality: boolean(\"is_good_quality\"),\n  shouldKeep: boolean(\"should_keep\"),\n  qualityScore: integer(\"quality_score\"), // 1-10\n  qualityReasoning: text(\"quality_reasoning\"),\n  analyzedAt: timestamp(\"analyzed_at\"),\n  \n  // Focal Point (for image positioning in blogs/pages)\n  focalPointX: integer(\"focal_point_x\"), // 0-100 percentage from left\n  focalPointY: integer(\"focal_point_y\"), // 0-100 percentage from top\n  focalPointReason: text(\"focal_point_reason\"), // Why this focal point was chosen\n  \n  // Blog topic suggestion (for auto-generation)\n  suggestedBlogTopic: text(\"suggested_blog_topic\"), // AI-suggested blog post topic\n  blogTopicAnalyzed: boolean(\"blog_topic_analyzed\").notNull().default(false),\n  blogTopicAnalyzedAt: timestamp(\"blog_topic_analyzed_at\"),\n  \n  // Metadata\n  uploadedAt: timestamp(\"uploaded_at\"),\n  fetchedAt: timestamp(\"fetched_at\").notNull().defaultNow(),\n  \n  // Usage tracking\n  usedInBlogPostId: varchar(\"used_in_blog_post_id\"),\n  usedInPageUrl: text(\"used_in_page_url\"),\n}, (table) => ({\n  categoryIdx: index(\"companycam_photos_category_idx\").on(table.category),\n  projectIdIdx: index(\"companycam_photos_project_id_idx\").on(table.companyCamProjectId),\n  qualityIdx: index(\"companycam_photos_quality_idx\").on(table.shouldKeep),\n  blogTopicIdx: index(\"companycam_photos_blog_topic_idx\").on(table.blogTopicAnalyzed, table.usedInBlogPostId),\n}));\n\nexport const insertCompanyCamPhotoSchema = createInsertSchema(companyCamPhotos).omit({\n  id: true,\n  fetchedAt: true,\n});\n\nexport const beforeAfterComposites = pgTable(\"before_after_composites\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Source photos\n  beforePhotoId: varchar(\"before_photo_id\").notNull(),\n  afterPhotoId: varchar(\"after_photo_id\").notNull(),\n  \n  // Composite images (WebP for web, JPEG for RSS/social)\n  compositeUrl: text(\"composite_url\").notNull(),\n  jpegCompositeUrl: text(\"jpeg_composite_url\"),\n  \n  // AI-generated content\n  caption: text(\"caption\"), // AI-generated caption for social media\n  category: text(\"category\").notNull(), // Inherited from photos\n  \n  // Metadata\n  jobId: text(\"job_id\"), // ServiceTitan job ID\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  \n  // Social media tracking\n  postedToFacebook: boolean(\"posted_to_facebook\").notNull().default(false),\n  postedToInstagram: boolean(\"posted_to_instagram\").notNull().default(false),\n  facebookPostId: text(\"facebook_post_id\"),\n  instagramPostId: text(\"instagram_post_id\"),\n  postedAt: timestamp(\"posted_at\"),\n}, (table) => ({\n  categoryIdx: index(\"before_after_composites_category_idx\").on(table.category),\n  postedIdx: index(\"before_after_composites_posted_idx\").on(table.postedToFacebook, table.postedToInstagram),\n}));\n\nexport const insertBeforeAfterCompositeSchema = createInsertSchema(beforeAfterComposites).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const systemSettings = pgTable(\"system_settings\", {\n  key: text(\"key\").primaryKey(),\n  value: text(\"value\"),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\nexport const notFoundErrors = pgTable(\"not_found_errors\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  requestedUrl: text(\"requested_url\").notNull(),\n  referrer: text(\"referrer\"),\n  userAgent: text(\"user_agent\"),\n  ipAddress: text(\"ip_address\"),\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n  emailSent: boolean(\"email_sent\").notNull().default(false),\n}, (table) => ({\n  timestampIdx: index(\"not_found_errors_timestamp_idx\").on(table.timestamp),\n  urlIdx: index(\"not_found_errors_url_idx\").on(table.requestedUrl),\n}));\n\nexport const importedPhotos = pgTable(\"imported_photos\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  url: text(\"url\").notNull(), // Object Storage URL\n  category: text(\"category\").notNull(), // 'drain-cleaning', 'water-heater', etc.\n  \n  // AI Analysis\n  isProductionQuality: boolean(\"is_production_quality\").notNull().default(true), // Whether photo is good enough for customer-facing use\n  aiQuality: integer(\"ai_quality\"), // 0-100 quality score\n  aiQualityScore: integer(\"ai_quality_score\"), // Alias for compatibility\n  qualityReason: text(\"quality_reason\"), // Why it passed/failed quality check\n  aiDescription: text(\"ai_description\"),\n  aiTags: text(\"ai_tags\").array(),\n  \n  // Focal Point (for image positioning)\n  focalPointX: integer(\"focal_point_x\"), // 0-100 percentage from left\n  focalPointY: integer(\"focal_point_y\"), // 0-100 percentage from top\n  \n  // Metadata\n  gdriveFileId: text(\"gdrive_file_id\").unique(), // Google Drive file ID for deduplication\n  usedInBlog: boolean(\"used_in_blog\").notNull().default(false),\n  usedInBlogPostId: text(\"used_in_blog_post_id\"), // Track which blog post uses this photo\n  usedInPageUrl: text(\"used_in_page_url\"), // Track which page uses this photo\n  uploadDate: timestamp(\"upload_date\"), // When photo was uploaded\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(), // When record was created\n  fetchedAt: timestamp(\"fetched_at\").notNull().defaultNow(),\n}, (table) => ({\n  categoryIdx: index(\"imported_photos_category_idx\").on(table.category),\n  usedIdx: index(\"imported_photos_used_idx\").on(table.usedInBlog),\n  qualityIdx: index(\"imported_photos_quality_idx\").on(table.isProductionQuality),\n  gdriveIdx: index(\"imported_photos_gdrive_idx\").on(table.gdriveFileId),\n}));\n\nexport const insertSystemSettingSchema = createInsertSchema(systemSettings);\nexport const insertNotFoundErrorSchema = createInsertSchema(notFoundErrors).omit({\n  id: true,\n  timestamp: true,\n});\n\nexport const insertImportedPhotoSchema = createInsertSchema(importedPhotos).omit({\n  id: true,\n  fetchedAt: true,\n});\n\n// Commercial customers/clients for trust signal display\nexport const commercialCustomers = pgTable(\"commercial_customers\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  name: text(\"name\").notNull(),\n  logoUrl: text(\"logo_url\").notNull(),\n  websiteUrl: text(\"website_url\"),\n  location: text(\"location\"), // Austin, Marble Falls, Liberty Hill, Leander, etc.\n  industry: text(\"industry\"), // Restaurant, Auto Services, Coworking, etc.\n  customerSince: integer(\"customer_since\"), // Year they became a customer\n  displayOrder: integer(\"display_order\").notNull().default(0), // For manual ordering\n  active: boolean(\"active\").notNull().default(true), // Show/hide without deleting\n  addedAt: timestamp(\"added_at\").notNull().defaultNow(),\n}, (table) => ({\n  activeIdx: index(\"commercial_customers_active_idx\").on(table.active),\n  displayOrderIdx: index(\"commercial_customers_display_order_idx\").on(table.displayOrder),\n}));\n\nexport const insertCommercialCustomerSchema = createInsertSchema(commercialCustomers).omit({\n  id: true,\n  addedAt: true,\n});\n\n// Page metadata for SEO management\n// Customer Portal Analytics (track search attempts)\nexport const portalAnalytics = pgTable(\"portal_analytics\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  searchType: text(\"search_type\").notNull(), // 'phone' or 'email'\n  searchValue: text(\"search_value\").notNull(), // The phone/email searched for\n  found: boolean(\"found\").notNull(), // Whether customer was found\n  customerId: integer(\"customer_id\"), // ServiceTitan customer ID if found\n  timestamp: timestamp(\"timestamp\").notNull().defaultNow(),\n}, (table) => ({\n  timestampIdx: index(\"portal_analytics_timestamp_idx\").on(table.timestamp),\n  foundIdx: index(\"portal_analytics_found_idx\").on(table.found),\n}));\n\n// Phone-based login temporary lookups (prevents email harvesting)\nexport const phoneLoginLookups = pgTable(\"phone_login_lookups\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  lookupToken: text(\"lookup_token\").notNull().unique(),\n  phone: text(\"phone\").notNull(),\n  email: text(\"email\").notNull(),\n  customerId: integer(\"customer_id\").notNull(),\n  expiresAt: timestamp(\"expires_at\", { withTimezone: true }).notNull(),\n  createdAt: timestamp(\"created_at\").defaultNow(),\n}, (table) => ({\n  tokenIdx: index(\"phone_login_lookups_token_idx\").on(table.lookupToken),\n  expiresIdx: index(\"phone_login_lookups_expires_idx\").on(table.expiresAt),\n}));\n\n// Customer Portal Authentication (SMS codes and email magic links)\nexport const portalVerifications = pgTable(\"portal_verifications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Verification details\n  verificationType: text(\"verification_type\").notNull(), // 'sms' or 'email'\n  contactValue: text(\"contact_value\").notNull(), // Phone number or email address\n  \n  // Code/token\n  code: text(\"code\").notNull(), // 6-digit code for SMS, UUID token for email\n  \n  // Customer info (array to support multiple accounts with shared email/phone)\n  customerIds: integer(\"customer_ids\").array().notNull(), // ServiceTitan customer IDs\n  \n  // Verification status\n  verified: boolean(\"verified\").notNull().default(false),\n  verifiedAt: timestamp(\"verified_at\", { withTimezone: true }),\n  \n  // Security & expiry\n  expiresAt: timestamp(\"expires_at\", { withTimezone: true }).notNull(), // 10 min for SMS, 1 hour for email\n  attempts: integer(\"attempts\").notNull().default(0), // Track failed attempts\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\", { withTimezone: true }).notNull().defaultNow(),\n}, (table) => ({\n  codeIdx: index(\"portal_verifications_code_idx\").on(table.code),\n  contactIdx: index(\"portal_verifications_contact_idx\").on(table.contactValue),\n  expiresIdx: index(\"portal_verifications_expires_idx\").on(table.expiresAt),\n}));\n\nexport const pageMetadata = pgTable(\"page_metadata\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  path: text(\"path\").notNull().unique(), // URL path like '/commercial-plumbing' or '/about'\n  title: text(\"title\").notNull(), // SEO title tag\n  description: text(\"description\").notNull(), // Meta description\n  keywords: text(\"keywords\"), // Optional meta keywords\n  canonicalUrl: text(\"canonical_url\"), // Optional custom canonical URL\n  ogImage: text(\"og_image\"), // Optional custom OG image\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  pathIdx: index(\"page_metadata_path_idx\").on(table.path),\n}));\n\nexport const insertPageMetadataSchema = createInsertSchema(pageMetadata).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertServiceTitanCustomerSchema = createInsertSchema(serviceTitanCustomers).omit({\n  lastSyncedAt: true,\n});\n\nexport const insertServiceTitanContactSchema = createInsertSchema(serviceTitanContacts).omit({\n  id: true,\n  lastSyncedAt: true,\n});\n\nexport const insertMailgunWebhookLogSchema = createInsertSchema(mailgunWebhookLogs).omit({\n  id: true,\n  receivedAt: true,\n});\n\nexport const insertCustomerDataImportSchema = createInsertSchema(customerDataImports).omit({\n  id: true,\n  startedAt: true,\n  completedAt: true,\n});\n\nexport const otpVerifications = pgTable(\"otp_verifications\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  phoneNumber: text(\"phone_number\").notNull(),\n  otp: text(\"otp\").notNull(),\n  verified: boolean(\"verified\").notNull().default(false),\n  expiresAt: timestamp(\"expires_at\").notNull(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  phoneNumberIdx: index(\"otp_verifications_phone_number_idx\").on(table.phoneNumber),\n  expiresAtIdx: index(\"otp_verifications_expires_at_idx\").on(table.expiresAt),\n}));\n\nexport const insertOtpVerificationSchema = createInsertSchema(otpVerifications).omit({\n  id: true,\n  createdAt: true,\n});\n\n// Custom review submissions (direct from website, not Google/Facebook)\nexport const customReviews = pgTable(\"custom_reviews\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Customer info\n  customerName: text(\"customer_name\").notNull(),\n  email: text(\"email\"),\n  phone: text(\"phone\"),\n  serviceTitanCustomerId: integer(\"service_titan_customer_id\"), // Link to ServiceTitan if available\n  \n  // Review content\n  rating: integer(\"rating\").notNull(), // 1-5 stars\n  title: text(\"title\"), // Optional review title/headline\n  text: text(\"text\").notNull(),\n  serviceType: text(\"service_type\"), // What service they received\n  jobDate: timestamp(\"job_date\"), // When was the service performed\n  \n  // Photos (optional - customers can upload photos)\n  photoUrls: text(\"photo_urls\").array().default(sql`ARRAY[]::text[]`),\n  \n  // Moderation workflow\n  status: text(\"status\").notNull().default('pending'), // 'pending', 'approved', 'rejected', 'spam'\n  \n  // Reply tracking (custom reviews can be replied to on our website)\n  replyText: text(\"reply_text\"), // Our posted reply\n  repliedAt: timestamp(\"replied_at\"), // When we replied\n  moderatedBy: varchar(\"moderated_by\"), // Admin user ID who approved/rejected\n  moderatedAt: timestamp(\"moderated_at\"),\n  moderationNotes: text(\"moderation_notes\"), // Internal notes from moderator\n  \n  // Display settings\n  featured: boolean(\"featured\").notNull().default(false), // Highlight on homepage\n  displayOnWebsite: boolean(\"display_on_website\").notNull().default(true), // Show publicly\n  \n  // Metadata\n  submittedAt: timestamp(\"submitted_at\").notNull().defaultNow(),\n  ipAddress: text(\"ip_address\"), // For spam prevention\n  userAgent: text(\"user_agent\"), // For analytics\n  source: text(\"source\").notNull().default('website'), // 'website', 'email_link', 'sms_link'\n  requestId: varchar(\"request_id\"), // Links to review_requests table\n}, (table) => ({\n  statusIdx: index(\"custom_reviews_status_idx\").on(table.status),\n  ratingIdx: index(\"custom_reviews_rating_idx\").on(table.rating),\n  submittedAtIdx: index(\"custom_reviews_submitted_at_idx\").on(table.submittedAt),\n  featuredIdx: index(\"custom_reviews_featured_idx\").on(table.featured),\n  customerIdIdx: index(\"custom_reviews_customer_id_idx\").on(table.serviceTitanCustomerId),\n}));\n\nexport const insertCustomReviewSchema = createInsertSchema(customReviews).omit({\n  id: true,\n  submittedAt: true,\n  moderatedBy: true,\n  moderatedAt: true,\n});\n\n// Review platform links (Google, Facebook, BBB, Yelp)\nexport const reviewPlatforms = pgTable(\"review_platforms\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  platform: text(\"platform\").notNull().unique(), // 'google', 'facebook', 'bbb', 'yelp'\n  displayName: text(\"display_name\").notNull(), // 'Google', 'Facebook', 'Better Business Bureau', 'Yelp'\n  url: text(\"url\").notNull(), // Direct link to review page\n  enabled: boolean(\"enabled\").notNull().default(true),\n  sortOrder: integer(\"sort_order\").notNull().default(0), // Display order\n  icon: text(\"icon\"), // Icon name or emoji\n  description: text(\"description\"), // Optional description\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\n// ServiceTitan Jobs Staging - Raw API responses for safe processing\nexport const serviceTitanJobsStaging = pgTable(\"service_titan_jobs_staging\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  jobId: bigint(\"job_id\", { mode: 'number' }).notNull(), // ServiceTitan job ID\n  rawData: jsonb(\"raw_data\").notNull(), // Complete job object from API\n  fetchedAt: timestamp(\"fetched_at\").notNull().defaultNow(),\n  processedAt: timestamp(\"processed_at\"), // When it was normalized to serviceTitanJobs\n  processingError: text(\"processing_error\"),\n}, (table) => ({\n  jobIdIdx: index(\"st_jobs_staging_job_id_idx\").on(table.jobId),\n  fetchedAtIdx: index(\"st_jobs_staging_fetched_at_idx\").on(table.fetchedAt),\n  processedAtIdx: index(\"st_jobs_staging_processed_at_idx\").on(table.processedAt),\n}));\n\n// ServiceTitan Jobs - Normalized job data for fast queries (kept for customer portal)\nexport const serviceTitanJobs = pgTable(\"service_titan_jobs\", {\n  id: bigint(\"id\", { mode: 'number' }).primaryKey(), // ServiceTitan job ID\n  jobNumber: varchar(\"job_number\").notNull(),\n  customerId: integer(\"customer_id\").notNull(), // References serviceTitanCustomers.id\n  jobType: varchar(\"job_type\"),\n  businessUnitId: bigint(\"business_unit_id\", { mode: 'number' }),\n  \n  // Job status\n  jobStatus: varchar(\"job_status\").notNull(), // 'Completed', 'Canceled', 'InProgress', etc.\n  completedOn: timestamp(\"completed_on\"),\n  \n  // Financial data\n  total: integer(\"total\").notNull().default(0), // Total amount in cents\n  invoice: integer(\"invoice\").notNull().default(0), // Invoice amount in cents\n  \n  // Service info (kept for customer portal display)\n  serviceCategory: varchar(\"service_category\"), // 'Plumbing', 'Water Heater', 'Drain Cleaning', etc.\n  equipmentInstalled: text(\"equipment_installed\").array(), // ['Tankless Water Heater', 'Water Softener']\n  customerSatisfaction: integer(\"customer_satisfaction\"), // 1-5 rating\n  \n  // Timestamps\n  createdOn: timestamp(\"created_on\").notNull(),\n  modifiedOn: timestamp(\"modified_on\").notNull(),\n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  customerIdIdx: index(\"st_jobs_customer_id_idx\").on(table.customerId),\n  jobStatusIdx: index(\"st_jobs_job_status_idx\").on(table.jobStatus),\n  completedOnIdx: index(\"st_jobs_completed_on_idx\").on(table.completedOn),\n  modifiedOnIdx: index(\"st_jobs_modified_on_idx\").on(table.modifiedOn),\n  jobNumberIdx: index(\"st_jobs_job_number_idx\").on(table.jobNumber),\n  serviceCategoryIdx: index(\"st_jobs_service_category_idx\").on(table.serviceCategory),\n  customerSatisfactionIdx: index(\"st_jobs_customer_satisfaction_idx\").on(table.customerSatisfaction),\n}));\n\n// Sync Watermarks - Tracks incremental sync progress for ServiceTitan API\nexport const syncWatermarks = pgTable(\"sync_watermarks\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  syncType: varchar(\"sync_type\").notNull(), // 'customers', 'jobs', etc.\n  lastSuccessfulSyncAt: timestamp(\"last_successful_sync_at\"),\n  lastModifiedOnFetched: timestamp(\"last_modified_on_fetched\"), // Watermark timestamp\n  recordsProcessed: integer(\"records_processed\").notNull().default(0),\n  syncDuration: integer(\"sync_duration\"), // Milliseconds\n  lastError: text(\"last_error\"),\n  lastErrorAt: timestamp(\"last_error_at\"),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n});\n\n// ServiceTitan Job Forms - Form submissions from jobs (for customer portal)\nexport const serviceTitanJobForms = pgTable(\"service_titan_job_forms\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  formId: bigint(\"form_id\", { mode: 'number' }).notNull(), // ServiceTitan form ID\n  jobId: bigint(\"job_id\", { mode: 'number' }).notNull(), // References serviceTitanJobs.id\n  customerId: integer(\"customer_id\").notNull(), // References serviceTitanCustomers.id\n  formTemplateId: bigint(\"form_template_id\", { mode: 'number' }),\n  formTemplateName: text(\"form_template_name\"),\n  rawFormData: jsonb(\"raw_form_data\").notNull(), // Complete form JSON\n  parsedFields: jsonb(\"parsed_fields\").notNull(), // Normalized key-value pairs\n  technicianNotes: text(\"technician_notes\"),\n  customerConcerns: text(\"customer_concerns\").array(),\n  recommendationsMade: text(\"recommendations_made\").array(),\n  equipmentCondition: text(\"equipment_condition\"),\n  submittedOn: timestamp(\"submitted_on\").notNull(),\n  submittedBy: text(\"submitted_by\"),\n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  jobIdIdx: index(\"st_job_forms_job_id_idx\").on(table.jobId),\n  customerIdIdx: index(\"st_job_forms_customer_id_idx\").on(table.customerId),\n  formIdIdx: index(\"st_job_forms_form_id_idx\").on(table.formId),\n}));\n\n// ServiceTitan Estimates - Quotes/estimates from jobs (enhanced for AI analytics)\nexport const serviceTitanEstimates = pgTable(\"service_titan_estimates\", {\n  id: bigint(\"id\", { mode: 'number' }).primaryKey(), // ServiceTitan estimate ID\n  jobId: bigint(\"job_id\", { mode: 'number' }), // Optional: linked job ID\n  customerId: integer(\"customer_id\").notNull(), // References serviceTitanCustomers.id\n  \n  // Estimate details\n  name: text(\"name\"),\n  summary: text(\"summary\"),\n  status: varchar(\"status\").notNull(), // 'Open', 'Sold', 'Dismissed'\n  soldBy: text(\"sold_by\"), // Salesperson name\n  soldOn: timestamp(\"sold_on\"), // When estimate was sold\n  dismissedBy: text(\"dismissed_by\"),\n  dismissedOn: timestamp(\"dismissed_on\"),\n  \n  // Financial data\n  subtotal: integer(\"subtotal\").notNull().default(0), // Subtotal in cents\n  tax: integer(\"tax\").notNull().default(0), // Tax amount in cents\n  total: integer(\"total\").notNull().default(0), // Total amount in cents\n  \n  // Metadata\n  createdBy: text(\"created_by\"), // Who created the estimate\n  createdOn: timestamp(\"created_on\").notNull(),\n  modifiedOn: timestamp(\"modified_on\"),\n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  jobIdIdx: index(\"st_estimates_job_id_idx\").on(table.jobId),\n  customerIdIdx: index(\"st_estimates_customer_id_idx\").on(table.customerId),\n  statusIdx: index(\"st_estimates_status_idx\").on(table.status),\n  soldOnIdx: index(\"st_estimates_sold_on_idx\").on(table.soldOn),\n  createdOnIdx: index(\"st_estimates_created_on_idx\").on(table.createdOn),\n}));\n\n// ServiceTitan Line Items - Individual services, materials, equipment from estimates\nexport const serviceTitanLineItems = pgTable(\"service_titan_line_items\", {\n  id: bigint(\"id\", { mode: 'number' }).primaryKey(), // ServiceTitan line item ID\n  estimateId: bigint(\"estimate_id\", { mode: 'number' }).notNull(), // References serviceTitanEstimates.id\n  jobId: bigint(\"job_id\", { mode: 'number' }), // Optional: job ID if booked\n  customerId: integer(\"customer_id\").notNull(), // References serviceTitanCustomers.id\n  \n  // Line item details\n  itemType: varchar(\"item_type\").notNull(), // 'Service', 'Material', 'Equipment'\n  skuId: bigint(\"sku_id\", { mode: 'number' }), // Pricebook SKU ID\n  skuName: text(\"sku_name\"), // SKU display name\n  description: text(\"description\"),\n  \n  // Equipment-specific fields (for water heater analytics)\n  equipmentManufacturer: text(\"equipment_manufacturer\"), // e.g., 'Rheem', 'Bradford White'\n  equipmentModel: text(\"equipment_model\"), // Model number\n  equipmentSize: text(\"equipment_size\"), // e.g., '50 gallon', '75,000 BTU'\n  equipmentType: text(\"equipment_type\"), // e.g., 'Tankless', 'Tank', 'Heat Pump'\n  \n  // Pricing\n  quantity: integer(\"quantity\").notNull().default(1),\n  unitPrice: integer(\"unit_price\").notNull().default(0), // Price per unit in cents\n  totalPrice: integer(\"total_price\").notNull().default(0), // Total price in cents\n  cost: integer(\"cost\").notNull().default(0), // Cost to business in cents\n  memberPrice: integer(\"member_price\"), // Member discount price in cents\n  \n  // Status\n  sold: boolean(\"sold\").notNull().default(false),\n  soldBy: text(\"sold_by\"),\n  soldOn: timestamp(\"sold_on\"),\n  \n  // Metadata\n  lastSyncedAt: timestamp(\"last_synced_at\").notNull().defaultNow(),\n}, (table) => ({\n  estimateIdIdx: index(\"st_line_items_estimate_id_idx\").on(table.estimateId),\n  jobIdIdx: index(\"st_line_items_job_id_idx\").on(table.jobId),\n  customerIdIdx: index(\"st_line_items_customer_id_idx\").on(table.customerId),\n  itemTypeIdx: index(\"st_line_items_item_type_idx\").on(table.itemType),\n  skuIdIdx: index(\"st_line_items_sku_id_idx\").on(table.skuId),\n  equipmentTypeIdx: index(\"st_line_items_equipment_type_idx\").on(table.equipmentType),\n  soldIdx: index(\"st_line_items_sold_idx\").on(table.sold),\n  soldOnIdx: index(\"st_line_items_sold_on_idx\").on(table.soldOn),\n}));\n\n// Marketing tables removed - all marketing infrastructure has been removed from the system\n\nexport const insertServiceTitanEstimateSchema = createInsertSchema(serviceTitanEstimates).omit({\n  lastSyncedAt: true,\n});\n\nexport const insertServiceTitanLineItemSchema = createInsertSchema(serviceTitanLineItems).omit({\n  lastSyncedAt: true,\n});\n\nexport const insertReviewPlatformSchema = createInsertSchema(reviewPlatforms).omit({\n  id: true,\n  updatedAt: true,\n});\n\nexport type InsertUser = z.infer<typeof insertUserSchema>;\nexport type ImportedPhoto = typeof importedPhotos.$inferSelect;\nexport type InsertImportedPhoto = z.infer<typeof insertImportedPhotoSchema>;\nexport type User = typeof users.$inferSelect;\nexport type BlogPost = typeof blogPosts.$inferSelect;\nexport type InsertBlogPost = z.infer<typeof insertBlogPostSchema>;\nexport type Product = typeof products.$inferSelect;\nexport type InsertProduct = z.infer<typeof insertProductSchema>;\nexport type ContactSubmission = typeof contactSubmissions.$inferSelect;\nexport type InsertContactSubmission = z.infer<typeof insertContactSubmissionSchema>;\nexport type CustomerSuccessStory = typeof customerSuccessStories.$inferSelect;\nexport type InsertCustomerSuccessStory = z.infer<typeof insertCustomerSuccessStorySchema>;\nexport type ServiceArea = typeof serviceAreas.$inferSelect;\nexport type InsertServiceArea = z.infer<typeof insertServiceAreaSchema>;\nexport type GoogleReview = typeof googleReviews.$inferSelect;\nexport type InsertGoogleReview = z.infer<typeof insertGoogleReviewSchema>;\nexport type GoogleOAuthToken = typeof googleOAuthTokens.$inferSelect;\nexport type InsertGoogleOAuthToken = z.infer<typeof insertGoogleOAuthTokenSchema>;\nexport type ZoomOAuthToken = typeof zoomOAuthTokens.$inferSelect;\nexport type InsertZoomOAuthToken = z.infer<typeof insertZoomOAuthTokenSchema>;\nexport type PendingPurchase = typeof pendingPurchases.$inferSelect;\nexport type InsertPendingPurchase = z.infer<typeof insertPendingPurchaseSchema>;\nexport type ServiceTitanMembership = typeof serviceTitanMemberships.$inferSelect;\nexport type InsertServiceTitanMembership = z.infer<typeof insertServiceTitanMembershipSchema>;\nexport type CompanyCamPhoto = typeof companyCamPhotos.$inferSelect;\nexport type InsertCompanyCamPhoto = z.infer<typeof insertCompanyCamPhotoSchema>;\nexport type BeforeAfterComposite = typeof beforeAfterComposites.$inferSelect;\nexport type InsertBeforeAfterComposite = z.infer<typeof insertBeforeAfterCompositeSchema>;\nexport type SystemSetting = typeof systemSettings.$inferSelect;\nexport type InsertSystemSetting = z.infer<typeof insertSystemSettingSchema>;\nexport type NotFoundError = typeof notFoundErrors.$inferSelect;\nexport type InsertNotFoundError = z.infer<typeof insertNotFoundErrorSchema>;\nexport type TrackingNumber = typeof trackingNumbers.$inferSelect;\nexport type InsertTrackingNumber = z.infer<typeof insertTrackingNumberSchema>;\nexport type CommercialCustomer = typeof commercialCustomers.$inferSelect;\nexport type InsertCommercialCustomer = z.infer<typeof insertCommercialCustomerSchema>;\nexport type PageMetadata = typeof pageMetadata.$inferSelect;\nexport type InsertPageMetadata = z.infer<typeof insertPageMetadataSchema>;\nexport type ServiceTitanCustomer = typeof serviceTitanCustomers.$inferSelect;\nexport type InsertServiceTitanCustomer = z.infer<typeof insertServiceTitanCustomerSchema>;\nexport type ServiceTitanContact = typeof serviceTitanContacts.$inferSelect;\nexport type InsertServiceTitanContact = z.infer<typeof insertServiceTitanContactSchema>;\nexport type ServiceTitanEstimate = typeof serviceTitanEstimates.$inferSelect;\nexport type InsertServiceTitanEstimate = z.infer<typeof insertServiceTitanEstimateSchema>;\nexport type ServiceTitanLineItem = typeof serviceTitanLineItems.$inferSelect;\nexport type InsertServiceTitanLineItem = z.infer<typeof insertServiceTitanLineItemSchema>;\nexport type MailgunWebhookLog = typeof mailgunWebhookLogs.$inferSelect;\nexport type InsertMailgunWebhookLog = z.infer<typeof insertMailgunWebhookLogSchema>;\nexport type CustomerDataImport = typeof customerDataImports.$inferSelect;\nexport type InsertCustomerDataImport = z.infer<typeof insertCustomerDataImportSchema>;\nexport type OAuthUser = typeof oauthUsers.$inferSelect;\nexport type UpsertOAuthUser = typeof oauthUsers.$inferInsert;\nexport type AdminWhitelist = typeof adminWhitelist.$inferSelect;\nexport type InsertAdminWhitelist = typeof adminWhitelist.$inferInsert;\nexport type OtpVerification = typeof otpVerifications.$inferSelect;\nexport type InsertOtpVerification = z.infer<typeof insertOtpVerificationSchema>;\nexport type CustomReview = typeof customReviews.$inferSelect;\nexport type InsertCustomReview = z.infer<typeof insertCustomReviewSchema>;\n// Review request types removed - will be rebuilt\nexport type ReviewPlatform = typeof reviewPlatforms.$inferSelect;\nexport type InsertReviewPlatform = z.infer<typeof insertReviewPlatformSchema>;\nexport type ServiceTitanJob = typeof serviceTitanJobs.$inferSelect;\nexport type ServiceTitanJobStaging = typeof serviceTitanJobsStaging.$inferSelect;\nexport type SyncWatermark = typeof syncWatermarks.$inferSelect;\n\n\n// Marketing schemas removed - will be rebuilt\n\n// Review link click schema removed - will be rebuilt\n\n// ServiceTitan job form schema removed - will be rebuilt\n\n// Audience movement and marketing system settings schemas removed - will be rebuilt\n\n\n// Review Email Preferences - SEPARATE from marketing preferences (transactional)\n\n// =====================================================\n// SMS MARKETING SYSTEM (5 TABLES)\n// Complete SMS infrastructure for marketing, promotions, and review requests\n// TCPA-compliant with explicit opt-in/opt-out management\n// =====================================================\n\n// SMS Marketing Preferences - TCPA-compliant opt-in/opt-out tracking\n\n// Review request campaign schema removed - will be rebuilt\n\n// Review drip email schema removed - will be rebuilt\n\n\n\n// Reputation management schemas removed - will be rebuilt\n\n// ============================================================================\n// REVIEW & REFERRAL DRIP CAMPAIGN SYSTEM\n// ============================================================================\n\n// Job Completions - Track recently completed jobs eligible for review requests\nexport const jobCompletions = pgTable(\"job_completions\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // ServiceTitan job details\n  jobId: integer(\"job_id\").notNull().unique(),\n  customerId: integer(\"customer_id\").notNull(),\n  customerName: text(\"customer_name\").notNull(),\n  customerEmail: text(\"customer_email\"),\n  customerPhone: text(\"customer_phone\"),\n  \n  // Job metadata\n  completionDate: timestamp(\"completion_date\").notNull(),\n  serviceName: text(\"service_name\"),\n  technicianName: text(\"technician_name\"),\n  invoiceTotal: integer(\"invoice_total\"), // In cents\n  jobNotes: text(\"job_notes\"),\n  \n  // Marketing flags\n  marketingOptedOut: boolean(\"marketing_opted_out\").notNull().default(false),\n  isQuoteOnly: boolean(\"is_quote_only\").notNull().default(false), // $0 jobs - quotes/estimates without completed work\n  \n  // Tracking\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  completionDateIdx: index(\"job_completions_completion_date_idx\").on(table.completionDate),\n  customerIdIdx: index(\"job_completions_customer_id_idx\").on(table.customerId),\n}));\n\n// Review Requests - 4-email drip campaign over 21 days\nexport const reviewRequests = pgTable(\"review_requests\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Links to job\n  jobCompletionId: varchar(\"job_completion_id\").notNull(),\n  customerId: integer(\"customer_id\").notNull(),\n  customerEmail: text(\"customer_email\").notNull(),\n  \n  // Campaign status\n  status: text(\"status\").notNull().default('queued'), // 'queued', 'email1_sent', 'email2_sent', 'email3_sent', 'email4_sent', 'completed', 'stopped'\n  stopReason: text(\"stop_reason\"), // 'review_submitted', 'opted_out', 'email_bounced'\n  \n  // Email tracking (4 emails in drip)\n  email1SentAt: timestamp(\"email1_sent_at\"),\n  email2SentAt: timestamp(\"email2_sent_at\"),\n  email3SentAt: timestamp(\"email3_sent_at\"),\n  email4SentAt: timestamp(\"email4_sent_at\"),\n  \n  // Response tracking\n  reviewSubmitted: boolean(\"review_submitted\").notNull().default(false),\n  reviewSubmittedAt: timestamp(\"review_submitted_at\"),\n  reviewRating: integer(\"review_rating\"), // 1-5 stars\n  reviewPlatform: text(\"review_platform\"), // 'google', 'facebook', 'internal'\n  \n  // Engagement\n  emailOpens: integer(\"email_opens\").notNull().default(0),\n  linkClicks: integer(\"link_clicks\").notNull().default(0),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  completedAt: timestamp(\"completed_at\"),\n}, (table) => ({\n  statusIdx: index(\"review_requests_status_idx\").on(table.status),\n  customerIdIdx: index(\"review_requests_customer_id_idx\").on(table.customerId),\n  createdAtIdx: index(\"review_requests_created_at_idx\").on(table.createdAt),\n}));\n\n// Review Feedback - Internal feedback from <4 star reviews\nexport const reviewFeedback = pgTable(\"review_feedback\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Links to review request\n  reviewRequestId: varchar(\"review_request_id\").notNull(),\n  customerId: integer(\"customer_id\").notNull(),\n  \n  // Feedback details\n  rating: integer(\"rating\").notNull(), // 1-5 stars (typically <4)\n  feedbackText: text(\"feedback_text\"),\n  wouldRecommend: boolean(\"would_recommend\"),\n  \n  // Admin follow-up\n  followedUp: boolean(\"followed_up\").notNull().default(false),\n  followedUpAt: timestamp(\"followed_up_at\"),\n  followUpNotes: text(\"follow_up_notes\"),\n  resolved: boolean(\"resolved\").notNull().default(false),\n  \n  // Timestamps\n  submittedAt: timestamp(\"submitted_at\").notNull().defaultNow(),\n}, (table) => ({\n  reviewRequestIdIdx: index(\"review_feedback_review_request_idx\").on(table.reviewRequestId),\n  followedUpIdx: index(\"review_feedback_followed_up_idx\").on(table.followedUp),\n  ratingIdx: index(\"review_feedback_rating_idx\").on(table.rating),\n}));\n\n// Referral Nurture Campaigns - 4-email drip over 6 months for happy reviewers\nexport const referralNurtureCampaigns = pgTable(\"referral_nurture_campaigns\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Links to customer\n  customerId: integer(\"customer_id\").notNull().unique(), // One campaign per customer\n  customerEmail: text(\"customer_email\").notNull(),\n  originalReviewId: varchar(\"original_review_id\"), // The review that triggered this campaign\n  \n  // Campaign status\n  status: text(\"status\").notNull().default('queued'), // 'queued', 'email1_sent', 'email2_sent', 'email3_sent', 'email4_sent', 'completed', 'paused'\n  pauseReason: text(\"pause_reason\"), // 'referral_submitted', 'opted_out', 'low_engagement'\n  \n  // Email tracking (4 emails over 6 months)\n  email1SentAt: timestamp(\"email1_sent_at\"), // Day 14\n  email2SentAt: timestamp(\"email2_sent_at\"), // Day 60\n  email3SentAt: timestamp(\"email3_sent_at\"), // Day 150\n  email4SentAt: timestamp(\"email4_sent_at\"), // Day 210\n  \n  // Engagement tracking\n  consecutiveUnopened: integer(\"consecutive_unopened\").notNull().default(0), // Auto-pause after 2\n  totalOpens: integer(\"total_opens\").notNull().default(0),\n  totalClicks: integer(\"total_clicks\").notNull().default(0),\n  \n  // Referral tracking\n  referralsSubmitted: integer(\"referrals_submitted\").notNull().default(0),\n  lastReferralAt: timestamp(\"last_referral_at\"),\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  pausedAt: timestamp(\"paused_at\"),\n  completedAt: timestamp(\"completed_at\"),\n}, (table) => ({\n  statusIdx: index(\"referral_nurture_status_idx\").on(table.status),\n  customerIdIdx: index(\"referral_nurture_customer_id_idx\").on(table.customerId),\n  createdAtIdx: index(\"referral_nurture_created_at_idx\").on(table.createdAt),\n}));\n\n// Review Email Templates - Customizable templates for campaign emails\nexport const reviewEmailTemplates = pgTable(\"review_email_templates\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Template identification\n  campaignType: text(\"campaign_type\").notNull(), // 'review_request', 'referral_nurture', 'quote_followup'\n  emailNumber: integer(\"email_number\").notNull(), // 1-4\n  \n  // Template content\n  subject: text(\"subject\").notNull(),\n  htmlContent: text(\"html_content\").notNull(),\n  plainTextContent: text(\"plain_text_content\").notNull(),\n  \n  // Dynamic merge fields used (for reference)\n  mergeFields: text(\"merge_fields\").array(), // ['customerName', 'technicianName', 'serviceName', etc.]\n  \n  // Admin customization\n  isDefault: boolean(\"is_default\").notNull().default(false),\n  customized: boolean(\"customized\").notNull().default(false),\n  lastEditedBy: varchar(\"last_edited_by\"),\n  lastEditedAt: timestamp(\"last_edited_at\"),\n  \n  // AI generation metadata\n  aiGenerated: boolean(\"ai_generated\").notNull().default(false),\n  aiPrompt: text(\"ai_prompt\"), // The prompt used to generate this template\n  \n  // Timestamps\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n  updatedAt: timestamp(\"updated_at\").notNull().defaultNow(),\n}, (table) => ({\n  campaignTypeIdx: index(\"review_email_templates_campaign_type_idx\").on(table.campaignType),\n  emailNumberIdx: index(\"review_email_templates_email_number_idx\").on(table.emailNumber),\n  uniqueCampaignEmail: uniqueIndex(\"review_email_templates_campaign_email_unique\").on(table.campaignType, table.emailNumber),\n}));\n\n// Email Send Log - Tracks all campaign email sends for engagement tracking\nexport const emailSendLog = pgTable(\"email_send_log\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Campaign identification\n  campaignType: text(\"campaign_type\").notNull(), // 'review_request', 'referral_nurture', 'quote_followup'\n  campaignRecordId: varchar(\"campaign_record_id\").notNull(), // ID of reviewRequest or referralNurtureCampaign\n  emailNumber: integer(\"email_number\").notNull(), // 1-4\n  \n  // Recipient info\n  recipientEmail: text(\"recipient_email\").notNull(),\n  recipientName: text(\"recipient_name\"),\n  customerId: integer(\"customer_id\").notNull(),\n  \n  // Email provider details\n  resendEmailId: text(\"resend_email_id\").unique(), // Resend's email ID for webhook tracking\n  resendStatus: text(\"resend_status\"), // 'queued', 'sent', 'delivered', 'bounced', 'complained'\n  \n  // Tracking events\n  sentAt: timestamp(\"sent_at\").notNull().defaultNow(),\n  deliveredAt: timestamp(\"delivered_at\"),\n  openedAt: timestamp(\"opened_at\"),\n  clickedAt: timestamp(\"clicked_at\"),\n  bouncedAt: timestamp(\"bounced_at\"),\n  complainedAt: timestamp(\"complained_at\"),\n  \n  // Error tracking\n  errorMessage: text(\"error_message\"),\n}, (table) => ({\n  resendEmailIdIdx: index(\"email_send_log_resend_email_id_idx\").on(table.resendEmailId),\n  campaignTypeIdx: index(\"email_send_log_campaign_type_idx\").on(table.campaignType),\n  campaignRecordIdx: index(\"email_send_log_campaign_record_idx\").on(table.campaignRecordId),\n  recipientEmailIdx: index(\"email_send_log_recipient_email_idx\").on(table.recipientEmail),\n}));\n\n// Email Suppression List - Hard bounces, spam complaints (NEVER email these)\nexport const emailSuppressionList = pgTable(\"email_suppression_list\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  email: text(\"email\").notNull().unique(),\n  \n  // Suppression reason\n  reason: text(\"reason\").notNull(), // 'hard_bounce', 'spam_complaint', 'manual_suppression'\n  reasonDetails: text(\"reason_details\"),\n  \n  // Source tracking\n  resendEmailId: text(\"resend_email_id\"),\n  campaignRecordId: varchar(\"campaign_record_id\"),\n  \n  // Timestamps\n  addedAt: timestamp(\"added_at\").notNull().defaultNow(),\n}, (table) => ({\n  emailIdx: index(\"email_suppression_list_email_idx\").on(table.email),\n  reasonIdx: index(\"email_suppression_list_reason_idx\").on(table.reason),\n}));\n\n// ============================================================================\n// SYSTEM RELIABILITY & MONITORING\n// ============================================================================\n\n// Webhook Failure Queue - Stores failed webhook events for retry\nexport const webhookFailureQueue = pgTable(\"webhook_failure_queue\", {\n  id: varchar(\"id\").primaryKey().default(sql`gen_random_uuid()`),\n  \n  // Webhook details\n  webhookType: text(\"webhook_type\").notNull(), // 'resend', 'stripe', 'twilio', etc.\n  webhookEvent: text(\"webhook_event\").notNull(), // 'email.delivered', 'email.bounced', etc.\n  rawPayload: jsonb(\"raw_payload\").notNull(), // Complete webhook payload\n  \n  // HTTP request details\n  headers: jsonb(\"headers\").notNull(), // Webhook headers for verification\n  signature: text(\"signature\"), // Original signature for retry verification\n  \n  // Retry tracking\n  attemptCount: integer(\"attempt_count\").notNull().default(0),\n  maxAttempts: integer(\"max_attempts\").notNull().default(5),\n  nextRetryAt: timestamp(\"next_retry_at\"), // When to retry next\n  lastAttemptAt: timestamp(\"last_attempt_at\"),\n  lastError: text(\"last_error\"), // Error message from last attempt\n  \n  // Status\n  status: text(\"status\").notNull().default('pending'), // 'pending', 'retrying', 'succeeded', 'dead_letter'\n  processedAt: timestamp(\"processed_at\"), // When successfully processed\n  movedToDeadLetterAt: timestamp(\"moved_to_dead_letter_at\"), // When moved to dead letter queue\n  \n  // Timestamps\n  receivedAt: timestamp(\"received_at\").notNull().defaultNow(),\n  createdAt: timestamp(\"created_at\").notNull().defaultNow(),\n}, (table) => ({\n  statusIdx: index(\"webhook_failure_queue_status_idx\").on(table.status),\n  nextRetryAtIdx: index(\"webhook_failure_queue_next_retry_at_idx\").on(table.nextRetryAt),\n  webhookTypeIdx: index(\"webhook_failure_queue_type_idx\").on(table.webhookType),\n}));\n\n// Campaign Send Idempotency - Prevents duplicate email/SMS sends\n\n// SMS Marketing insert schemas\n// SMS marketing schemas removed - will be rebuilt\n\n// SMS campaign schema removed - will be rebuilt\n\n// SMS campaign message schema removed - will be rebuilt\n\n// SMS send log schema removed - will be rebuilt\n\n// SMS keyword schema removed - will be rebuilt\n\n// System Reliability & Monitoring insert schemas\nexport const insertWebhookFailureQueueSchema = createInsertSchema(webhookFailureQueue).omit({\n  id: true,\n  receivedAt: true,\n  createdAt: true,\n  processedAt: true,\n  movedToDeadLetterAt: true,\n  lastAttemptAt: true,\n});\n\n\n// System health check schema removed - will be rebuilt\n\n// Marketing type exports removed - will be rebuilt\nexport type WebhookFailureQueue = typeof webhookFailureQueue.$inferSelect;\nexport type InsertWebhookFailureQueue = z.infer<typeof insertWebhookFailureQueueSchema>;\n// System health check types removed - will be rebuilt\n\n// Chatbot types and schemas\nexport const insertChatbotConversationSchema = createInsertSchema(chatbotConversations).omit({\n  id: true,\n  startedAt: true,\n  feedbackPositive: true,\n  feedbackNegative: true,\n});\n\nexport const insertChatbotMessageSchema = createInsertSchema(chatbotMessages).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertChatbotAnalyticsSchema = createInsertSchema(chatbotAnalytics).omit({\n  id: true,\n  lastAsked: true,\n  count: true,\n});\n\nexport const insertChatbotQuickResponseSchema = createInsertSchema(chatbotQuickResponses).omit({\n  id: true,\n});\n\nexport type ChatbotConversation = typeof chatbotConversations.$inferSelect;\nexport type InsertChatbotConversation = z.infer<typeof insertChatbotConversationSchema>;\nexport type ChatbotMessage = typeof chatbotMessages.$inferSelect;\nexport type InsertChatbotMessage = z.infer<typeof insertChatbotMessageSchema>;\nexport type ChatbotAnalytics = typeof chatbotAnalytics.$inferSelect;\nexport type InsertChatbotAnalytics = z.infer<typeof insertChatbotAnalyticsSchema>;\nexport type ChatbotQuickResponse = typeof chatbotQuickResponses.$inferSelect;\nexport type InsertChatbotQuickResponse = z.infer<typeof insertChatbotQuickResponseSchema>;\n\n// Review & Referral Drip Campaign Schemas\nexport const insertJobCompletionSchema = createInsertSchema(jobCompletions).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertReviewRequestSchema = createInsertSchema(reviewRequests).omit({\n  id: true,\n  createdAt: true,\n  completedAt: true,\n});\n\nexport const insertReviewFeedbackSchema = createInsertSchema(reviewFeedback).omit({\n  id: true,\n  submittedAt: true,\n  followedUpAt: true,\n});\n\nexport const insertReferralNurtureCampaignSchema = createInsertSchema(referralNurtureCampaigns).omit({\n  id: true,\n  createdAt: true,\n  pausedAt: true,\n  completedAt: true,\n});\n\nexport const insertReviewEmailTemplateSchema = createInsertSchema(reviewEmailTemplates).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertEmailSendLogSchema = createInsertSchema(emailSendLog).omit({\n  id: true,\n  sentAt: true,\n});\n\nexport const insertEmailSuppressionListSchema = createInsertSchema(emailSuppressionList).omit({\n  id: true,\n  addedAt: true,\n});\n\nexport const insertReferralCreditUsageSchema = createInsertSchema(referralCreditUsage).omit({\n  id: true,\n  processedAt: true,\n});\n\nexport const insertRefereeWelcomeEmailSchema = createInsertSchema(refereeWelcomeEmails).omit({\n  id: true,\n  createdAt: true,\n  sentAt: true,\n});\n\nexport const insertReferrerThankYouEmailSchema = createInsertSchema(referrerThankYouEmails).omit({\n  id: true,\n  createdAt: true,\n  approvedAt: true,\n  sentAt: true,\n});\n\nexport const insertReferrerSuccessEmailSchema = createInsertSchema(referrerSuccessEmails).omit({\n  id: true,\n  createdAt: true,\n  approvedAt: true,\n  sentAt: true,\n});\n\nexport const insertEmailPreferencesSchema = createInsertSchema(emailPreferences).omit({\n  id: true,\n  createdAt: true,\n  lastUpdated: true,\n});\n\nexport const insertPendingReferralSchema = createInsertSchema(pendingReferrals).omit({\n  id: true,\n  capturedAt: true,\n  convertedAt: true,\n});\n\nexport const insertConversionEventSchema = createInsertSchema(conversionEvents).omit({\n  id: true,\n  createdAt: true,\n});\n\nexport const insertCustomerSegmentSchema = createInsertSchema(customerSegments).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertSegmentMembershipSchema = createInsertSchema(segmentMembership).omit({\n  id: true,\n  addedAt: true,\n});\n\nexport const insertCustomEmailCampaignSchema = createInsertSchema(customEmailCampaigns).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertCustomCampaignEmailSchema = createInsertSchema(customCampaignEmails).omit({\n  id: true,\n  createdAt: true,\n  updatedAt: true,\n});\n\nexport const insertCustomCampaignSendLogSchema = createInsertSchema(customCampaignSendLog).omit({\n  id: true,\n  sentAt: true,\n});\n\nexport type JobCompletion = typeof jobCompletions.$inferSelect;\nexport type InsertJobCompletion = z.infer<typeof insertJobCompletionSchema>;\nexport type ReviewRequest = typeof reviewRequests.$inferSelect;\nexport type InsertReviewRequest = z.infer<typeof insertReviewRequestSchema>;\nexport type ReviewFeedback = typeof reviewFeedback.$inferSelect;\nexport type InsertReviewFeedback = z.infer<typeof insertReviewFeedbackSchema>;\nexport type ReferralNurtureCampaign = typeof referralNurtureCampaigns.$inferSelect;\nexport type InsertReferralNurtureCampaign = z.infer<typeof insertReferralNurtureCampaignSchema>;\nexport type ReviewEmailTemplate = typeof reviewEmailTemplates.$inferSelect;\nexport type InsertReviewEmailTemplate = z.infer<typeof insertReviewEmailTemplateSchema>;\nexport type EmailSendLog = typeof emailSendLog.$inferSelect;\nexport type InsertEmailSendLog = z.infer<typeof insertEmailSendLogSchema>;\nexport type EmailSuppressionList = typeof emailSuppressionList.$inferSelect;\nexport type InsertEmailSuppressionList = z.infer<typeof insertEmailSuppressionListSchema>;\nexport type ReferralCreditUsage = typeof referralCreditUsage.$inferSelect;\nexport type InsertReferralCreditUsage = z.infer<typeof insertReferralCreditUsageSchema>;\nexport type RefereeWelcomeEmail = typeof refereeWelcomeEmails.$inferSelect;\nexport type InsertRefereeWelcomeEmail = z.infer<typeof insertRefereeWelcomeEmailSchema>;\nexport type ReferrerThankYouEmail = typeof referrerThankYouEmails.$inferSelect;\nexport type InsertReferrerThankYouEmail = z.infer<typeof insertReferrerThankYouEmailSchema>;\nexport type ReferrerSuccessEmail = typeof referrerSuccessEmails.$inferSelect;\nexport type InsertReferrerSuccessEmail = z.infer<typeof insertReferrerSuccessEmailSchema>;\nexport type EmailPreference = typeof emailPreferences.$inferSelect;\nexport type InsertEmailPreference = z.infer<typeof insertEmailPreferencesSchema>;\nexport type PendingReferral = typeof pendingReferrals.$inferSelect;\nexport type InsertPendingReferral = z.infer<typeof insertPendingReferralSchema>;\nexport type ConversionEvent = typeof conversionEvents.$inferSelect;\nexport type InsertConversionEvent = z.infer<typeof insertConversionEventSchema>;\nexport type CustomerSegment = typeof customerSegments.$inferSelect;\nexport type InsertCustomerSegment = z.infer<typeof insertCustomerSegmentSchema>;\nexport type SegmentMembership = typeof segmentMembership.$inferSelect;\nexport type InsertSegmentMembership = z.infer<typeof insertSegmentMembershipSchema>;\nexport type CustomEmailCampaign = typeof customEmailCampaigns.$inferSelect;\nexport type InsertCustomEmailCampaign = z.infer<typeof insertCustomEmailCampaignSchema>;\nexport type CustomCampaignEmail = typeof customCampaignEmails.$inferSelect;\nexport type InsertCustomCampaignEmail = z.infer<typeof insertCustomCampaignEmailSchema>;\nexport type CustomCampaignSendLog = typeof customCampaignSendLog.$inferSelect;\nexport type InsertCustomCampaignSendLog = z.infer<typeof insertCustomCampaignSendLogSchema>;\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 2170, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/server/db.ts"],"sourcesContent":["import { Pool, neonConfig } from '@neondatabase/serverless';\nimport { drizzle } from 'drizzle-orm/neon-serverless';\nimport ws from \"ws\";\nimport * as schema from \"@shared/schema\";\n\nneonConfig.webSocketConstructor = ws;\n\nif (!process.env.DATABASE_URL) {\n  throw new Error(\n    \"DATABASE_URL must be set. Did you forget to provision a database?\",\n  );\n}\n\nexport const pool = new Pool({ connectionString: process.env.DATABASE_URL });\nexport const db = drizzle({ client: pool, schema });\n"],"names":[],"mappings":";;;;;;AAAA;AACA;AACA;AACA;;;;;AAEA,sKAAU,CAAC,oBAAoB,GAAG,2JAAE;AAEpC,IAAI,CAAC,QAAQ,GAAG,CAAC,YAAY,EAAE;IAC7B,MAAM,IAAI,MACR;AAEJ;AAEO,MAAM,OAAO,IAAI,gKAAI,CAAC;IAAE,kBAAkB,QAAQ,GAAG,CAAC,YAAY;AAAC;AACnE,MAAM,KAAK,IAAA,2KAAO,EAAC;IAAE,QAAQ;IAAM,QAAA;AAAO","debugId":null}},
    {"offset": {"line": 2199, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/server/storage.ts"],"sourcesContent":["import { \n  type User, \n  type InsertUser,\n  type BlogPost,\n  type InsertBlogPost,\n  type Product,\n  type InsertProduct,\n  type ContactSubmission,\n  type InsertContactSubmission,\n  type CustomerSuccessStory,\n  type InsertCustomerSuccessStory,\n  type ServiceArea,\n  type InsertServiceArea,\n  type GoogleReview,\n  type InsertGoogleReview,\n  type GoogleOAuthToken,\n  type InsertGoogleOAuthToken,\n  type ZoomOAuthToken,\n  type InsertZoomOAuthToken,\n  type PendingPurchase,\n  type InsertPendingPurchase,\n  type ServiceTitanMembership,\n  type InsertServiceTitanMembership,\n  type CompanyCamPhoto,\n  type InsertCompanyCamPhoto,\n  type BeforeAfterComposite,\n  type InsertBeforeAfterComposite,\n  type NotFoundError,\n  type InsertNotFoundError,\n  type ImportedPhoto,\n  type InsertImportedPhoto,\n  type TrackingNumber,\n  type InsertTrackingNumber,\n  type CommercialCustomer,\n  type InsertCommercialCustomer,\n  type PageMetadata,\n  type InsertPageMetadata,\n  type OAuthUser,\n  type UpsertOAuthUser,\n  type AdminWhitelist,\n  type InsertAdminWhitelist,\n  type CustomReview,\n  type InsertCustomReview,\n  type ReviewPlatform,\n  type InsertReviewPlatform,\n  users,\n  blogPosts,\n  products,\n  contactSubmissions,\n  customerSuccessStories,\n  serviceAreas,\n  googleReviews,\n  googleOAuthTokens,\n  zoomOAuthTokens,\n  pendingPurchases,\n  serviceTitanMemberships,\n  companyCamPhotos,\n  beforeAfterComposites,\n  notFoundErrors,\n  importedPhotos,\n  trackingNumbers,\n  commercialCustomers,\n  pageMetadata,\n  oauthUsers,\n  adminWhitelist,\n  customReviews,\n  reviewPlatforms,\n  customersXlsx,\n  emailSendLog,\n  emailSuppressionList,\n  type JobCompletion,\n  type InsertJobCompletion,\n  type ReviewRequest,\n  type InsertReviewRequest,\n  type ReviewFeedback,\n  type InsertReviewFeedback,\n  type ReferralNurtureCampaign,\n  type InsertReferralNurtureCampaign,\n  type ReviewEmailTemplate,\n  type InsertReviewEmailTemplate,\n  jobCompletions,\n  reviewRequests,\n  reviewFeedback,\n  referralNurtureCampaigns,\n  reviewEmailTemplates\n} from \"@shared/schema\";\nimport { randomUUID } from \"crypto\";\nimport { db } from \"./db\";\nimport { eq, sql, desc, and, isNull } from \"drizzle-orm\";\n\nexport interface IStorage {\n  getUser(id: string): Promise<User | undefined>;\n  getUserByUsername(username: string): Promise<User | undefined>;\n  createUser(user: InsertUser): Promise<User>;\n  \n  // Blog posts\n  getBlogPosts(): Promise<BlogPost[]>;\n  getBlogPostBySlug(slug: string): Promise<BlogPost | undefined>;\n  createBlogPost(post: InsertBlogPost): Promise<BlogPost>;\n  updateBlogPost(id: string, updates: Partial<InsertBlogPost>): Promise<BlogPost>;\n  \n  // Products\n  getProducts(): Promise<Product[]>;\n  getProductBySlug(slug: string): Promise<Product | undefined>;\n  getProductById(id: string): Promise<Product | undefined>;\n  createProduct(product: InsertProduct): Promise<Product>;\n  updateProduct(id: string, updates: Partial<InsertProduct>): Promise<Product>;\n  \n  // Contact submissions\n  createContactSubmission(submission: InsertContactSubmission): Promise<ContactSubmission>;\n  \n  // Customer success stories\n  createCustomerSuccessStory(story: InsertCustomerSuccessStory): Promise<CustomerSuccessStory>;\n  getApprovedSuccessStories(): Promise<CustomerSuccessStory[]>;\n  getAllSuccessStories(): Promise<CustomerSuccessStory[]>;\n  approveSuccessStory(id: string, collagePhotoUrl: string, jpegCollagePhotoUrl?: string): Promise<CustomerSuccessStory>;\n  unapproveSuccessStory(id: string): Promise<CustomerSuccessStory>;\n  updateSuccessStory(id: string, updates: Partial<Pick<CustomerSuccessStory, 'customerName' | 'story' | 'location' | 'jpegCollagePhotoUrl' | 'collagePhotoUrl' | 'beforePhotoUrl' | 'afterPhotoUrl' | 'beforeFocalX' | 'beforeFocalY' | 'afterFocalX' | 'afterFocalY'>>): Promise<CustomerSuccessStory>;\n  deleteSuccessStory(id: string): Promise<void>;\n  \n  // Service areas\n  getServiceAreaBySlug(slug: string): Promise<ServiceArea | undefined>;\n  getAllServiceAreas(): Promise<ServiceArea[]>;\n  createServiceArea(area: InsertServiceArea): Promise<ServiceArea>;\n  \n  // Google reviews\n  getGoogleReviews(): Promise<GoogleReview[]>;\n  saveGoogleReviews(reviews: InsertGoogleReview[]): Promise<void>;\n  deleteGoogleReviews(ids: string[]): Promise<void>;\n  clearGoogleReviews(): Promise<void>;\n  replaceGoogleReviews(reviews: InsertGoogleReview[]): Promise<void>;\n  \n  // Google OAuth tokens\n  getGoogleOAuthToken(service?: string): Promise<GoogleOAuthToken | undefined>;\n  saveGoogleOAuthToken(token: InsertGoogleOAuthToken): Promise<GoogleOAuthToken>;\n  updateGoogleOAuthToken(id: string, token: Partial<InsertGoogleOAuthToken>): Promise<GoogleOAuthToken>;\n  \n  // Zoom OAuth tokens\n  getZoomOAuthToken(): Promise<ZoomOAuthToken | undefined>;\n  saveZoomOAuthToken(token: InsertZoomOAuthToken): Promise<ZoomOAuthToken>;\n  updateZoomOAuthToken(id: string, token: Partial<InsertZoomOAuthToken>): Promise<ZoomOAuthToken>;\n  \n  // ServiceTitan memberships\n  createServiceTitanMembership(membership: InsertServiceTitanMembership): Promise<ServiceTitanMembership>;\n  updateServiceTitanMembership(id: string, updates: Partial<ServiceTitanMembership>): Promise<ServiceTitanMembership>;\n  getServiceTitanMembershipById(id: string): Promise<ServiceTitanMembership | undefined>;\n  getPendingServiceTitanMemberships(): Promise<ServiceTitanMembership[]>;\n  \n  // Pending purchases\n  createPendingPurchase(purchase: InsertPendingPurchase): Promise<PendingPurchase>;\n  getPendingPurchaseByPaymentIntent(paymentIntentId: string): Promise<PendingPurchase | undefined>;\n  deletePendingPurchase(id: string): Promise<void>;\n  \n  // CompanyCam/ServiceTitan photos\n  savePhotos(photos: InsertCompanyCamPhoto[]): Promise<CompanyCamPhoto[]>;\n  getAllPhotos(): Promise<CompanyCamPhoto[]>;\n  getPhotosByCategory(category: string): Promise<CompanyCamPhoto[]>;\n  getPhotosByJob(jobId: string): Promise<CompanyCamPhoto[]>;\n  getUnusedPhotos(category?: string): Promise<CompanyCamPhoto[]>;\n  getPhotosWithoutBlogTopic(): Promise<CompanyCamPhoto[]>;\n  getPhotoById(id: string): Promise<CompanyCamPhoto | undefined>;\n  markPhotoAsUsed(id: string, blogPostId?: string, pageUrl?: string): Promise<CompanyCamPhoto>;\n  updatePhotoWithBlogTopic(id: string, topic: string): Promise<CompanyCamPhoto>;\n  \n  // Before/After composites\n  saveBeforeAfterComposite(composite: InsertBeforeAfterComposite): Promise<BeforeAfterComposite>;\n  getBeforeAfterComposites(): Promise<BeforeAfterComposite[]>;\n  getUnusedComposites(): Promise<BeforeAfterComposite[]>;\n  markCompositeAsPosted(id: string, facebookPostId: string | null, instagramPostId: string | null): Promise<BeforeAfterComposite>;\n  \n  // 404 Error tracking\n  create404Error(error: InsertNotFoundError): Promise<NotFoundError>;\n  get404Errors(limit?: number): Promise<NotFoundError[]>;\n  \n  // Imported Photos (Google Drive)\n  createImportedPhoto(photo: InsertImportedPhoto): Promise<ImportedPhoto>;\n  getAllImportedPhotos(): Promise<ImportedPhoto[]>;\n  deleteImportedPhoto(id: string): Promise<void>;\n  deleteCompanyCamPhoto(id: string): Promise<void>;\n  \n  // Tracking Numbers (Dynamic Phone Numbers)\n  getAllTrackingNumbers(): Promise<TrackingNumber[]>;\n  getActiveTrackingNumbers(): Promise<TrackingNumber[]>;\n  getTrackingNumberByKey(channelKey: string): Promise<TrackingNumber | undefined>;\n  getDefaultTrackingNumber(): Promise<TrackingNumber | undefined>;\n  createTrackingNumber(number: InsertTrackingNumber): Promise<TrackingNumber>;\n  updateTrackingNumber(id: string, updates: Partial<InsertTrackingNumber>): Promise<TrackingNumber>;\n  deleteTrackingNumber(id: string): Promise<void>;\n  \n  // Commercial Customers\n  getActiveCommercialCustomers(): Promise<CommercialCustomer[]>;\n  getAllCommercialCustomers(): Promise<CommercialCustomer[]>;\n  getCommercialCustomerById(id: string): Promise<CommercialCustomer | undefined>;\n  createCommercialCustomer(customer: InsertCommercialCustomer): Promise<CommercialCustomer>;\n  updateCommercialCustomer(id: string, updates: Partial<InsertCommercialCustomer>): Promise<CommercialCustomer>;\n  deleteCommercialCustomer(id: string): Promise<void>;\n  \n  // Page Metadata\n  getAllPageMetadata(): Promise<PageMetadata[]>;\n  getPageMetadataByPath(path: string): Promise<PageMetadata | undefined>;\n  upsertPageMetadata(metadata: InsertPageMetadata): Promise<PageMetadata>;\n  deletePageMetadata(id: string): Promise<void>;\n  \n  // OAuth Users\n  getOAuthUser(id: string): Promise<OAuthUser | undefined>;\n  upsertOAuthUser(user: UpsertOAuthUser): Promise<OAuthUser>;\n  \n  // Admin Whitelist\n  isEmailWhitelisted(email: string): Promise<boolean>;\n  addToWhitelist(data: InsertAdminWhitelist): Promise<AdminWhitelist>;\n  removeFromWhitelist(email: string): Promise<void>;\n  getAllWhitelistedEmails(): Promise<AdminWhitelist[]>;\n  \n  // Custom Reviews\n  createCustomReview(review: Partial<InsertCustomReview>): Promise<CustomReview>;\n  getApprovedReviews(options?: { limit?: number; featured?: boolean }): Promise<CustomReview[]>;\n  getAllReviews(status?: string): Promise<CustomReview[]>;\n  moderateReview(id: string, updates: { status: string; moderatedBy: string; moderationNotes?: string; featured?: boolean; displayOnWebsite?: boolean }): Promise<CustomReview>;\n  deleteReview(id: string): Promise<void>;\n  replyToReview(id: string, replyText: string): Promise<CustomReview>;\n  getReviewStats(): Promise<{ total: number; pending: number; approved: number; rejected: number; spam: number; averageRating: number }>;\n  \n  // Job Completions (Review/Referral System)\n  createJobCompletion(job: InsertJobCompletion): Promise<JobCompletion>;\n  getJobCompletionByJobId(jobId: number): Promise<JobCompletion | undefined>;\n  getRecentJobCompletions(days: number): Promise<JobCompletion[]>;\n  updateJobCompletion(id: string, updates: Partial<InsertJobCompletion>): Promise<JobCompletion>;\n  \n  // Review Requests (4-email drip over 21 days)\n  createReviewRequest(request: InsertReviewRequest): Promise<ReviewRequest>;\n  getReviewRequestById(id: string): Promise<ReviewRequest | undefined>;\n  getActiveReviewRequests(): Promise<ReviewRequest[]>;\n  getReviewRequestsByStatus(status: string): Promise<ReviewRequest[]>;\n  updateReviewRequest(id: string, updates: Partial<InsertReviewRequest>): Promise<ReviewRequest>;\n  markReviewSubmitted(id: string, rating: number, platform: string): Promise<ReviewRequest>;\n  \n  // Review Feedback (<4 star internal feedback)\n  createReviewFeedback(feedback: InsertReviewFeedback): Promise<ReviewFeedback>;\n  getUnfollowedUpFeedback(): Promise<ReviewFeedback[]>;\n  markFeedbackFollowedUp(id: string, notes: string): Promise<ReviewFeedback>;\n  \n  // Referral Nurture Campaigns (6-month drip for happy reviewers)\n  createReferralNurture(campaign: InsertReferralNurtureCampaign): Promise<ReferralNurtureCampaign>;\n  getReferralNurtureById(id: string): Promise<ReferralNurtureCampaign | undefined>;\n  getActiveReferralCampaigns(): Promise<ReferralNurtureCampaign[]>;\n  updateReferralNurture(id: string, updates: Partial<InsertReferralNurtureCampaign>): Promise<ReferralNurtureCampaign>;\n  pauseReferralNurture(id: string, reason: string): Promise<ReferralNurtureCampaign>;\n  \n  // Review Email Templates (AI-generated customizable templates)\n  getAllEmailTemplates(): Promise<ReviewEmailTemplate[]>;\n  getEmailTemplate(campaignType: string, emailNumber: number): Promise<ReviewEmailTemplate | undefined>;\n  upsertEmailTemplate(template: InsertReviewEmailTemplate): Promise<ReviewEmailTemplate>;\n  deleteEmailTemplate(id: string): Promise<void>;\n  \n  // Review Platforms\n  getEnabledReviewPlatforms(): Promise<ReviewPlatform[]>;\n  getAllReviewPlatforms(): Promise<ReviewPlatform[]>;\n  updateReviewPlatform(id: string, updates: Partial<InsertReviewPlatform>): Promise<ReviewPlatform>;\n  \n  // Reputation / Review Management System\n  approveAIReviewResponse(id: string, moderatorId: string, editedResponse?: string): Promise<void>;\n  acknowledgeNegativeReviewAlert(id: string, moderatorId: string): Promise<void>;\n  \n  // Email Preferences\n  \n  // Email Suppression List\n  isEmailSuppressed(email: string): Promise<boolean>;\n  addToSuppressionList(data: { email: string; reason: string; source: string }): Promise<void>;\n  removeFromSuppressionList(email: string): Promise<void>;\n  getSuppressionStats(): Promise<{ total: number; hardBounces: number; spamComplaints: number; manual: number }>;\n  \n  // Email Send Log (Resend webhook tracking)\n  logEmailSend(data: { emailId: string; recipientEmail: string; subject?: string; campaignType: string; sentAt: Date }): Promise<void>;\n  getEmailLogByEmailId(emailId: string): Promise<any | undefined>;\n  updateEmailLog(emailId: string, updates: { deliveredAt?: Date; openedAt?: Date; clickedAt?: Date; bouncedAt?: Date; complainedAt?: Date }): Promise<void>;\n  incrementCampaignEngagement(campaignId: string, campaignType: string, metric: 'opened' | 'clicked'): Promise<void>;\n  \n  // Customer XLSX (Mailgun XLSX imports)\n  getCustomerByServiceTitanId(serviceTitanId: number): Promise<any | undefined>;\n  createCustomerXlsx(data: any): Promise<any>;\n  updateCustomerXlsx(id: number, updates: any): Promise<any>;\n  \n  // Email Templates - removed with marketing automation\n  \n  // Email Campaigns - ServiceTitan Integration\n  \n  // Customer Segments - AI Segmentation\n  \n  // Segment Membership - Audience Management\n  getSegmentMembers(segmentId: string, options?: { activeOnly?: boolean; limit?: number; offset?: number }): Promise<any[]>;\n  getCustomerSegmentMemberships(customerId: number, options?: { activeOnly?: boolean }): Promise<any[]>;\n  getSegmentMemberCount(segmentId: string, activeOnly?: boolean): Promise<number>;\n  \n  // Audience Movement Logs\n  getAudienceMovementLogs(options?: { segmentId?: string; customerId?: number; action?: 'entered' | 'exited'; limit?: number; offset?: number }): Promise<any[]>;\n}\n\nexport class MemStorage implements IStorage {\n  private users: Map<string, User>;\n  private blogPosts: Map<string, BlogPost>;\n  private products: Map<string, Product>;\n  private contactSubmissions: Map<string, ContactSubmission>;\n  private customerSuccessStories: Map<string, CustomerSuccessStory>;\n  private serviceAreas: Map<string, ServiceArea>;\n  private googleReviews: Map<string, GoogleReview>;\n  private serviceTitanMemberships: Map<string, ServiceTitanMembership>;\n\n  constructor() {\n    this.users = new Map();\n    this.blogPosts = new Map();\n    this.products = new Map();\n    this.contactSubmissions = new Map();\n    this.customerSuccessStories = new Map();\n    this.serviceAreas = new Map();\n    this.googleReviews = new Map();\n    this.serviceTitanMemberships = new Map();\n    \n    // Seed with some blog posts\n    this.seedBlogPosts();\n    this.seedProducts();\n    this.seedServiceAreas();\n  }\n\n  private seedBlogPosts() {\n    const posts: BlogPost[] = [\n      {\n        id: randomUUID(),\n        title: \"3 Steps to Drain Restoration\",\n        slug: \"3-steps-to-drain-restoration\",\n        content: `Drain problems can escalate quickly if not addressed properly. Homeowners in Austin and Marble Falls often face significant issues with their drainage systems. Regular drain cleaning and maintenance are essential not only for optimal plumbing function but also for preventing costly repairs down the line. This comprehensive guide will walk you through the steps of drain cleaning, maintenance, and restoration, ensuring your plumbing system remains efficient.\n\n## Step 1: Assessment and Inspection\n\nThe first step in drain restoration is a thorough assessment of your drainage system. This involves identifying problem areas, understanding the root cause of blockages, and determining the best course of action. Professional plumbers use advanced camera inspection technology to get a clear view of what's happening inside your pipes.\n\nDuring the inspection phase, we look for:\n\n- Tree root intrusion\n- Pipe damage or deterioration\n- Grease and debris buildup\n- Structural issues affecting drainage\n- Foreign objects causing blockages\n\n## Step 2: Professional Cleaning and Clearing\n\nOnce we've identified the issues, the next step is professional cleaning and clearing. This involves using specialized equipment and techniques to remove blockages and restore proper flow. Depending on the severity of the problem, we may use:\n\n- **Hydro Jetting:** High-pressure water cleaning that removes stubborn blockages and buildup\n- **Rooter Services:** Mechanical cutting tools to remove tree roots and tough obstructions\n- **Chemical Treatments:** Safe, professional-grade solutions for specific types of blockages\n- **Manual Removal:** Physical extraction of foreign objects and debris\n\nOur team at Economy Plumbing Services uses environmentally safe methods that won't damage your pipes or harm the surrounding environment. We take care to protect your property while ensuring thorough cleaning.\n\n## Step 3: Prevention and Maintenance\n\nThe final step in drain restoration is establishing a prevention and maintenance plan. This is crucial for avoiding future problems and extending the life of your drainage system. Regular maintenance is far more cost-effective than emergency repairs.\n\nOur maintenance recommendations include:\n\n- Regular professional drain cleaning (annually or bi-annually)\n- Proper disposal of grease and food waste\n- Installing drain screens and filters\n- Being mindful of what goes down your drains\n- Scheduling periodic inspections\n\n## Why Choose Professional Drain Restoration?\n\nWhile DIY drain cleaning products are readily available, professional drain restoration offers several advantages:\n\n- **Thorough Solutions:** We address the root cause, not just the symptoms\n- **Advanced Equipment:** Professional-grade tools that homeowners don't have access to\n- **Safety:** Proper handling of chemicals and equipment\n- **Long-term Results:** Solutions that last longer than temporary fixes\n- **Warranty Protection:** Professional work comes with guarantees\n\n## Serving Austin and Marble Falls\n\nAt Economy Plumbing Services, we understand the unique challenges that Central Texas homeowners face with their drainage systems. From the clay soils common in Austin to the limestone terrain around Marble Falls, we have the experience and expertise to handle any drain restoration project.\n\nOur team is available for both emergency drain cleaning and scheduled maintenance services. We pride ourselves on transparent pricing, quality workmanship, and customer satisfaction.\n\n### Need Professional Drain Restoration?\n\nDon't let drain problems escalate into costly repairs. Contact Economy Plumbing Services today for professional drain cleaning, restoration, and maintenance services in Austin and Marble Falls.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Learn the three essential steps to professional drain restoration and how to prevent future plumbing problems.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-05-20\"),\n        category: \"Drain Cleaning\",\n        featuredImage: \"/attached_assets/stock_images/professional_plumber_f5e4b5a9.jpg\",\n        metaDescription: \"Professional drain restoration in 3 steps. Expert drain cleaning services in Austin and Marble Falls from Economy Plumbing.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"Backflow: Why You Should Hire a Plumber\",\n        slug: \"backflow-why-you-should-hire-a-plumber\",\n        content: `When it comes to safeguarding your property's plumbing system, backflow testing is one of the most critical maintenance tasks to consider. In the dynamic ecosystems of Austin and Marble Falls, water quality is paramount for both residential and commercial properties. Hiring a specialized plumber, like Economy Plumbing Services, for backflow testing, maintenance, and repairs not only enhances your plumbing system's efficiency but also ensures the safety of your water supply.\n\n## What is Backflow?\n\nBackflow occurs when water flows in the opposite direction from its intended path in a plumbing system. This can happen due to changes in water pressure, creating a situation where contaminated water can enter your clean water supply. This poses serious health risks and can compromise the safety of your drinking water.\n\nThere are two main types of backflow:\n\n- **Backpressure:** When downstream pressure exceeds upstream pressure\n- **Backsiphonage:** When upstream pressure drops below downstream pressure\n\n## Why Professional Backflow Testing is Essential\n\nBackflow testing requires specialized knowledge, equipment, and certification. Here's why you should always hire a professional plumber for this critical service:\n\n### 1. Legal Compliance\n\nIn Texas, backflow testing is required by law for many commercial and residential properties. Professional plumbers are certified to perform these tests and provide the necessary documentation to local authorities. Failure to comply can result in fines and water service disconnection.\n\n### 2. Specialized Equipment\n\nBackflow testing requires precision instruments that measure water pressure and flow rates. Professional plumbers have access to calibrated testing equipment that ensures accurate results. This equipment is expensive and requires regular calibration, making it impractical for homeowners to purchase.\n\n### 3. Expert Knowledge\n\nUnderstanding backflow prevention systems requires extensive training and experience. Professional plumbers know how to identify potential problems, interpret test results, and recommend appropriate solutions. They can spot issues that untrained individuals might miss.\n\n### 4. Safety Considerations\n\nBackflow testing involves working with water systems under pressure. Improper handling can lead to injuries or damage to your plumbing system. Professional plumbers have the training and experience to perform these tests safely.\n\n## The Backflow Testing Process\n\nWhen you hire Economy Plumbing Services for backflow testing, here's what you can expect:\n\n1. **Initial Inspection:** We examine your backflow prevention device and surrounding plumbing\n2. **Pressure Testing:** Using specialized gauges, we test the device under various pressure conditions\n3. **Flow Testing:** We verify that water flows in the correct direction under all circumstances\n4. **Documentation:** We provide detailed reports and submit required paperwork to local authorities\n5. **Recommendations:** If issues are found, we provide clear recommendations for repairs or replacements\n\n## Common Backflow Prevention Devices\n\nThere are several types of backflow prevention devices, each designed for specific applications:\n\n- **Reduced Pressure Zone (RPZ) Assemblies:** Highest level of protection, required for high-hazard applications\n- **Double Check Valve Assemblies:** Suitable for low to moderate hazard applications\n- **Pressure Vacuum Breakers:** Used for irrigation systems and other specific applications\n- **Atmospheric Vacuum Breakers:** Simple devices for basic protection\n\n## When to Schedule Backflow Testing\n\nMost jurisdictions require annual backflow testing, but there are other times when testing may be necessary:\n\n- After installation of a new backflow prevention device\n- Following any repairs or maintenance to the device\n- When there are changes to your water system\n- If you notice unusual water pressure or quality issues\n- As part of regular preventive maintenance\n\n## Protecting Austin and Marble Falls Water Systems\n\nAt Economy Plumbing Services, we understand the unique challenges of maintaining water quality in Central Texas. Our certified technicians are experienced in testing and maintaining all types of backflow prevention devices. We work with residential, commercial, and industrial clients to ensure their water systems remain safe and compliant.\n\nOur backflow services include:\n\n- Annual backflow testing and certification\n- Backflow device installation and replacement\n- Emergency backflow repairs\n- Compliance documentation and reporting\n- Preventive maintenance programs\n\n### Schedule Your Backflow Testing Today\n\nDon't risk your water quality or legal compliance. Contact Economy Plumbing Services to schedule professional backflow testing and ensure your water system is safe and compliant.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Understanding the importance of professional backflow testing and why it's essential for protecting your water supply.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-05-15\"),\n        category: \"Backflow Testing\",\n        featuredImage: \"/attached_assets/stock_images/professional_plumber_13d3a463.jpg\",\n        metaDescription: \"Learn why professional backflow testing is essential for water safety. Expert backflow services in Austin and Marble Falls.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"Clara's Story\",\n        slug: \"claras-story\",\n        content: `A real customer experience with Economy Plumbing Services in Austin, Texas.\n\nIn the heart of Austin, a busy professional named Clara Jacobs found herself facing an all-too-familiar frustration: a clogged kitchen sink. After a search for a reliable plumber, she chose Economy Plumbing Services, known for their exceptional service and transparent pricing.\n\n## The Problem\n\nClara's kitchen sink had been draining slowly for weeks, but she kept putting off calling a plumber, hoping the problem would resolve itself. Like many busy professionals in Austin, she was juggling work deadlines and family responsibilities, leaving little time to deal with household maintenance issues.\n\nOne morning, the inevitable happened â€“ the sink stopped draining completely. Standing water filled with food particles and grease created an unsanitary mess that made her kitchen unusable. Clara knew she couldn't delay any longer.\n\n## Finding the Right Plumber\n\nClara began her search online, looking for a reputable plumbing company in Austin. She read reviews, compared prices, and called several companies for quotes. What set Economy Plumbing Services apart was their immediate response, transparent pricing, and genuine concern for her situation.\n\n\"When I called Economy Plumbing Services, they didn't just give me a generic response,\" Clara recalls. \"They asked specific questions about my problem, explained what might be causing it, and gave me a clear timeline for when they could come out.\"\n\n## The Solution\n\nSean Wagner, the lead technician from Economy Plumbing Services, arrived at Clara's home within the promised timeframe. He quickly diagnosed the problem: a combination of grease buildup and food particles had created a stubborn blockage deep in the drain line.\n\n\"Sean was incredibly professional and knowledgeable,\" Clara says. \"He explained exactly what was wrong, showed me the blockage using his camera equipment, and outlined the best approach to fix it permanently.\"\n\nUsing professional-grade drain cleaning equipment, Sean cleared the blockage completely and performed a thorough inspection of the entire drain system to ensure there were no other issues lurking beneath the surface.\n\n## Beyond the Fix\n\nWhat impressed Clara most was that Sean didn't just fix the immediate problem â€“ he took time to educate her about proper drain maintenance. He provided practical tips for preventing future clogs and recommended simple maintenance practices that would keep her drains flowing smoothly.\n\n\"Sean gave me a list of do's and don'ts for kitchen sink maintenance. He explained why certain things shouldn't go down the drain and showed me how to perform simple maintenance that would prevent future problems. It was like getting a mini-education in plumbing care.\"\n\n## The Economy Plumbing Difference\n\nClara's experience with Economy Plumbing Services exemplifies what sets the company apart in the competitive Austin plumbing market:\n\n- **Transparent Pricing:** No hidden fees or surprise charges\n- **Professional Expertise:** Experienced technicians who diagnose problems accurately\n- **Customer Education:** Taking time to help customers understand their plumbing systems\n- **Reliable Service:** Showing up on time and completing work as promised\n- **Long-term Solutions:** Fixing problems properly the first time\n\n## A Lasting Relationship\n\nSix months after the initial service call, Clara's kitchen sink continues to drain perfectly. More importantly, she now has a trusted plumbing partner she can rely on for any future issues.\n\n\"I've already recommended Economy Plumbing Services to several friends and neighbors,\" Clara says. \"When you find a company that treats you fairly, does quality work, and stands behind their service, you want to share that with others.\"\n\n#### Experience the Economy Plumbing Difference\n\nLike Clara, you can trust Economy Plumbing Services for reliable, professional plumbing solutions in Austin and surrounding areas. We're committed to providing transparent pricing, quality workmanship, and exceptional customer service.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Read how Economy Plumbing Services helped Clara solve her kitchen drain problem with professional service and expert care.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-06-03\"),\n        category: \"Customer Stories\",\n        featuredImage: \"/attached_assets/stock_images/flooded_kitchen_wate_26c22e36.jpg\",\n        metaDescription: \"Customer success story: How Economy Plumbing Services solved Clara's kitchen drain problem in Austin, TX.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"Fall Plumbing Tips\",\n        slug: \"fall-plumbing-tips\",\n        content: `Essential fall maintenance tips to keep your plumbing system running smoothly through the colder months.\n\n## Fall Plumbing Tips for Homeowners\n\nAs the temperatures begin to drop and fall settles in across Central Texas, it's the perfect time to prepare your plumbing system for the cooler months ahead. Taking proactive steps now can prevent costly repairs and ensure your home's plumbing continues to function efficiently throughout the fall and winter seasons.\n\n### Protect Your Pipes from Temperature Drops\n\nEven in Texas, unexpected cold snaps can cause serious damage to your plumbing. Insulate exposed pipes in crawl spaces, basements, and exterior walls. Pay special attention to pipes in unheated areas like garages and attics.\n\n### Clean Your Gutters and Downspouts\n\nFalling leaves can quickly clog gutters and downspouts, leading to water backup and potential foundation issues. Regular cleaning prevents water from pooling around your home's foundation, which can affect your plumbing system.\n\n### Check Your Water Heater\n\nAs temperatures drop, your water heater will work harder to maintain comfortable water temperatures. Schedule a professional inspection to ensure it's operating efficiently. Consider flushing the tank to remove sediment buildup that can reduce efficiency.\n\n### Inspect Outdoor Faucets and Hoses\n\nDisconnect and drain garden hoses to prevent freezing. Check outdoor faucets for leaks and consider installing frost-proof spigots if you don't already have them. Turn off water supply to outdoor faucets if possible.\n\n### Schedule Professional Maintenance\n\nFall is an ideal time to schedule professional plumbing maintenance. A qualified plumber can identify potential issues before they become major problems, saving you money and preventing inconvenient breakdowns during colder weather.\n\n#### Need Professional Help?\n\nEconomy Plumbing Services is here to help you prepare your plumbing system for fall and winter. Our experienced technicians can perform comprehensive inspections and maintenance to keep your system running smoothly.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Prepare your plumbing for fall and winter with these essential maintenance tips from Economy Plumbing Services.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2024-10-15\"),\n        category: \"Seasonal Tips\",\n        featuredImage: \"/attached_assets/stock_images/autumn_fall_home_mai_feea54cb.jpg\",\n        metaDescription: \"Essential fall plumbing tips for Central Texas homeowners. Prepare your plumbing system for cooler weather.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"Rubber Washing Machine Hoses: Why They Should Be Replaced\",\n        slug: \"rubber-washing-machine-hoses-why-they-should-be-replaced\",\n        content: `When it comes to household plumbing emergencies, rubber washing machine hoses are the number one culprits behind insurance claims for water damage. These failures can lead to devastating floods, costing homeowners an average of $10,000 or more. If you reside in the Austin area, including Leander, Round Rock, Pflugerville, or Marble Falls, it is crucial to understand the risks associated with these hoses and the steps you can take to prevent such disasters.\n\n## The Hidden Danger in Your Laundry Room\n\nMost homeowners never give their washing machine hoses a second thought â€“ until disaster strikes. These seemingly innocent rubber tubes carry water under significant pressure, and when they fail, they can release hundreds of gallons of water into your home within minutes.\n\nThe statistics are sobering: washing machine hose failures account for more than $150 million in property damage annually in the United States. In Central Texas, where many homes have washing machines located on upper floors or in interior rooms, the potential for extensive damage is even greater.\n\n## Why Rubber Hoses Fail\n\nSeveral factors contribute to rubber washing machine hose failures:\n\n### Age and Deterioration\n\nRubber hoses typically last 3-5 years before the material begins to deteriorate. Over time, the rubber becomes brittle, develops cracks, and loses its ability to withstand water pressure. Many homeowners use the same hoses for 10+ years without replacement, significantly increasing the risk of failure.\n\n### Constant Pressure\n\nUnlike other plumbing fixtures that experience intermittent water flow, washing machine hoses are under constant pressure when the water supply valves are open. This continuous stress accelerates wear and increases the likelihood of sudden failure.\n\n### Temperature Fluctuations\n\nThe hot water supply to washing machines can reach temperatures of 140Â°F or higher. These temperature extremes cause rubber to expand and contract repeatedly, leading to fatigue and eventual failure.\n\n### Manufacturing Defects\n\nSome rubber hoses have inherent manufacturing defects or use substandard materials that make them prone to premature failure. These defects may not be apparent until the hose is under stress.\n\n## The Cost of Failure\n\nWhen a washing machine hose fails, the consequences can be devastating:\n\n- **Water Damage:** Hundreds of gallons can flood your home within hours\n- **Structural Damage:** Water can damage floors, walls, and ceilings\n- **Mold Growth:** Moisture creates ideal conditions for mold development\n- **Personal Property Loss:** Furniture, electronics, and belongings can be ruined\n- **Displacement:** Severe damage may require temporary relocation\n- **Insurance Issues:** Some policies may not cover preventable maintenance failures\n\n## Prevention: The Smart Investment\n\nPreventing washing machine hose failure is far more cost-effective than dealing with the aftermath. Here are the key prevention strategies:\n\n### Replace Rubber Hoses with Stainless Steel\n\nStainless steel braided hoses are significantly more durable than rubber alternatives. They resist bursting, handle pressure fluctuations better, and typically last 10+ years. While they cost more upfront, they provide superior protection and peace of mind.\n\n### Install Water Shut-Off Valves\n\nAutomatic shut-off valves can detect unusual water flow and immediately stop the water supply when a hose fails. These devices can prevent thousands of dollars in damage by limiting the amount of water released during a failure.\n\n### Regular Inspection\n\nInspect your washing machine hoses every six months for signs of wear, including:\n\n- Cracks or splits in the rubber\n- Bulging or swelling\n- Rust or corrosion on fittings\n- Loose connections\n- Signs of previous leaks\n\n### Turn Off Water When Not in Use\n\nConsider turning off the water supply valves when the washing machine is not in use, especially when traveling. This simple step eliminates pressure on the hoses and reduces the risk of failure when you're not home to respond quickly.\n\n## Professional Installation and Maintenance\n\nWhile replacing washing machine hoses might seem like a simple DIY project, professional installation ensures proper fitting, appropriate torque on connections, and compliance with local plumbing codes. A qualified plumber can also assess your entire laundry room setup and recommend additional protective measures.\n\nProfessional plumbers can also install water leak detection systems, upgrade your water supply lines, and ensure your washing machine is properly connected to prevent other potential issues.\n\n## When to Call a Professional\n\nContact a professional plumber immediately if you notice:\n\n- Any signs of water damage around your washing machine\n- Unusual water pressure fluctuations\n- Visible wear on existing hoses\n- Hoses that are more than 5 years old\n- Loose or corroded connections\n\n#### Don't Wait for Disaster\n\nThe small investment in replacing your rubber washing machine hoses with stainless steel alternatives can save you thousands of dollars in water damage. Economy Plumbing Services can assess your current setup and provide professional installation of high-quality, durable hoses.\n\nCall (512) 368-9159 or schedule inspection online.`,\n        excerpt: \"Learn why rubber washing machine hoses are a major risk and how to prevent costly water damage in your home.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-04-10\"),\n        category: \"Maintenance\",\n        featuredImage: \"/attached_assets/stock_images/washing_machine_hose_16bcd8a5.jpg\",\n        metaDescription: \"Prevent water damage from washing machine hose failures. Expert advice on upgrading to stainless steel hoses.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"The Importance of Maintenance\",\n        slug: \"the-importance-of-maintenance\",\n        content: `As a homeowner in Austin, maintaining your plumbing system is crucial for preventing costly repairs and ensuring the longevity of your fixtures. Regular inspections, timely repairs, and proper maintenance can save you from emergencies and extend the life of your plumbing. In this blog post, we will highlight key aspects of plumbing maintenance, such as regular inspections, water heater flushing, and the importance of addressing issues before they escalate.\n\n## Why Plumbing Maintenance Matters\n\nYour home's plumbing system works around the clock, delivering clean water and removing waste. Like any hardworking system, it requires regular attention to function properly. Neglecting maintenance can lead to:\n\n- Unexpected and expensive emergency repairs\n- Water damage to your home's structure and belongings\n- Higher utility bills due to inefficient systems\n- Shortened lifespan of plumbing fixtures and appliances\n- Health hazards from contaminated water or sewage backups\n\n## Essential Plumbing Maintenance Tasks\n\n### 1. Regular Inspections\n\nProfessional plumbing inspections should be conducted annually, or more frequently for older homes. During an inspection, a qualified plumber will:\n\n- Check for leaks in pipes, faucets, and fixtures\n- Inspect water pressure and flow rates\n- Examine the condition of pipes and connections\n- Test shut-off valves and safety devices\n- Assess the overall health of your plumbing system\n\n### 2. Water Heater Maintenance\n\nYour water heater is one of the hardest-working appliances in your home. Regular maintenance includes:\n\n- **Annual Flushing:** Removes sediment buildup that reduces efficiency and shortens lifespan\n- **Anode Rod Inspection:** This sacrificial component protects your tank from corrosion\n- **Temperature and Pressure Relief Valve Testing:** Ensures safety mechanisms are working properly\n- **Insulation Check:** Proper insulation improves energy efficiency\n\nWater heater flushing is particularly important in Central Texas due to our hard water conditions. Mineral deposits can significantly impact performance and efficiency if not addressed regularly.\n\n### 3. Drain Cleaning and Maintenance\n\nKeeping your drains clear prevents backups and maintains proper flow throughout your plumbing system:\n\n- Professional drain cleaning removes buildup that household cleaners can't handle\n- Camera inspections identify potential problems before they become emergencies\n- Root removal prevents tree roots from damaging your sewer lines\n- Grease trap cleaning for commercial properties\n\n### 4. Fixture Maintenance\n\nRegular attention to your plumbing fixtures can prevent small problems from becoming major issues:\n\n- Replace worn washers and seals in faucets\n- Clean mineral deposits from showerheads and aerators\n- Check toilet components for proper operation\n- Inspect caulking around tubs and showers\n\n## The Cost of Prevention vs. Repair\n\nMany homeowners hesitate to invest in regular maintenance, viewing it as an unnecessary expense. However, the cost of prevention is always less than the cost of major repairs:\n\n#### Prevention Costs vs. Emergency Repairs:\n\n- Annual water heater flush: $150 vs. Water heater replacement: $1,500-$3,000\n- Drain cleaning: $200 vs. Sewer line replacement: $3,000-$10,000\n- Leak detection: $300 vs. Water damage restoration: $5,000-$15,000\n- Regular inspection: $200 vs. Emergency plumbing call: $500-$1,000+\n\n## Signs Your Plumbing Needs Attention\n\nDon't wait for a major problem to develop. Watch for these warning signs:\n\n- Slow drains or frequent clogs\n- Low water pressure\n- Unusual noises from pipes or fixtures\n- Discolored or foul-smelling water\n- Visible leaks or water stains\n- Higher than normal water bills\n- Fluctuating water temperatures\n\n## Creating a Maintenance Schedule\n\nEstablishing a regular maintenance schedule helps ensure nothing is overlooked:\n\n#### Recommended Maintenance Schedule:\n\n- **Monthly:** Check for visible leaks, test water pressure\n- **Quarterly:** Clean drain stoppers, check toilet components\n- **Semi-annually:** Inspect exposed pipes, clean showerheads\n- **Annually:** Professional inspection, water heater flush, drain cleaning\n\n## Why Choose Professional Maintenance\n\nWhile some maintenance tasks can be performed by homeowners, professional service offers several advantages:\n\n- **Expertise:** Trained professionals can identify problems you might miss\n- **Proper Tools:** Specialized equipment for thorough cleaning and inspection\n- **Safety:** Professional handling of potentially dangerous situations\n- **Warranty:** Work performed by licensed professionals is typically guaranteed\n- **Efficiency:** Professionals can complete maintenance tasks quickly and thoroughly\n\n### Schedule Your Plumbing Maintenance Today\n\nDon't wait for problems to develop. Contact Economy Plumbing Services to schedule comprehensive plumbing maintenance and protect your Austin home from costly repairs.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Discover why regular plumbing maintenance is essential for preventing costly repairs and extending the life of your plumbing system.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-03-25\"),\n        category: \"Maintenance\",\n        featuredImage: \"/attached_assets/stock_images/plumbing_maintenance_91eba3a0.jpg\",\n        metaDescription: \"Essential plumbing maintenance guide for Austin homeowners. Prevent costly repairs with regular inspections and maintenance.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"Hydro Jetting Drainage Solutions\",\n        slug: \"hydro-jetting-drainage-solutions\",\n        content: `Discover how hydro jetting can effectively resolve drainage issues in commercial properties in our comprehensive guide. Commercial properties face unique drainage challenges that require powerful, efficient solutions.\n\n## Understanding Commercial Drainage Challenges\n\nCommercial properties face significantly more complex drainage issues than residential buildings. With higher usage volumes, diverse waste types, and more extensive plumbing systems, commercial drainage problems can quickly escalate into costly business disruptions.\n\nCommon commercial drainage issues include:\n\n- Grease and oil buildup in restaurant and food service facilities\n- Hair and soap accumulation in hotels and fitness centers\n- Paper and debris blockages in office buildings\n- Scale and mineral deposits in manufacturing facilities\n- Root intrusion in older commercial properties\n- Heavy usage leading to accelerated wear and blockages\n\n## What is Hydro Jetting?\n\nHydro jetting is a powerful drain cleaning method that uses high-pressure water streams to clear blockages and clean pipe walls. Unlike traditional snaking methods that simply punch holes through blockages, hydro jetting completely removes debris, grease, and buildup from the entire pipe diameter.\n\nThe process involves:\n\n1. Inserting a specialized nozzle into the drain or sewer line\n2. Releasing water at pressures up to 4,000 PSI\n3. The high-pressure water cuts through blockages and scours pipe walls\n4. Debris is flushed downstream and out of the system\n\n## Why Hydro Jetting is Ideal for Commercial Properties\n\n### 1. Thorough Cleaning Power\n\nCommercial properties generate more waste and debris than residential buildings. Hydro jetting's powerful cleaning action removes not just blockages, but also the buildup that causes recurring problems. This is especially important for restaurants dealing with grease accumulation or hotels managing high volumes of hair and soap residue.\n\n### 2. Environmentally Safe\n\nUnlike chemical drain cleaners that can harm the environment and damage pipes, hydro jetting uses only water. This makes it safe for businesses concerned about environmental impact and regulatory compliance. It's particularly important for food service establishments that must maintain strict health and safety standards.\n\n### 3. Cost-Effective Long-Term Solution\n\nWhile the initial cost of hydro jetting may be higher than traditional snaking, it provides longer-lasting results. By completely cleaning pipe walls, hydro jetting prevents rapid re-accumulation of debris, reducing the frequency of service calls and minimizing business disruptions.\n\n### 4. Versatility for Different Pipe Materials\n\nCommercial properties often have diverse plumbing systems with various pipe materials. Hydro jetting can be safely used on most pipe types, including:\n\n- PVC and plastic pipes\n- Cast iron and steel pipes\n- Clay and concrete sewer lines\n- Copper and brass pipes (with appropriate pressure settings)\n\n## Commercial Applications of Hydro Jetting\n\n### Restaurants and Food Service\n\nRestaurants face unique challenges with grease, oil, and food debris. Hydro jetting effectively removes grease buildup that can cause severe blockages and health code violations. Regular hydro jetting maintenance helps restaurants maintain compliance with local health regulations.\n\n### Hotels and Hospitality\n\nHotels deal with high volumes of hair, soap, and personal care products that can quickly clog drains. Hydro jetting provides the thorough cleaning needed to handle this constant influx of debris while minimizing guest disruptions.\n\n### Manufacturing Facilities\n\nManufacturing operations often produce unique waste products that can accumulate in drainage systems. Hydro jetting can handle industrial debris, scale, and mineral deposits that traditional methods cannot effectively remove.\n\n### Office Buildings\n\nEven office buildings benefit from hydro jetting, particularly in restroom facilities and break rooms where paper products, food waste, and personal care items can cause blockages.\n\n## When to Consider Hydro Jetting\n\nCommercial properties should consider hydro jetting when experiencing:\n\n- Recurring drain blockages despite regular maintenance\n- Slow drainage throughout the building\n- Foul odors coming from drains\n- Multiple drain backups occurring simultaneously\n- Grease or oil-related drainage issues\n- Preparation for camera inspection or pipe lining\n\n## The Hydro Jetting Process for Commercial Properties\n\nProfessional hydro jetting for commercial properties involves several steps:\n\n1. **Initial Assessment:** Evaluation of the drainage system and identification of problem areas\n2. **Camera Inspection:** Video inspection to locate blockages and assess pipe condition\n3. **Pressure Selection:** Choosing appropriate water pressure based on pipe material and condition\n4. **Hydro Jetting Process:** Systematic cleaning of the entire drainage system\n5. **Final Inspection:** Post-cleaning camera inspection to verify results\n6. **Maintenance Planning:** Developing a schedule for ongoing maintenance\n\n## Preventive Maintenance Programs\n\nThe most effective approach to commercial drainage management is implementing a preventive maintenance program that includes regular hydro jetting. This proactive approach:\n\n- Prevents emergency blockages and business disruptions\n- Extends the life of plumbing systems\n- Maintains compliance with health and safety regulations\n- Reduces overall maintenance costs\n- Improves customer and employee satisfaction\n\n### Professional Hydro Jetting Services\n\nEconomy Plumbing Services provides professional hydro jetting solutions for commercial properties throughout Austin and Central Texas. Our experienced team uses state-of-the-art equipment to solve your drainage challenges efficiently and effectively.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Learn how hydro jetting provides powerful, environmentally safe drainage solutions for commercial properties.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-02-18\"),\n        category: \"Drain Cleaning\",\n        featuredImage: \"/attached_assets/stock_images/commercial_restauran_f944a7d9.jpg\",\n        metaDescription: \"Professional hydro jetting services for commercial drainage solutions. Powerful, eco-friendly drain cleaning in Austin.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      },\n      {\n        id: randomUUID(),\n        title: \"Don't Miss Our Limited Time Plumbing Specials on Groupon\",\n        slug: \"dont-miss-our-limited-time-plumbing-specials-on-groupon-your-trusted-plumber-in-austin-is-offering-amazing-deals\",\n        content: `Are you a homeowner in Austin, TX, facing a leaky faucet, a running toilet, or maybe even considering a water heater tune-up? Now is the perfect time to take care of those plumbing needs! Economy Plumbing Services, your reliable and local Plumber Austin, is excited to announce some incredible limited-time specials available right now on Groupon!\n\nWe understand that plumbing issues can be stressful and often unexpected. That's why we're committed to providing top-notch service at affordable prices. And now, thanks to our special offers on Groupon, getting the quality plumbing care you deserve has never been more budget-friendly.\n\n## What Kind of Deals Can You Expect?\n\nWhile specific deals may vary, keep an eye out for offers like:\n\n- **Drain Cleaning Services:** Professional drain cleaning at discounted rates\n- **Water Heater Maintenance:** Comprehensive water heater tune-ups and inspections\n- **Plumbing Inspections:** Thorough home plumbing system evaluations\n- **Fixture Repairs:** Faucet, toilet, and other fixture repair services\n- **Emergency Service Discounts:** Reduced rates for urgent plumbing needs\n\n## Why Choose Economy Plumbing Services?\n\nAs Austin's trusted plumbing professionals, we bring years of experience and a commitment to excellence to every job. Here's what sets us apart:\n\n### Licensed and Insured\n\nOur team consists of fully licensed and insured plumbing professionals. You can have peace of mind knowing that your plumbing work is being handled by qualified experts who stand behind their work.\n\n### Transparent Pricing\n\nWe believe in honest, upfront pricing with no hidden fees or surprise charges. When you book through Groupon, you'll know exactly what you're paying for, and our technicians will provide clear estimates before beginning any work.\n\n### Quality Workmanship\n\nWhether it's a simple faucet repair or a complex water heater installation, we approach every job with the same level of professionalism and attention to detail. Our goal is to solve your plumbing problems right the first time.\n\n### Local Austin Expertise\n\nAs a local Austin plumbing company, we understand the unique challenges that Central Texas homes face. From hard water issues to the effects of our clay soil on plumbing systems, we have the local knowledge to address your specific needs.\n\n## How to Take Advantage of Our Groupon Deals\n\nTaking advantage of our Groupon specials is easy:\n\n1. **Visit Groupon:** Search for \"Economy Plumbing Services\" or \"Austin plumber\" on the Groupon website or app\n2. **Choose Your Deal:** Select the plumbing service that best fits your needs\n3. **Purchase Your Voucher:** Complete your purchase through Groupon's secure platform\n4. **Schedule Your Service:** Contact us to schedule your appointment and mention your Groupon voucher\n5. **Enjoy Professional Service:** Our team will arrive on time and provide the quality service you expect\n\n## Common Plumbing Services We Offer\n\nOur Groupon deals may include any of our comprehensive plumbing services:\n\n#### Residential Services\n\n- Drain cleaning and unclogging\n- Water heater repair and replacement\n- Leak detection and repair\n- Toilet and faucet repairs\n- Garbage disposal services\n\n#### Emergency Services\n\n- Emergency repairs\n- Burst pipe repairs\n- Sewer line issues\n- Water heater emergencies\n- Flooding and water damage prevention\n\n## Don't Wait - Limited Time Offers!\n\nThese special Groupon deals won't last forever! Plumbing problems don't wait for convenient times, and neither should you. Whether you're dealing with an immediate issue or want to be proactive about maintenance, now is the perfect time to book our services at these special rates.\n\n## Customer Satisfaction Guaranteed\n\nEven with our discounted Groupon rates, we never compromise on quality. Every service comes with our satisfaction guarantee. If you're not completely happy with our work, we'll make it right. That's our promise to you.\n\n## Serving All of Austin and Surrounding Areas\n\nOur Groupon deals are available to customers throughout the Austin metropolitan area, including:\n\n- Downtown Austin\n- South Austin\n- North Austin\n- East Austin\n- West Austin\n- Cedar Park\n- Round Rock\n- Leander\n- Pflugerville\n- And surrounding communities\n\n### Ready to Save on Quality Plumbing Services?\n\nDon't miss out on these limited-time Groupon specials! Visit Groupon today to find our current deals, or contact Economy Plumbing Services directly to learn more about our services and current promotions.\n\nCall (512) 368-9159 or schedule service online.`,\n        excerpt: \"Save big on professional plumbing services with our limited-time Groupon specials. Quality service at affordable prices.\",\n        author: \"Economy Plumbing\",\n        publishDate: new Date(\"2025-01-12\"),\n        category: \"Promotions\",\n        featuredImage: \"/attached_assets/stock_images/professional_plumber_d3924ca6.jpg\",\n        metaDescription: \"Limited time plumbing specials on Groupon. Save on drain cleaning, water heater service, and more from Economy Plumbing.\",\n        published: true,\n        imageId: null,\n        isScheduled: false,\n        scheduledFor: null,\n        generatedByAI: false\n      }\n    ];\n\n    posts.forEach(post => this.blogPosts.set(post.id, post));\n  }\n\n  private seedProducts() {\n    const products: Product[] = [\n      {\n        id: randomUUID(),\n        name: \"Bio-Pure Septic & Drain + RV Restore & Maintain 32 oz.\",\n        slug: \"bio-pure-septic-drain-rv-restore-maintain-32-oz\",\n        description: \"Proprietary Microbial Bio-Enzyme Power Breaks Down, Digests Waste & Eliminates Odors (24/7) - Wonderful Citrus Ginger Scent - 4 Septic Treatments + 16 Drain Treatments or 1 Septic Shock\",\n        price: 2953, // $29.53\n        category: \"product\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/bio-pure.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"Perfect for septic systems or as a drain maintenance product\",\n          \"Great for frequently clogged drains\",\n          \"Citrus Ginger scent\",\n          \"4 Septic Treatments + 16 Drain Treatments or 1 Septic Shock\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      },\n      {\n        id: randomUUID(),\n        name: \"Silver VIP Membership - Tank Type\",\n        slug: \"silver-vip-membership-tank\",\n        description: \"Includes water heater flush of up to two (2) tank-type water heaters (in one service visit) with general plumbing checkup & entitles customer to preferred customer pricing for the duration of 1 year, as well as preferred customer emergency scheduling.\",\n        price: 13925, // $139.25\n        category: \"membership\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/silver-tank-type.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"Water heater flush for up to 2 tank-type water heaters\",\n          \"General plumbing checkup\",\n          \"Preferred customer pricing for 1 year\",\n          \"Preferred customer emergency scheduling\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      },\n      {\n        id: randomUUID(),\n        name: \"Silver VIP Membership - Tankless\",\n        slug: \"silver-vip-membership-tankless\",\n        description: \"Includes water heater flush of up to two (2) tankless water heaters (in one service visit) with general plumbing checkup & entitles customer to preferred customer pricing for the duration of 1 year, as well as preferred customer emergency scheduling.\",\n        price: 21212, // $212.12\n        category: \"membership\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/tankless+vip+silver.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"Water heater flush for up to 2 tankless water heaters\",\n          \"General plumbing checkup\",\n          \"Preferred customer pricing for 1 year\",\n          \"Preferred customer emergency scheduling\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      },\n      {\n        id: randomUUID(),\n        name: \"Platinum VIP Membership - Tank Type\",\n        slug: \"platinum-vip-membership-tank\",\n        description: \"Includes (3) annual water heater flush of up to two (2) tank-type water heaters (in one service visit) with general plumbing checkup & entitles customer to preferred customer pricing for the duration of 3 years, as well as preferred customer emergency scheduling.\",\n        price: 31977, // $319.77\n        category: \"membership\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/platinum-tank-type.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"3 annual water heater flushes for up to 2 tank-type water heaters\",\n          \"General plumbing checkup (3 times over 3 years)\",\n          \"Preferred customer pricing for 3 years\",\n          \"Preferred customer emergency scheduling\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      },\n      {\n        id: randomUUID(),\n        name: \"Platinum VIP Membership - Tankless\",\n        slug: \"platinum-vip-membership-tankless\",\n        description: \"Includes (3) annual water heater flush of up to two (2) tankless water heaters (in one service visit) with general plumbing checkup & entitles customer to preferred customer pricing for the duration of 3 years, as well as preferred customer emergency scheduling.\",\n        price: 59980, // $599.80\n        category: \"membership\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/platinum-tankless.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"3 annual water heater flushes for up to 2 tankless water heaters\",\n          \"General plumbing checkup (3 times over 3 years)\",\n          \"Preferred customer pricing for 3 years\",\n          \"Preferred customer emergency scheduling\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      },\n      {\n        id: randomUUID(),\n        name: \"Commercial VIP\",\n        slug: \"commercial-vip\",\n        description: \"Enroll your business in our commercial VIP program today! Become a VIP customer at your business & receive Priority Service for emergencies, Membership savings on EVERY service item, and Yearly plumbing inspection at no charge.\",\n        price: 11900, // $119.00\n        category: \"membership\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/commercial+VIP-98834175.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"Priority service for emergencies\",\n          \"Membership savings on every service item\",\n          \"Yearly plumbing inspection at no charge\",\n          \"No auto-renewal - no obligation\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      },\n      {\n        id: randomUUID(),\n        name: \"Rental VIP\",\n        slug: \"rental-vip\",\n        description: \"Enroll all your rental properties in our VIP program today! Every rental property in our coverage area will get Priority service in the event of an emergency and Savings on every task completed.\",\n        price: 10910, // $109.10\n        category: \"membership\",\n        sku: null,\n        image: \"https://irp.cdn-website.com/90e1856f/dms3rep/multi/commercial+VIP-98834175.png\",\n        stripeProductId: null,\n        stripePriceId: null,\n        features: [\n          \"Priority service in emergency situations\",\n          \"Savings on every task completed\",\n          \"Ideal for property managers\",\n          \"Covers all rental properties in coverage area\"\n        ],\n        active: true,\n        serviceTitanMembershipTypeId: null,\n        durationBillingId: null,\n        serviceTitanEnabled: false\n      }\n    ];\n\n    products.forEach(product => this.products.set(product.id, product));\n  }\n\n  private seedServiceAreas() {\n    const areas: ServiceArea[] = [\n      {\n        id: randomUUID(),\n        cityName: \"Austin\",\n        slug: \"austin\",\n        region: \"austin\",\n        metaDescription: \"Expert plumbing services in Austin, TX. Serving downtown, South Congress, Mueller, and all Austin neighborhoods. 24/7 emergency plumbing available.\",\n        introContent: \"As Austin's trusted plumbing service provider since our founding, Economy Plumbing understands the unique challenges facing homeowners in the Live Music Capital of the World. From the historic Victorian homes of Hyde Park to modern high-rises downtown, Austin's diverse housing stock requires experienced plumbers who understand both classic and contemporary plumbing systems.\",\n        neighborhoods: [\"Downtown Austin\", \"South Congress (SoCo)\", \"East Austin\", \"Hyde Park\", \"Mueller\", \"Zilker\", \"Tarrytown\", \"Clarksville\", \"Bouldin Creek\", \"Rosedale\"],\n        landmarks: [\"Texas State Capitol\", \"Lady Bird Lake\", \"Barton Springs Pool\", \"University of Texas\", \"Sixth Street\"],\n        localPainPoints: [\n          \"Hard water from the Edwards Aquifer causing scale buildup in pipes and water heaters\",\n          \"Aging cast iron pipes in historic downtown and Hyde Park homes requiring replacement\",\n          \"High-rise plumbing challenges in downtown condos and apartments\",\n          \"Tree root intrusion from Austin's numerous heritage oak trees damaging sewer lines\",\n          \"Outdated galvanized pipes in pre-1960s homes throughout central Austin\"\n        ],\n        seasonalIssues: [\n          \"Summer demand spikes during Austin City Limits and SXSW putting stress on water heaters\",\n          \"Flash flood damage to outdoor plumbing and irrigation systems during spring storms\",\n          \"Frozen pipe emergencies during rare winter freezes like the 2021 Texas winter storm\",\n          \"Increased water usage during triple-digit summer temperatures straining water heaters\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why is my Austin water so hard?\",\n            answer: \"Austin's water comes from the Highland Lakes and the Edwards Aquifer, which naturally contain high levels of calcium and magnesium. This hard water can cause scale buildup in pipes, water heaters, and fixtures. We recommend water softeners or regular descaling treatments for Austin homes.\"\n          }),\n          JSON.stringify({\n            question: \"Do oak tree roots commonly damage sewer lines in Austin?\",\n            answer: \"Yes, Austin's beloved heritage oak trees have aggressive root systems that frequently infiltrate and damage sewer lines, especially in older neighborhoods like Hyde Park and Tarrytown. We offer camera inspections to identify root intrusion and trenchless repair solutions to fix the damage.\"\n          })\n        ],\n        testimonials: null, // Use actual Google reviews - no fake testimonials\n        population: \"978,908\",\n        zipCodes: [\"78701\", \"78702\", \"78703\", \"78704\", \"78705\", \"78712\", \"78717\", \"78719\", \"78721\", \"78722\", \"78723\", \"78724\", \"78725\", \"78726\", \"78727\", \"78728\", \"78729\", \"78730\", \"78731\", \"78732\", \"78733\", \"78734\", \"78735\", \"78736\", \"78737\", \"78738\", \"78739\", \"78741\", \"78742\", \"78744\", \"78745\", \"78746\", \"78747\", \"78748\", \"78749\", \"78750\", \"78751\", \"78752\", \"78753\", \"78754\", \"78756\", \"78757\", \"78758\", \"78759\"],\n        latitude: \"30.2672\",\n        longitude: \"-97.7431\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Cedar Park\",\n        slug: \"cedar-park\",\n        region: \"austin\",\n        metaDescription: \"Professional plumbing services in Cedar Park, TX. Serving Buttercup Creek, Whitestone, and all Cedar Park communities. Same-day service available.\",\n        introContent: \"Cedar Park's rapid growth from a quiet bedroom community to one of the fastest-growing cities in America has created unique plumbing challenges. Economy Plumbing has been serving Cedar Park families since the community's expansion began, and we understand the specific needs of both newer subdivisions and established neighborhoods in this vibrant Hill Country city.\",\n        neighborhoods: [\"Buttercup Creek\", \"Whitestone\", \"Vista Oaks\", \"Cypress Creek\", \"Anderson Mill\", \"Brushy Creek\", \"Heritage Park\", \"Twin Creeks\"],\n        landmarks: [\"HEB Center at Cedar Park\", \"Brushy Creek Lake Park\", \"Cedar Park Center\"],\n        localPainPoints: [\n          \"New construction plumbing failures in rapidly built subdivisions requiring warranty repairs\",\n          \"Well water system issues in older Cedar Park properties built before city water expansion\",\n          \"Slab foundation cracks in Hill Country soil causing hidden slab leaks\",\n          \"Undersized water heaters in new construction homes not meeting family needs\",\n          \"Hard water from Lake Travis supply causing premature fixture and appliance failure\"\n        ],\n        seasonalIssues: [\n          \"Foundation shifts during summer drought cycles creating pipe stress and leaks\",\n          \"Flash flooding along Brushy Creek impacting homes in low-lying areas\",\n          \"Increased demand during summer recreation season at nearby parks and pools\",\n          \"Winter freeze protection needed for exposed outdoor plumbing and irrigation systems\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why do Cedar Park homes have so many slab leaks?\",\n            answer: \"Cedar Park is built on expansive clay soil that shifts with moisture changes. During our hot, dry summers, the soil contracts, and during wet periods it expands. This constant movement can stress pipes embedded in concrete slabs, leading to cracks and leaks. We specialize in slab leak detection and rerouting solutions for Cedar Park homes.\"\n          }),\n          JSON.stringify({\n            question: \"Should I replace my well water system with city water?\",\n            answer: \"Many older Cedar Park properties still use well water. While city water is now available throughout Cedar Park, some homeowners prefer to keep their wells for irrigation. We can help you evaluate your options and convert to city water if desired, or maintain your existing well system.\"\n          })\n        ],\n        testimonials: null, // Use actual Google reviews - no fake testimonials\n        population: \"77,595\",\n        zipCodes: [\"78613\", \"78641\"],\n        latitude: \"30.5052\",\n        longitude: \"-97.8203\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Leander\",\n        slug: \"leander\",\n        region: \"austin\",\n        metaDescription: \"Top-rated plumbing services in Leander, TX. Serving Crystal Falls, Mason Hills, Summerlyn, and all Leander neighborhoods. Fast response, expert service.\",\n        introContent: \"Leander's explosive growth from a quiet railroad town to one of America's fastest-growing cities has created unique plumbing challenges that require local expertise. Economy Plumbing has served Leander families through every phase of this transformation, from the historic downtown area to the newest master-planned communities like Crystal Falls and Summerlyn. As Leander's population has soared from 26,000 in 2010 to over 87,000 today, we've expanded our services to meet the evolving needs of this dynamic Hill Country city. Leander's location along the CapMetro Red Line and proximity to major employers makes it a magnet for young families, and our team understands the specific plumbing demands of modern family homes. The city's unique position straddling both Travis and Williamson Counties means homes may receive water from different sources, creating varied water quality challenges across neighborhoods. Our technicians are intimately familiar with every subdivision in Leander, from the luxury estates of Crystal Falls Golf Course to the family-friendly streets of Mason Hills and Northline.\",\n        neighborhoods: [\"Crystal Falls\", \"Mason Hills\", \"Summerlyn\", \"Lakeline Ranch\", \"Northline\", \"Grand Mesa\", \"Block House Creek\", \"Benbrook Ranch\"],\n        landmarks: [\"Crystal Falls Golf Course\", \"Leander Station (CapMetro Rail)\", \"Veterans Memorial Park\", \"Largest H-E-B in Central Texas\", \"Brushy Creek Regional Trail\"],\n        localPainPoints: [\n          \"Rapidly aging plumbing in homes built during Leander's 2000s building boom now experiencing widespread failures\",\n          \"Hard water from multiple source systems causing inconsistent scale buildup across different neighborhoods\",\n          \"Undersized water heaters in spec homes from growth period unable to serve modern family demands\",\n          \"Slab leaks in newer construction due to expansive clay soil settlement as subdivisions mature\",\n          \"Water pressure fluctuations during peak demand hours as infrastructure struggles to keep pace with population growth\"\n        ],\n        seasonalIssues: [\n          \"Summer strain on aging water mains during peak irrigation season causing pressure drops\",\n          \"Winter freeze damage to exposed outdoor plumbing in newer homes built with minimal cold weather protection\",\n          \"Spring foundation shifts from wet season causing pipe stress in homes built on expansive clay\",\n          \"Fall HVAC changeover revealing water heater inefficiencies accumulated over hot summer months\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why does my water pressure drop so much in the evening in Leander?\",\n            answer: \"Leander's rapid growth has outpaced water infrastructure in some neighborhoods, particularly in Crystal Falls and Summerlyn. During peak evening hours when families are cooking, bathing, and running sprinklers, the system experiences high demand. Additionally, the elevation changes throughout Leander (especially in hillside developments) can create natural pressure variations. We can install pressure boosting systems or whole-house pressure regulators to ensure consistent flow regardless of neighborhood demand.\"\n          }),\n          JSON.stringify({\n            question: \"Should I be concerned about plumbing in a home built during Leander's 2000-2010 building boom?\",\n            answer: \"Yes, homes built during Leander's rapid expansion period often had plumbing installed quickly to meet demand, and these systems are now 15-25 years old. We frequently see undersized water heaters (40-gallon tanks in 4-bedroom homes), builder-grade fixtures failing, and the first generation of PEX connections developing leaks. We recommend a comprehensive plumbing inspection for any Leander home built before 2010, with special attention to water heater capacity, slab leak risk assessment, and main water line condition.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Jennifer L.\",\n            neighborhood: \"Crystal Falls\",\n            text: \"Our 2008 home had the original water heater fail during a holiday party. Economy Plumbing had someone at our Crystal Falls house within 90 minutes and installed a new tankless system the same day. They knew exactly which models work best in our neighborhood!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"David H.\",\n            neighborhood: \"Mason Hills\",\n            text: \"Found a slab leak under our Mason Hills home's foundation. Economy Plumbing used their electronic detection equipment to pinpoint it without destroying our floors, then rerouted the line through the attic. Professional work at a fair price.\",\n            rating: 5\n          })\n        ],\n        population: \"87,511\",\n        zipCodes: [\"78641\", \"78645\", \"78646\"],\n        latitude: \"30.5788\",\n        longitude: \"-97.8531\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Round Rock\",\n        slug: \"round-rock\",\n        region: \"austin\",\n        metaDescription: \"Expert plumbing services in Round Rock, TX. Serving Brushy Creek, Forest Creek, Teravista, and all Round Rock areas. 24/7 emergency service available.\",\n        introContent: \"Round Rock's transformation from a historic railroad town to the Sports Capital of Texas has made it one of Central Texas's most desirable communities, and Economy Plumbing has been here through it all. With over 124,000 residents and continuing growth, Round Rock presents unique plumbing challenges that range from aging systems in historic downtown to cutting-edge demands in newer master-planned communities like Teravista and La Frontera. The city's diverse housing stock spans from charming early 1900s homes near the famous Round Rock to modern smart homes in developments built this decade. Our technicians understand the specific needs of each era and neighborhood, from repiping Victorian-era homes with outdated galvanized pipes to servicing high-efficiency tankless systems in new construction. Round Rock's position as a major tech hub with Dell's headquarters means many homes have professional-grade requirements including dedicated hot water recirculation systems and whole-house water treatment. The city's extensive park system and year-round sports facilities at places like the Dell Diamond create seasonal demand spikes that stress residential plumbing systems.\",\n        neighborhoods: [\"Brushy Creek\", \"Forest Creek\", \"Teravista\", \"Mayfield Ranch\", \"La Frontera Village\", \"Canyon Creek\", \"Settlers Park\", \"Chandler Creek\", \"Hidden Glen\", \"Oak Hollow\"],\n        landmarks: [\"Dell Diamond\", \"Old Settlers Park\", \"Kalahari Resorts\", \"The Round Rock (historic landmark)\", \"Downtown Round Rock\"],\n        localPainPoints: [\n          \"Old galvanized pipes in historic downtown homes causing rusty water and low pressure requiring complete repiping\",\n          \"Hard water from Lake Travis supply creating severe scale buildup in water heaters and reducing efficiency by up to 30%\",\n          \"High-density subdivision plumbing in Teravista and La Frontera experiencing simultaneous fixture use overwhelming undersized systems\",\n          \"Sports complex proximity causing seasonal demand surges that reveal hidden plumbing weaknesses during tournament seasons\",\n          \"Mixed soil conditions across the city (clay in east, limestone in west) creating different foundation movement patterns affecting underground pipes\"\n        ],\n        seasonalIssues: [\n          \"Summer tournament season at Dell Diamond coinciding with irrigation demands creating neighborhood-wide pressure drops\",\n          \"Winter freeze events damaging outdoor kitchen plumbing and pool equipment at higher rates than surrounding cities\",\n          \"Spring flash floods along Brushy Creek affecting homes in low-lying areas with backflow and drainage issues\",\n          \"Fall water heater failures as families return from summer activities and resume normal usage patterns revealing accumulated wear\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why is Round Rock's water so hard and what can I do about it?\",\n            answer: \"Round Rock receives water from Lake Travis, which flows through limestone formations giving it hardness levels of 25-35 grains per gallon - among the hardest in Texas. This causes white buildup on fixtures, reduces water heater efficiency, and shortens appliance life. We recommend whole-house water softeners for Round Rock homes, particularly high-efficiency dual-tank systems that can handle the extreme hardness. For homes in Teravista and newer developments, we often install combination softener-filter systems that also address chlorine and sediment issues.\"\n          }),\n          JSON.stringify({\n            question: \"My Round Rock home was built in 2005-2010. What plumbing issues should I watch for?\",\n            answer: \"Homes built during Round Rock's major expansion period often have three key issues: first-generation PEX piping that's now showing connection failures, undersized 40-gallon water heaters inadequate for modern family needs, and builder-grade fixtures reaching end-of-life. Additionally, the expansive clay soil in eastern Round Rock neighborhoods has had 15-20 years to cycle through wet and dry periods, often causing slab leaks in homes from this era. We recommend comprehensive plumbing inspections including slab leak detection for any Round Rock home from this period.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Tom R.\",\n            neighborhood: \"Brushy Creek\",\n            text: \"Economy Plumbing completely repiped our 1995 Brushy Creek home, replacing all the old galvanized lines. They worked clean, finished in three days, and our water pressure is incredible now. Best investment we've made in the house!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Amanda S.\",\n            neighborhood: \"Forest Creek\",\n            text: \"Our Forest Creek neighborhood has extremely hard water. Economy Plumbing installed a whole-house softener and the difference is amazing - no more scale on fixtures and our water heater is running more efficiently. They really know Round Rock's water issues!\",\n            rating: 5\n          })\n        ],\n        population: \"124,790\",\n        zipCodes: [\"78664\", \"78665\", \"78680\", \"78681\", \"78682\", \"78683\"],\n        latitude: \"30.5083\",\n        longitude: \"-97.6789\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Georgetown\",\n        slug: \"georgetown\",\n        region: \"austin\",\n        metaDescription: \"Reliable plumbing services in Georgetown, TX. Serving Sun City, Wolf Ranch, Berry Creek, and all Georgetown communities. Expert technicians, honest pricing.\",\n        introContent: \"Georgetown's unique character as both a historic Victorian town and a modern retirement destination creates plumbing challenges unlike anywhere else in Central Texas. As the county seat of Williamson County and home to Southwestern University (Texas's oldest university), Georgetown balances preservation of 19th-century architecture with cutting-edge amenities in master-planned communities like Sun City and Wolf Ranch. Economy Plumbing understands this duality, offering specialized services for everything from repiping century-old homes around the historic square to maintaining modern water systems in 55+ active adult communities. The city's position along the San Gabriel River and proximity to Lake Georgetown means water quality varies significantly across neighborhoods, with some areas receiving hard lake water while others rely on well systems. Georgetown's explosive growth - particularly in the Wolf Ranch area and Sun City developments - has strained infrastructure in ways that affect residential plumbing. Our team has deep expertise in Georgetown's unique challenges, from dealing with limestone bedrock that makes underground repairs difficult to understanding the specific needs of the city's large retiree population who demand reliable, efficient plumbing systems.\",\n        neighborhoods: [\"Sun City\", \"Wolf Ranch\", \"Berry Creek\", \"River Chase\", \"Georgetown Village\", \"Heritage Oaks\", \"Rancho Siena\", \"Serenada\", \"Historic Downtown\", \"Lakewood Estates\"],\n        landmarks: [\"Downtown Georgetown Historic Square\", \"Southwestern University\", \"San Gabriel River\", \"Lake Georgetown\", \"Blue Hole Park\"],\n        localPainPoints: [\n          \"Victorian-era homes in historic district with original cast iron and galvanized pipes requiring sensitive restoration-quality repiping\",\n          \"Sun City's high concentration of retirees demanding water heater systems with consistent temperature and pressure for medical needs\",\n          \"Wolf Ranch's rapid construction creating premature plumbing failures in homes less than 10 years old due to builder-grade materials\",\n          \"Limestone bedrock throughout Georgetown making trenchless sewer repair the only viable option in many neighborhoods\",\n          \"Mixed water sources across the city (lake, well, and city systems) creating wildly different hardness levels and treatment needs\"\n        ],\n        seasonalIssues: [\n          \"Summer heat causing increased water heater demand in Sun City as retirees run multiple appliances and irrigation systems\",\n          \"Winter freezes particularly damaging in historic homes with exposed plumbing in uninsulated walls and crawl spaces\",\n          \"Spring San Gabriel River flooding affecting homes along Rivery and River Chase with backflow prevention needs\",\n          \"Fall when Sun City snowbirds return en masse revealing plumbing issues that developed during summer months of vacancy\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"I live in historic Georgetown. Can you repipe without damaging my Victorian home's character?\",\n            answer: \"Absolutely. We specialize in historic home repiping in Georgetown's Victorian district. We use techniques like fishing PEX lines through existing wall cavities, accessing from attics and crawl spaces, and making minimal, reversible access points that can be properly restored. We work with local historic preservation guidelines and can coordinate with your contractor for any cosmetic restoration. Our goal is modern plumbing performance while maintaining your home's architectural integrity and historic value.\"\n          }),\n          JSON.stringify({\n            question: \"What plumbing considerations are unique to Sun City Georgetown?\",\n            answer: \"Sun City homes have specific needs: consistent water temperature for safety (avoiding scalding), easily accessible shutoff valves, water heater systems designed for one-story living, and often medical-grade requirements for oxygen equipment or dialysis. We also see higher demand for low-maintenance fixtures, touchless faucets for mobility issues, and leak detection systems for snowbirds who leave homes vacant. Additionally, Sun City's homes are now 15-20 years old, meaning original water heaters and fixtures are reaching end-of-life and need proactive replacement.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Robert and Helen M.\",\n            neighborhood: \"Sun City\",\n            text: \"We're snowbirds and needed our Sun City home's plumbing inspected before leaving for the summer. Economy Plumbing found a small leak we didn't know about, replaced our aging water heater, and installed a leak detection system. Peace of mind when we're away!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Patricia K.\",\n            neighborhood: \"Historic District\",\n            text: \"Economy Plumbing repiped our 1895 Victorian home near the square. They were incredibly careful with our original woodwork and plaster, and the new system works beautifully. They understand historic Georgetown homes!\",\n            rating: 5\n          })\n        ],\n        population: \"67,176\",\n        zipCodes: [\"78626\", \"78627\", \"78628\", \"78633\"],\n        latitude: \"30.6333\",\n        longitude: \"-97.6780\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Pflugerville\",\n        slug: \"pflugerville\",\n        region: \"austin\",\n        metaDescription: \"Professional plumbing services in Pflugerville, TX. Serving Blackhawk, Falcon Pointe, Lake Pflugerville area, and all Pflugerville neighborhoods.\",\n        introContent: \"Pflugerville's transformation from a German farming community to a diverse, thriving Austin suburb has created a unique tapestry of plumbing needs. Founded in 1860 by German immigrants, Pflugerville today is a vibrant city of over 65,000 residents with a strong sense of community and some of the most diverse housing stock in the Austin metro area. Economy Plumbing has served Pflugerville families through every phase of growth, from maintaining historic farmhouses in the original town center to servicing cutting-edge smart home systems in master-planned communities like Falcon Pointe and Blackhawk. The city's position straddling Travis and Williamson Counties, combined with proximity to major tech employers along State Highway 130, means homes range from modest starter properties to luxury estates. Pflugerville's extensive park system, including the centerpiece 180-acre Lake Pflugerville, creates unique outdoor plumbing demands for irrigation and pool systems. The city's rapid growth period in the 2000s means many homes are now reaching the 15-20 year mark where major plumbing components need replacement. Our technicians know every Pflugerville subdivision, from the golf course community of Blackhawk to the family-friendly neighborhoods of Falcon Pointe, and we understand the specific challenges each area presents.\",\n        neighborhoods: [\"Blackhawk\", \"Falcon Pointe\", \"Sorento\", \"Carmel\", \"Heatherwilde\", \"Windermere\", \"Wells Point\", \"Highland Park\", \"Avalon Park\", \"Springbrook\"],\n        landmarks: [\"Lake Pflugerville\", \"Blackhawk Golf Club\", \"Pfluger Park\", \"Stone Hill Town Center\", \"Historic Downtown Pflugerville\"],\n        localPainPoints: [\n          \"First-generation master-planned community plumbing in Blackhawk and Falcon Pointe now showing widespread fixture and water heater failures\",\n          \"Lake Pflugerville irrigation systems creating severe summer demand spikes revealing undersized water mains in surrounding neighborhoods\",\n          \"Diverse water quality across different subdivisions due to multiple supply sources requiring customized treatment approaches\",\n          \"Rapid soil settlement in newer developments causing slab leaks in homes less than 10 years old\",\n          \"Builder-grade plumbing from 2000s boom years failing en masse as warranties expire and homeowners face expensive repairs\"\n        ],\n        seasonalIssues: [\n          \"Summer Lake Pflugerville recreation season creating water pressure drops in Heatherwilde and nearby neighborhoods during peak use\",\n          \"Winter freeze damage particularly severe in homes built quickly during growth period with minimal cold weather protection\",\n          \"Spring heavy rains revealing poor drainage around homes built on clay soil causing foundation shifts and pipe stress\",\n          \"Fall return-to-school season revealing plumbing issues that developed during lighter summer usage patterns\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why do so many Pflugerville homes from the 2000s building boom have plumbing problems?\",\n            answer: \"Pflugerville's population doubled between 2000-2010, and construction couldn't keep pace with demand. Many homes were built quickly with builder-grade materials - 40-gallon water heaters in 4-bedroom homes, thin-wall PEX connections, and basic fixtures. These systems are now 15-25 years old and failing simultaneously across neighborhoods like Blackhawk and Falcon Pointe. Additionally, the expansive clay soil has cycled through 15-20 years of wet/dry periods, causing foundation movement and subsequent slab leaks. We recommend proactive inspections and upgrades before catastrophic failures occur.\"\n          }),\n          JSON.stringify({\n            question: \"Does living near Lake Pflugerville affect my home's plumbing?\",\n            answer: \"Yes, in several ways. Homes near the lake often experience greater water pressure fluctuations during summer recreation season. The higher water table near the lake can also affect foundation stability and increase humidity levels that accelerate pipe corrosion. Additionally, many lake-adjacent homes have irrigation systems that were oversized for large lawns, and these systems can create pressure drops affecting indoor plumbing. We can install pressure regulators and properly size irrigation systems to prevent these issues.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Marcus T.\",\n            neighborhood: \"Blackhawk\",\n            text: \"Our Blackhawk home is 18 years old and the original water heater finally gave out. Economy Plumbing recommended a tankless system perfect for our family's needs and installed it the same day. They know these Pflugerville neighborhoods inside and out!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Rachel G.\",\n            neighborhood: \"Falcon Pointe\",\n            text: \"Had a slab leak detected under our Falcon Pointe home. Economy Plumbing used non-invasive electronic detection to find it, then rerouted the line without tearing up our floors. Saved us thousands and finished in one day!\",\n            rating: 5\n          })\n        ],\n        population: \"65,176\",\n        zipCodes: [\"78660\", \"78691\"],\n        latitude: \"30.4398\",\n        longitude: \"-97.6206\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Liberty Hill\",\n        slug: \"liberty-hill\",\n        region: \"austin\",\n        metaDescription: \"Trusted plumbing services in Liberty Hill, TX. Serving Santa Rita Ranch, Clearwater Ranch, and all Liberty Hill communities. Same-day service available.\",\n        introContent: \"Liberty Hill's evolution from a tiny railroad stop to a thriving Hill Country community has created unique plumbing challenges that require specialized local knowledge. Located 33 miles northwest of Austin in the scenic Texas Hill Country, Liberty Hill has exploded from just 967 residents in 2000 to over 10,000 today, driven largely by the massive Santa Rita Ranch master-planned community. Economy Plumbing has been here through this incredible transformation, understanding both the needs of older properties in the historic town center and the cutting-edge systems in luxury developments like Clearwater Ranch. Liberty Hill's position on the western edge of Williamson County means it sits at the transition between Austin's urban infrastructure and true Hill Country well water systems. Many homes still rely on private wells, while newer developments connect to municipal water with varying quality. The area's limestone and granite geology creates challenges for underground plumbing work, and the expansive clay soil mixed with rocky terrain means foundations - and the pipes beneath them - experience unique stresses. Our technicians are intimately familiar with every Liberty Hill subdivision, from the championship golf course homes at Cimarron Hills to the estate properties at Clearwater Ranch.\",\n        neighborhoods: [\"Santa Rita Ranch\", \"Clearwater Ranch\", \"Regency at Santa Rita Ranch\", \"Cimarron Hills\", \"Tierra Rosa\", \"Legacy Ranch\"],\n        landmarks: [\"Liberty Hill International Sculpture Park\", \"Cimarron Hills Country Club\", \"Lions Foundation Park\", \"Lake Georgetown (nearby)\", \"Historic Downtown Liberty Hill\"],\n        localPainPoints: [\n          \"Private well water systems in older Liberty Hill properties requiring specialized filtration and pressure management\",\n          \"Santa Rita Ranch's rapid construction creating premature failures in homes less than 10 years old due to soil settlement\",\n          \"Extremely hard water from limestone aquifer sources causing severe scale buildup in water heaters and fixtures\",\n          \"Mixed infrastructure between well-served and city-water areas creating confusion about water treatment needs\",\n          \"Rocky Hill Country terrain making traditional excavation for sewer repair nearly impossible, requiring trenchless solutions\"\n        ],\n        seasonalIssues: [\n          \"Summer drought stress on private well systems as water tables drop and pumps work harder\",\n          \"Winter freeze damage particularly severe in rural areas with exposed well equipment and pressure tanks\",\n          \"Spring heavy rains causing temporary well water quality issues as surface runoff affects aquifer recharge\",\n          \"Fall when Santa Rita Ranch amenities close revealing plumbing issues in homes as full-time usage resumes\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Should I keep my well system or connect to Liberty Hill city water?\",\n            answer: \"This depends on several factors unique to your property. Well water in Liberty Hill is typically very hard (25-35 grains) but free of chlorine. City water is treated and consistent but also hard and requires ongoing payment. If your well is producing adequately and you're willing to maintain filtration and softening systems, keeping it can be economical. However, wells require power (problematic during outages), periodic maintenance, and testing. For Santa Rita Ranch and newer developments, city water is standard. We can test your well water, assess your system, and help you make an informed decision based on your specific situation and long-term plans.\"\n          }),\n          JSON.stringify({\n            question: \"Why is Liberty Hill water so hard and what damage does it cause?\",\n            answer: \"Liberty Hill sits on Edwards limestone and granite formations. As water percolates through this rock, it absorbs calcium and magnesium, creating hardness levels of 25-35 grains per gallon - extremely hard even by Texas standards. This causes white scale buildup that clogs aerators and showerheads, reduces water heater efficiency by up to 40%, and can eventually block pipes. In Liberty Hill's hot climate, water heaters work extra hard and scale accumulates faster. We strongly recommend whole-house water softening for all Liberty Hill homes, with annual water heater flushing to remove sediment before it causes damage.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Kevin and Dana P.\",\n            neighborhood: \"Santa Rita Ranch\",\n            text: \"Our Santa Rita Ranch home had terrible water pressure and hard water stains everywhere. Economy Plumbing installed a water softener and pressure booster system - complete transformation! They understand Liberty Hill's water challenges.\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Bill R.\",\n            neighborhood: \"Clearwater Ranch\",\n            text: \"We're on a well system at our Clearwater Ranch estate. Economy Plumbing set us up with proper filtration, a new pressure tank, and softening system. They know well systems inside and out - highly recommend for Liberty Hill well owners.\",\n            rating: 5\n          })\n        ],\n        population: \"10,428\",\n        zipCodes: [\"78642\"],\n        latitude: \"30.6650\",\n        longitude: \"-97.9114\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Buda\",\n        slug: \"buda\",\n        region: \"austin\",\n        metaDescription: \"Expert plumbing services in Buda, TX. Serving Shadow Creek, Sunfield, Garlic Creek, and all Buda neighborhoods. Emergency service available 24/7.\",\n        introContent: \"Buda's charming small-town character combined with explosive suburban growth has created a unique plumbing landscape that demands both traditional expertise and modern solutions. Pronounced 'BYOO-duh' by locals, this Hays County community has transformed from a sleepy town of 2,400 in 2000 to over 16,000 today, earning recognition as one of Austin's fastest-growing suburbs. Economy Plumbing has served Buda through every phase of this evolution, from maintaining historic structures around the 1898 Building downtown to installing cutting-edge systems in master-planned communities like Shadow Creek and Sunfield. Buda's position 15 miles southwest of Austin, nestled along Onion Creek in the Hill Country, means homes experience unique challenges from both suburban infrastructure demands and rural Texas geology. The city's location on I-35 has spurred rapid development, but much of Buda still retains its connection to the land, with some properties on well systems and others dealing with the challenges of transitioning infrastructure. Our technicians understand Buda's distinctive needs, from the historic downtown buildings requiring sensitive plumbing upgrades to new construction facing the reality of expansive clay soil and hard water from Hill Country sources.\",\n        neighborhoods: [\"Shadow Creek\", \"Sunfield\", \"Stonefield\", \"Garlic Creek\", \"Ruby Ranch\", \"Whispering Hollow\", \"Creekside Park\", \"White Oak Preserve\"],\n        landmarks: [\"Historic Stagecoach Park\", \"Bradfield Village Park\", \"The 1898 Building\", \"Onion Creek\", \"Cabela's\"],\n        localPainPoints: [\n          \"Onion Creek's flood history creating special backflow prevention needs in low-lying neighborhoods\",\n          \"Rapid transition from rural to suburban infrastructure overwhelming older water mains during peak demand\",\n          \"New construction plumbing in Shadow Creek and Sunfield built during boom years now showing premature failures\",\n          \"Hard water from Edwards aquifer sources creating severe scaling in water heaters and requiring aggressive treatment\",\n          \"Historic downtown buildings with century-old plumbing needing careful upgrades to meet modern code while preserving character\"\n        ],\n        seasonalIssues: [\n          \"Spring Onion Creek flooding requiring sump pump installations and backflow preventer maintenance in creek-adjacent homes\",\n          \"Summer irrigation demands in new subdivisions creating pressure drops during evening peak usage hours\",\n          \"Winter freeze events particularly damaging in older homes with minimal insulation and exposed pipe runs\",\n          \"Fall return of cooler weather revealing water heater inefficiencies as heating demands increase after idle summer months\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"My Buda home is near Onion Creek. What plumbing precautions should I take?\",\n            answer: \"Homes near Onion Creek need special flood protection for plumbing systems. We recommend backflow preventers on all sewer connections to prevent creek flooding from backing up into your home, sump pumps in crawl spaces or basements, and elevating water heaters and HVAC systems above potential flood levels. After any flooding event, we recommend thorough inspections of sewer lines for damage and water heater checks for sediment intrusion. Many Buda flood insurance policies require these protective devices, and we can ensure your home meets all requirements while providing maximum protection.\"\n          }),\n          JSON.stringify({\n            question: \"Why does my new Buda home already have plumbing problems?\",\n            answer: \"Buda's rapid growth meant many homes were built quickly between 2010-2020 to meet demand. We frequently see builder-grade 40-gallon water heaters inadequate for modern family needs, thin-wall PEX connections beginning to fail, and fixtures from the 'value' tier already breaking down. Additionally, Buda sits on expansive clay soil that's had 5-15 years to cycle through wet and dry periods, causing foundation settlement that stresses pipes. For homes in Shadow Creek, Sunfield, and other new developments, we recommend comprehensive plumbing inspections even on homes less than 10 years old, with particular attention to slab leak risk and water heater capacity.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Chris and Amy W.\",\n            neighborhood: \"Shadow Creek\",\n            text: \"Our Shadow Creek home flooded during a storm and the sewer backed up into our home. Economy Plumbing installed a backflow preventer and new sump pump system. They know Buda's flooding risks and how to protect homes!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Miguel R.\",\n            neighborhood: \"Garlic Creek\",\n            text: \"Economy Plumbing replaced our undersized builder water heater with a proper 50-gallon system for our family. They explained that many Buda homes from our era have this problem. Great service and honest advice!\",\n            rating: 5\n          })\n        ],\n        population: \"16,030\",\n        zipCodes: [\"78610\"],\n        latitude: \"30.0827\",\n        longitude: \"-97.8425\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Kyle\",\n        slug: \"kyle\",\n        region: \"austin\",\n        metaDescription: \"Quality plumbing services in Kyle, TX. Serving Hometown Kyle, Bunton Creek, Waterleaf, and all Kyle communities. Licensed, insured, local experts.\",\n        introContent: \"Kyle's remarkable journey from a quiet town of 5,000 to nearly 60,000 residents in just two decades has created plumbing challenges that require deep local expertise and modern solutions. Named for historic land donor Fergus Kyle, this Hays County community has become one of Texas's fastest-growing cities, with its ZIP code consistently ranking among the hottest real estate markets in America. Economy Plumbing has been Kyle's trusted plumbing partner through this explosive growth, serving everything from the historic homes near the Auction Oak where the city's first lots were sold in 1880, to cutting-edge smart homes in master-planned communities like Hometown Kyle and Waterleaf. Kyle's position seven miles from Texas State University and its easy I-35 access to both Austin and San Antonio make it a magnet for young families and first-time homebuyers. This demographic shift has created unique demands for affordable yet reliable plumbing solutions. The city's expansion has occasionally outpaced infrastructure development, creating water pressure challenges in some neighborhoods during peak hours. Our technicians know every Kyle subdivision and understand the specific plumbing needs of this dynamic, fast-growing community.\",\n        neighborhoods: [\"Hometown Kyle\", \"Bunton Creek\", \"Waterleaf\", \"Amberwood\", \"Sunset Ridge\", \"Silverado\", \"Mountain City\", \"Prairie on the Creek\", \"Kensington Trails\", \"The Woodlands\"],\n        landmarks: [\"Auction Oak\", \"Katherine Anne Porter House\", \"Lake Kyle\", \"Gregg-Clarke Park\", \"The Vybe Trail System\"],\n        localPainPoints: [\n          \"Infrastructure strain from rapid growth creating water pressure fluctuations in newer subdivisions during peak demand hours\",\n          \"First-time homebuyer focus meaning many residents unaware of preventive maintenance needs until major failures occur\",\n          \"Builder-grade plumbing in spec homes from Kyle's boom years now failing en masse as homes reach 10-15 year mark\",\n          \"Expansive clay soil throughout Kyle causing widespread slab leak issues in homes from early 2000s construction\",\n          \"Hard water from multiple source systems requiring different treatment approaches across various neighborhoods\"\n        ],\n        seasonalIssues: [\n          \"Summer Texas State University student population swings creating dramatic water usage fluctuations in nearby neighborhoods\",\n          \"Winter freeze damage in homes built during rapid expansion period with minimal cold weather protection considerations\",\n          \"Spring foundation movement from heavy rains causing pipe stress in homes built on Kyle's expansive clay soil\",\n          \"Fall when families settle into routines revealing plumbing issues that went unnoticed during busy summer months\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why does my Kyle home's water pressure drop so much in the evenings?\",\n            answer: \"Kyle's infrastructure is catching up to its explosive growth, and some neighborhoods experience pressure drops during peak evening hours (6-9 PM) when everyone is cooking, bathing, and running sprinklers. This is especially common in Hometown Kyle, Waterleaf, and other newer developments where demand has exceeded original main capacity. We can install whole-house pressure boosting systems or pressure storage tanks to ensure consistent flow regardless of neighborhood demand. Additionally, we can add pressure regulators to protect your plumbing when pressure spikes during low-demand periods.\"\n          }),\n          JSON.stringify({\n            question: \"Is it worth upgrading the plumbing in my Kyle starter home?\",\n            answer: \"Absolutely. Many Kyle homes purchased by first-time buyers have builder-grade 40-gallon water heaters, basic fixtures, and minimal water treatment. Upgrading to a 50-gallon or tankless water heater, installing a whole-house water softener for Kyle's hard water, and replacing basic fixtures with quality models will improve your daily comfort, reduce utility bills, and increase your home's value. These upgrades typically pay for themselves within 5-7 years through energy savings and reduced repair costs, and they make your home much more attractive to buyers when you're ready to sell.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Jessica and Ryan M.\",\n            neighborhood: \"Hometown Kyle\",\n            text: \"As first-time homebuyers in Hometown Kyle, we didn't know much about plumbing maintenance. Economy Plumbing did a complete inspection, upgraded our water heater, and installed a water softener. They educated us every step of the way!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Carlos V.\",\n            neighborhood: \"Bunton Creek\",\n            text: \"Found a slab leak under our Bunton Creek home - our worst nightmare! Economy Plumbing responded immediately, found the leak with electronic equipment, and rerouted the line through our attic. They saved our floors and our sanity!\",\n            rating: 5\n          })\n        ],\n        population: \"57,470\",\n        zipCodes: [\"78640\"],\n        latitude: \"29.9891\",\n        longitude: \"-97.8772\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Marble Falls\",\n        slug: \"marble-falls\",\n        region: \"marble-falls\",\n        metaDescription: \"Professional plumbing services in Marble Falls, TX. Serving lakefront properties, historic downtown, and all Marble Falls neighborhoods. Lake specialist plumbers.\",\n        introContent: \"Marble Falls' unique position as the heart of the Highland Lakes region creates plumbing challenges found nowhere else in Central Texas. Named for the marble-like limestone falls that once cascaded through the Colorado River (now submerged beneath Lake Marble Falls), this historic Hill Country community of over 9,000 residents combines Victorian charm with modern lakeside living. Economy Plumbing has served Marble Falls since our founding, understanding the specific needs of everything from century-old homes in the Victorian district to luxury lakefront estates along Lake Marble Falls and the surrounding Highland Lakes. The city's dual identity as both a retirement destination and tourism hub creates unique seasonal demands on plumbing systems. Marble Falls' position along the Highland Lakes chain means many homes have specialized lake house features - outdoor showers, boat wash stations, and irrigation systems drawing from the lake. The area's pink granite bedrock, famous for building the Texas State Capitol, creates challenges for any underground plumbing work. Our technicians are experts in Marble Falls' distinctive geology, water systems, and the specific needs of lakefront properties that experience higher humidity, more outdoor plumbing demands, and seasonal occupancy patterns.\",\n        neighborhoods: [\"Lakeside Estates\", \"Victorian District\", \"Meadowlakes\", \"Highland Haven\", \"Downtown Lofts\", \"Granite Shoals (adjacent)\", \"River Hills\", \"Sunset Ridge\"],\n        landmarks: [\"Lake Marble Falls\", \"Downtown Historic Square\", \"Granite Mountain\", \"Hidden Falls Adventure Park\", \"Flat Creek Estate Winery\"],\n        localPainPoints: [\n          \"Lake house plumbing systems experiencing accelerated corrosion from high humidity and seasonal vacancy cycles\",\n          \"Victorian-era homes in historic district with original plumbing requiring expert restoration-quality repiping work\",\n          \"Pink granite bedrock making traditional excavation nearly impossible, requiring specialized trenchless repair techniques\",\n          \"Seasonal occupancy in lakefront properties creating plumbing failures when homes sit vacant for extended periods\",\n          \"Hard water from Lake Marble Falls and groundwater sources causing severe scale buildup in water heaters and lake-fed irrigation systems\"\n        ],\n        seasonalIssues: [\n          \"Summer tourism season creating dramatic water demand spikes in downtown and lakefront areas during festivals and events\",\n          \"Winter snowbird departures leaving homes vacant and vulnerable to freezing pipes during rare cold snaps\",\n          \"Spring flooding along Colorado River affecting lakefront properties with backflow risks and drainage challenges\",\n          \"Fall lake level drops exposing dock plumbing and irrigation intake systems that need seasonal adjustment\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"What special plumbing considerations do Marble Falls lakefront homes require?\",\n            answer: \"Lakefront properties in Marble Falls need several specialized systems: backflow preventers to protect against lake water entering home plumbing, outdoor shower and boat wash stations with proper drainage, irrigation systems with lake intake management for varying water levels, and humidity control since lake properties experience 20-30% higher moisture levels that accelerate pipe corrosion. We also recommend whole-house surge protection since lakefront homes are more vulnerable to lightning strikes. For seasonal occupants, we can install automatic shutoff systems and leak detection that alert you remotely if problems develop while you're away.\"\n          }),\n          JSON.stringify({\n            question: \"Can you work on historic homes in Marble Falls' Victorian district?\",\n            answer: \"Yes, we specialize in historic home plumbing in Marble Falls. The Victorian district homes often have original cast iron, galvanized, or even lead pipes that need replacement. We use minimally invasive techniques like PEX repiping through existing wall cavities, attic access, and careful excavation that preserves historic foundations. We understand local preservation guidelines and work to maintain your home's character while providing modern plumbing performance. We can also source period-appropriate fixtures or retrofit modern internals into vintage fixtures to maintain aesthetic consistency.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Linda and George T.\",\n            neighborhood: \"Lakeside Estates\",\n            text: \"Our lakefront home needed a complete outdoor plumbing system for our boat dock and outdoor kitchen. Economy Plumbing designed a custom system that handles lake water and city water perfectly. They're true lake house specialists!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Barbara S.\",\n            neighborhood: \"Victorian District\",\n            text: \"Economy Plumbing completely repiped our 1895 Victorian home while preserving all the original woodwork and character. They understand Marble Falls historic homes and worked with incredible care and expertise.\",\n            rating: 5\n          })\n        ],\n        population: \"9,413\",\n        zipCodes: [\"78654\", \"78657\"],\n        latitude: \"30.5754\",\n        longitude: \"-98.2714\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Burnet\",\n        slug: \"burnet\",\n        region: \"marble-falls\",\n        metaDescription: \"Trusted plumbing services in Burnet, TX. Serving the county seat and all Burnet area homes. Highland Lakes region plumbing specialists since 2012.\",\n        introContent: \"Burnet's rich history as the Williamson County seat and gateway to the Highland Lakes creates a unique plumbing landscape that blends small-town Texas character with modern lakeside living. Named for David Gouverneur Burnet, the first president of the Republic of Texas, this community of over 6,700 residents serves as both a historic county seat and the commercial heart of the Highland Lakes region. Economy Plumbing understands Burnet's dual nature, serving everything from historic courthouse square buildings to modern lakefront developments along Lake Buchanan and Inks Lake. The city's position along the Colorado River and its role as a Highland Lakes recreation hub means plumbing systems must handle both permanent residents and seasonal lake visitors. Burnet's limestone and granite geology, similar to nearby Marble Falls, creates challenges for underground work while also contributing to the area's exceptionally hard water. The county seat's mix of government buildings, historic homes, and newer residential developments requires plumbing expertise across a wide spectrum. Our technicians know Burnet's infrastructure intimately, from the vintage systems in downtown historic buildings to modern lake house amenities in surrounding developments.\",\n        neighborhoods: [\"Downtown Burnet\", \"Fort Croghan area\", \"Lakeview Estates\", \"Burnet Highlands\", \"River Oaks\", \"Shady Grove\", \"Burnet West\", \"County Road communities\"],\n        landmarks: [\"Burnet County Courthouse\", \"Fort Croghan Museum\", \"Lake Buchanan (nearby)\", \"Inks Lake (nearby)\", \"Historic downtown square\"],\n        localPainPoints: [\n          \"Historic downtown buildings with aging plumbing infrastructure requiring sensitive upgrades to meet modern codes\",\n          \"Private well systems in county areas surrounding Burnet requiring specialized maintenance and water treatment\",\n          \"Extremely hard water from limestone aquifers causing severe scaling and reduced water heater lifespan\",\n          \"Granite and limestone bedrock making traditional excavation for sewer repairs nearly impossible in many locations\",\n          \"Mixed municipal and well water systems across the area creating varied water quality requiring different treatment approaches\"\n        ],\n        seasonalIssues: [\n          \"Summer Highland Lakes tourism bringing population surges that stress municipal water systems during peak periods\",\n          \"Winter freeze events particularly damaging in older homes and buildings with minimal insulation and exposed pipes\",\n          \"Spring flooding along Colorado River affecting low-lying properties with drainage and backflow prevention needs\",\n          \"Fall when lake levels drop exposing seasonal irrigation and lake house plumbing systems requiring winterization\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"Why is Burnet's water so hard and what can I do about it?\",\n            answer: \"Burnet sits on Edwards limestone and granite formations, and as water percolates through these rocks, it absorbs calcium and magnesium creating hardness levels of 25-35 grains per gallon - among the hardest in Texas. This causes white scale on fixtures, dramatically reduces water heater efficiency (sometimes by 40% or more), and can eventually clog pipes. For Burnet homes, we strongly recommend whole-house water softening systems, preferably high-capacity models designed for extreme hardness. We also recommend annual water heater flushing to remove accumulated sediment before it causes damage. For well water homes, we can test your specific water and design a comprehensive treatment system.\"\n          }),\n          JSON.stringify({\n            question: \"I'm buying a historic home in downtown Burnet. What plumbing issues should I expect?\",\n            answer: \"Historic Burnet homes often have original galvanized or cast iron pipes, sometimes dating back to the early 1900s. These pipes corrode from the inside out, causing rusty water, low pressure, and eventually leaks. Many historic homes also have outdated fixtures, insufficient water heater capacity for modern needs, and plumbing that doesn't meet current codes. We recommend comprehensive plumbing inspections before purchase, budgeting for likely repiping (which we can do with minimal wall damage using modern techniques), and planning for water heater upgrades. We work within historic preservation guidelines and can help maintain your home's character while modernizing its plumbing.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Tom H.\",\n            neighborhood: \"Downtown Burnet\",\n            text: \"Our historic building near the courthouse square needed complete plumbing upgrades to meet code. Economy Plumbing worked with the city and historical society to do it right. They understand Burnet's historic properties!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Susan and Jim K.\",\n            neighborhood: \"Shady Grove\",\n            text: \"We're on a well system and had terrible hard water issues. Economy Plumbing installed a comprehensive treatment system and our water quality is amazing now. They know Burnet's well water challenges inside and out!\",\n            rating: 5\n          })\n        ],\n        population: \"6,710\",\n        zipCodes: [\"78611\"],\n        latitude: \"30.7582\",\n        longitude: \"-98.2284\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Horseshoe Bay\",\n        slug: \"horseshoe-bay\",\n        region: \"marble-falls\",\n        metaDescription: \"Luxury plumbing services in Horseshoe Bay, TX. Serving resort properties, golf course homes, and lakefront estates. High-end plumbing specialists.\",\n        introContent: \"Horseshoe Bay's status as one of Texas's premier resort communities creates plumbing demands that are sophisticated, unique, and uncompromising in their requirements. This affluent community of over 4,700 residents spreads across 7,000 acres on the shores of Lake Lyndon B. Johnson, featuring the renowned Horseshoe Bay Resort with four championship golf courses designed by Robert Trent Jones Sr. and Jack Nicklaus. Economy Plumbing has earned the trust of Horseshoe Bay's discerning residents and property managers, understanding the specific needs of luxury lakefront estates, resort facilities, and high-end vacation properties. The community's split between Llano and Burnet Counties, combined with its lakeside location and upscale amenities, creates unique plumbing challenges. Many properties are seasonal residences requiring specialized systems that maintain integrity during vacancy periods. The resort's world-class facilities, including spas, swimming pools, and dining establishments, demand commercial-grade plumbing expertise. Our technicians are experts in Horseshoe Bay's luxury market, from installing sophisticated whole-house automation systems to maintaining the complex plumbing in lakefront estates with outdoor kitchens, infinity pools, and boat house facilities.\",\n        neighborhoods: [\"Resort Area\", \"The Waters at Horseshoe Bay\", \"Apple Rock Estates\", \"Slick Rock area\", \"Summit Rock community\", \"Paseo Villas\", \"Lakefront estates\", \"Golf course communities\"],\n        landmarks: [\"Horseshoe Bay Resort\", \"Summit Rock Golf Course\", \"Slick Rock Golf Course\", \"Lake Lyndon B. Johnson\", \"Horseshoe Bay Marina\"],\n        localPainPoints: [\n          \"Luxury lakefront homes requiring sophisticated plumbing systems including outdoor kitchens, infinity pools, and spa facilities\",\n          \"Seasonal occupancy patterns creating plumbing failures when high-end homes sit vacant for extended periods\",\n          \"Resort-grade water quality demands requiring advanced filtration and treatment systems for discerning homeowners\",\n          \"Lake LBJ's constant water levels enabling year-round lake amenities but creating unique dock and outdoor plumbing challenges\",\n          \"High-end fixtures and European appliances requiring specialized knowledge and parts sourcing for repairs\"\n        ],\n        seasonalIssues: [\n          \"Summer resort season creating peak demands on water systems as vacation homes reach full occupancy\",\n          \"Winter snowbird departures requiring comprehensive plumbing winterization for vacant luxury properties\",\n          \"Spring golf season opening revealing plumbing issues in clubhouse facilities and golf course irrigation systems\",\n          \"Fall when second-home owners return finding plumbing failures that occurred during summer vacancy periods\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"What plumbing systems should my Horseshoe Bay vacation home have?\",\n            answer: \"Luxury vacation homes in Horseshoe Bay benefit from several specialized systems: whole-house leak detection with remote monitoring so you're alerted immediately if problems develop while you're away, automatic water shutoff systems that close the main valve if leaks are detected, recirculation pumps for instant hot water at every fixture, whole-house water treatment for resort-quality water, and winterization capabilities for extended vacancies. We also recommend smart home integration so you can monitor water usage, control systems remotely, and receive alerts on your phone. For lakefront properties, we design custom outdoor kitchens, pool systems, and dock facilities that meet the highest standards.\"\n          }),\n          JSON.stringify({\n            question: \"Can you service high-end European fixtures and appliances common in Horseshoe Bay?\",\n            answer: \"Absolutely. We specialize in luxury European brands popular in Horseshoe Bay including Dornbracht, Gessi, Duravit, and others. We maintain relationships with specialty suppliers for parts, understand the technical requirements of these sophisticated systems, and have experience with the integration challenges they present. Whether it's a Miele dishwasher requiring specific water pressure and temperature, a European wall-hung toilet system, or a high-end spa shower with multiple body jets, we have the expertise to install, maintain, and repair these premium systems. We also offer preventive maintenance contracts for Horseshoe Bay luxury homes to keep everything running perfectly.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Richard and Patricia W.\",\n            neighborhood: \"The Waters\",\n            text: \"Our lakefront condo at The Waters needed a complete plumbing upgrade including a spa bathroom and outdoor kitchen. Economy Plumbing delivered resort-quality work with attention to every detail. They understand Horseshoe Bay's standards!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Donald M.\",\n            neighborhood: \"Summit Rock\",\n            text: \"We're only in our Summit Rock home seasonally. Economy Plumbing installed a complete monitoring and shutoff system that alerts us to any issues. They've maintained our complex plumbing systems perfectly for years. True luxury plumbing specialists!\",\n            rating: 5\n          })\n        ],\n        population: \"4,756\",\n        zipCodes: [\"78657\"],\n        latitude: \"30.5405\",\n        longitude: \"-98.3697\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Kingsland\",\n        slug: \"kingsland\",\n        region: \"marble-falls\",\n        metaDescription: \"Expert plumbing services in Kingsland, TX. Serving lakefront homes, The Slab area, and all Kingsland properties. Highland Lakes plumbing specialists.\",\n        introContent: \"Kingsland's transformation from a railroad resort town to a modern Highland Lakes community has created unique plumbing needs that blend historic preservation with lakeside living. Situated at the confluence of the Colorado and Llano rivers where they form Lake Lyndon B. Johnson, this community of over 7,200 residents offers a quintessential Texas lake town experience. Economy Plumbing understands Kingsland's distinctive character, serving everything from the restored Victorian-era Antlers Hotel to modern lakefront estates with sophisticated amenities. The town's history as a railroad resort destination means many properties have vintage plumbing systems requiring expert restoration, while newer lakefront developments demand cutting-edge outdoor living features. Kingsland's position along Lake LBJ creates specific challenges - properties at varying elevations experience different water pressure, lake house features require specialized installations, and seasonal flooding along the rivers affects low-lying areas. The area's popularity with retirees and vacation home owners means many properties experience seasonal occupancy patterns that stress plumbing systems. Our technicians know every corner of Kingsland, from The Slab swimming area to lakefront developments, and understand the unique demands of this historic Highland Lakes community.\",\n        neighborhoods: [\"Lakefront properties\", \"Historic Kingsland\", \"The Slab area\", \"River Bend\", \"Llano River Estates\", \"Kingsland Shores\", \"Highland Lakes Estates\", \"County Road communities\"],\n        landmarks: [\"The Slab (Llano River)\", \"Antlers Hotel\", \"Lake Lyndon B. Johnson\", \"Texas Chainsaw House\", \"Kingsland Old Tunnel\"],\n        localPainPoints: [\n          \"Historic properties including Antlers Hotel requiring expert restoration plumbing that maintains vintage character\",\n          \"Lake LBJ water level fluctuations affecting dock plumbing and lake-fed irrigation systems requiring seasonal adjustments\",\n          \"Seasonal occupancy in vacation homes creating plumbing failures during vacant periods from lack of use\",\n          \"River flooding from Llano and Colorado confluence affecting low-lying properties with backflow and drainage challenges\",\n          \"Mixed well and municipal water systems across the area requiring different treatment approaches for varying water quality\"\n        ],\n        seasonalIssues: [\n          \"Summer lake season creating peak water demands as vacation homes reach capacity and outdoor amenities run constantly\",\n          \"Winter freezes particularly damaging in older homes and seasonal properties with minimal winterization\",\n          \"Spring flooding at river confluence requiring backflow preventer maintenance and sump pump readiness in vulnerable areas\",\n          \"Fall lake level stabilization exposing dock plumbing and irrigation intake systems requiring adjustment or repair\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"How does Lake LBJ's water level affect my Kingsland home's plumbing?\",\n            answer: \"Unlike other Highland Lakes, Lake LBJ maintains relatively constant water levels year-round, which is actually beneficial for plumbing systems. However, we still see seasonal variations of 1-3 feet that can affect dock plumbing, lake water intake for irrigation, and boat lift systems. For lakefront homes, we recommend installing adjustable intake systems for irrigation that can accommodate level changes, using flexible connections for dock water supplies, and proper backflow prevention since lake water can sometimes approach home water lines during high water events. We also suggest annual inspections before summer season to ensure all lake-related plumbing is functioning properly.\"\n          }),\n          JSON.stringify({\n            question: \"What should I know about plumbing in Kingsland's historic properties?\",\n            answer: \"Many Kingsland historic homes and the famous Antlers Hotel date to the early 1900s railroad resort era. These properties often have original galvanized or cast iron pipes, vintage fixtures with non-standard parts, and plumbing that doesn't meet modern codes. We specialize in historic property plumbing, using techniques that preserve character while providing modern performance - PEX repiping through existing pipe chases, retrofitting modern internals into vintage fixtures, and working within preservation guidelines. For commercial historic properties, we understand health code requirements while respecting the building's heritage. We can also source period-appropriate fixtures or create custom solutions that maintain authentic appearance.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Mark and Debbie F.\",\n            neighborhood: \"Lakefront\",\n            text: \"Our lake house dock had major plumbing issues including the outdoor shower and boat wash station. Economy Plumbing redesigned the whole system to handle Lake LBJ water level changes. They're true lake plumbing experts!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Gary T.\",\n            neighborhood: \"Historic Kingsland\",\n            text: \"Bought a 1920s home in historic Kingsland that needed complete repiping. Economy Plumbing did beautiful work preserving all the original character while giving us modern, reliable plumbing. Highly recommend for historic properties!\",\n            rating: 5\n          })\n        ],\n        population: \"7,246\",\n        zipCodes: [\"78639\"],\n        latitude: \"30.6597\",\n        longitude: \"-98.4392\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Granite Shoals\",\n        slug: \"granite-shoals\",\n        region: \"marble-falls\",\n        metaDescription: \"Reliable plumbing services in Granite Shoals, TX. Serving Sherwood Shores and all Lake LBJ communities. City of Parks plumbing specialists.\",\n        introContent: \"Granite Shoals' unique identity as the 'City of Parks' with 19 parks, 16 on Lake LBJ's shores, creates distinctive plumbing demands that center around waterfront living and outdoor recreation. This community of over 5,600 residents developed from what was once Texas's largest platted subdivision, Sherwood Shores, spreading along Lake Lyndon B. Johnson's eastern shore in Burnet County. Economy Plumbing has served Granite Shoals families since the community's early days, understanding the specific needs of lakefront properties, park facilities, and homes built during the city's rapid 1960s-1970s development. Granite Shoals' name comes from the pink granite bedrock visible along the Colorado River before Lake LBJ's creation, and this same granite creates challenges for any underground plumbing work today. The city's extensive park system with lake access creates unique community infrastructure demands, while individual homes often feature outdoor kitchens, boat docks, and irrigation systems drawing from the lake. Many properties are second homes or retirement residences, creating seasonal occupancy patterns. Our technicians understand Granite Shoals' lakefront lifestyle, from maintaining dock facilities to servicing homes built during the subdivision's pioneering days.\",\n        neighborhoods: [\"Sherwood Shores\", \"Lakefront estates\", \"Sherwood Downs\", \"Woodland Hills\", \"Lakecrest\", \"Clear Cove\", \"East Bay\", \"Greenbriar\"],\n        landmarks: [\"Lake Lyndon B. Johnson waterfront\", \"Quarry Park\", \"Veterans Memorial Park\", \"Leo Manzano Trail\", \"16 lakefront parks\"],\n        localPainPoints: [\n          \"Original 1960s-1970s Sherwood Shores plumbing now 50-60 years old experiencing widespread failures and requiring complete replacement\",\n          \"Pink granite bedrock making traditional excavation impossible requiring trenchless repair methods for sewer work\",\n          \"Lake LBJ waterfront properties requiring specialized dock plumbing and outdoor amenities with corrosion-resistant materials\",\n          \"Seasonal occupancy patterns causing plumbing failures when vacation homes sit unused for extended periods\",\n          \"Hard water from lake and well sources creating severe scaling in water heaters and requiring aggressive treatment systems\"\n        ],\n        seasonalIssues: [\n          \"Summer lake season creating peak demands on aging infrastructure as vacation homes fill and outdoor amenities run constantly\",\n          \"Winter freezes particularly damaging in older Sherwood Shores homes built with minimal cold weather protection\",\n          \"Spring storms and flooding affecting lakefront properties with drainage challenges and backflow prevention needs\",\n          \"Fall when summer residents depart revealing plumbing failures that occurred during peak usage months\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"My Sherwood Shores home is from the 1960s. What plumbing issues should I expect?\",\n            answer: \"Original Sherwood Shores homes (1960s-1970s) typically have galvanized steel or early copper pipes that are now 50-60 years old - well past their expected lifespan. We commonly see severe corrosion causing rusty water and low pressure, pinhole leaks in copper pipes, outdated fixtures, and water heaters that are grossly undersized for modern needs. The good news is that Granite Shoals' granite bedrock, while challenging, means foundations are stable and we can repipe using modern PEX through attics and crawl spaces with minimal wall damage. We recommend comprehensive plumbing inspections for all Sherwood Shores homes, with budgeting for likely full repiping within the next few years if it hasn't been done already.\"\n          }),\n          JSON.stringify({\n            question: \"What makes lakefront plumbing different in Granite Shoals?\",\n            answer: \"Granite Shoals lakefront homes on Lake LBJ need several specialized considerations: outdoor showers and boat wash stations with proper drainage, dock water supplies using corrosion-resistant materials (stainless steel or special brass) since lake moisture accelerates corrosion, irrigation systems that can draw from the lake with proper backflow prevention, and humidity control since lake properties experience 20-30% higher moisture that damages pipes faster. We also recommend whole-house surge protection since waterfront homes are more vulnerable to lightning. For seasonal occupants, automatic shutoff systems and remote monitoring prevent disasters while you're away.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Carol and Jim B.\",\n            neighborhood: \"Sherwood Shores\",\n            text: \"Our 1968 Sherwood Shores home had original galvanized pipes that finally gave out. Economy Plumbing completely repiped using PEX through the attic - minimal wall damage and now we have great pressure and clean water!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Steve R.\",\n            neighborhood: \"Lakecrest\",\n            text: \"Needed a complete outdoor plumbing system for our lake house including dock water, outdoor kitchen, and boat wash station. Economy Plumbing designed a custom system using marine-grade materials. They know Granite Shoals lakefront needs!\",\n            rating: 5\n          })\n        ],\n        population: \"5,651\",\n        zipCodes: [\"78654\"],\n        latitude: \"30.5891\",\n        longitude: \"-98.3839\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Bertram\",\n        slug: \"bertram\",\n        region: \"marble-falls\",\n        metaDescription: \"Quality plumbing services in Bertram, TX. Serving historic downtown and all Bertram area homes. Gateway to Hill Country plumbing experts.\",\n        introContent: \"Bertram's small-town charm and position as the gateway to the Hill Country create plumbing challenges that blend historic preservation with rural Texas infrastructure needs. This tight-knit community of over 2,000 residents in eastern Burnet County maintains its connection to both railroad heritage and agricultural roots while serving modern families drawn to its affordable housing and excellent schools. Economy Plumbing understands Bertram's dual nature, serving historic downtown buildings dating to the town's 1882 founding alongside newer residential developments. Located just 37 miles northwest of Austin on Highway 29, Bertram attracts families seeking small-town living with big-city access. The town's historic red brick schoolhouse, now Bertram Elementary and a National Blue Ribbon School, represents the community's commitment to quality - a value we share in our plumbing services. Bertram's position in the Hill Country means homes may rely on well water, municipal supplies, or a mix of both, creating varied water quality challenges. The town's elevation and limestone geology affect water pressure and underground utility work. Our technicians know Bertram's infrastructure intimately, from the historic downtown buildings to rural properties on the outskirts.\",\n        neighborhoods: [\"Historic Downtown Bertram\", \"Bertram Estates\", \"North Bertram\", \"South Bertram\", \"FM 243 corridor\", \"Highway 29 properties\"],\n        landmarks: [\"Bertram Train Depot\", \"Red Brick School House (Bertram Elementary)\", \"Chief Wilson Baseball Field\", \"Oatmeal Festival grounds (nearby)\", \"Historic Main Street\"],\n        localPainPoints: [\n          \"Historic downtown buildings with century-old plumbing requiring expert restoration work that meets modern codes\",\n          \"Rural properties on well water systems needing specialized treatment for hard Hill Country groundwater\",\n          \"Aging infrastructure in older homes built during Bertram's railroad era experiencing simultaneous failures\",\n          \"Limited municipal services in outlying areas requiring self-contained plumbing solutions and septic systems\",\n          \"Hard water from limestone aquifer sources causing severe scaling and requiring aggressive treatment approaches\"\n        ],\n        seasonalIssues: [\n          \"Summer drought stress on private wells as water tables drop requiring pump adjustments and conservation measures\",\n          \"Winter freeze damage particularly severe in older homes with minimal insulation and exposed plumbing\",\n          \"Spring Oatmeal Festival (Labor Day) bringing visitor influx that stresses downtown plumbing and septic systems\",\n          \"Fall when families settle into school routines revealing plumbing issues that went unnoticed during active summer months\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"I'm buying a historic home in downtown Bertram. What plumbing should I expect?\",\n            answer: \"Historic Bertram homes, especially those dating to the railroad era (1880s-1920s), typically have original galvanized or cast iron pipes, outdated fixtures, and plumbing that doesn't meet current codes. We commonly see severe corrosion, low water pressure from mineral buildup, and inadequate water heater capacity. The good news is we can modernize these systems while preserving historic character - using PEX repiping through existing chases, accessing from attics or crawl spaces, and making minimal, reversible modifications. We recommend comprehensive inspections before purchase and budgeting for likely repiping. We work within historic preservation considerations and can help maintain your home's authentic character.\"\n          }),\n          JSON.stringify({\n            question: \"Should I keep my Bertram well system or connect to city water?\",\n            answer: \"This depends on your well's performance, your water quality needs, and long-term plans. Bertram well water is typically very hard (25-35 grains) from limestone, but it's free of chlorine and ongoing costs. Wells require electricity (problematic in outages), periodic maintenance, and water treatment systems. City water provides consistent pressure and quality but comes with monthly bills. We can test your well water, assess your system's condition, and help you decide. Many Bertram residents keep wells for irrigation while using city water for the house - we can design hybrid systems that give you the best of both worlds.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Mary Beth T.\",\n            neighborhood: \"Historic Downtown\",\n            text: \"Our 1910 home near Main Street needed complete plumbing updates. Economy Plumbing preserved all our original woodwork while giving us modern, code-compliant plumbing. They understand Bertram's historic homes!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Frank M.\",\n            neighborhood: \"North Bertram\",\n            text: \"We're on a well system and had terrible pressure and hard water issues. Economy Plumbing installed a new pressure tank, updated our pump, and added a whole-house treatment system. They know Bertram well water inside and out!\",\n            rating: 5\n          })\n        ],\n        population: \"2,020\",\n        zipCodes: [\"78605\"],\n        latitude: \"30.7442\",\n        longitude: \"-98.0556\"\n      },\n      {\n        id: randomUUID(),\n        cityName: \"Spicewood\",\n        slug: \"spicewood\",\n        region: \"marble-falls\",\n        metaDescription: \"Premier plumbing services in Spicewood, TX. Serving Lake Travis waterfront, Lakecliff, The Reserve, and all Spicewood communities. Luxury lake specialists.\",\n        introContent: \"Spicewood's evolution from a rural Hill Country community to one of Lake Travis's most prestigious addresses has created plumbing demands that are sophisticated, diverse, and uniquely challenging. This unincorporated community of nearly 12,000 residents stretches along Lake Travis's southern shoreline, encompassing everything from multi-million dollar waterfront estates to more modest Hill Country properties on the area's western reaches. Economy Plumbing has served Spicewood through its dramatic transformation, understanding the specific needs of luxury developments like Lakecliff on Lake Travis and The Reserve at Lake Travis, while also maintaining expertise in the area's rural properties and well systems. Spicewood's position straddling Burnet, Travis, and Blanco Counties creates varied infrastructure, with some neighborhoods on municipal water and others relying on private wells. The community's proximity to Lake Travis means many homes feature elaborate outdoor living spaces, infinity pools, boat houses, and lake-fed irrigation systems. The upcoming Thomas Ranch development will add thousands of homes, further diversifying Spicewood's plumbing landscape. Our technicians are experts in Spicewood's luxury market while maintaining the versatility to serve all property types in this diverse Hill Country community.\",\n        neighborhoods: [\"Lakecliff on Lake Travis\", \"The Reserve at Lake Travis\", \"Barton Creek Lakeside\", \"Paleface Ranch\", \"Briarcliff\", \"The Coves on Lake Travis\", \"Spicewood Beach\", \"West Cypress Hills\"],\n        landmarks: [\"Lake Travis waterfront\", \"Krause Springs\", \"Pace Bend Park\", \"Cypress Valley Canopy Tours\", \"Spicewood Vineyards\"],\n        localPainPoints: [\n          \"Luxury waterfront estates requiring sophisticated systems including infinity pools, outdoor kitchens, and smart home integration\",\n          \"Lake Travis water level fluctuations affecting dock plumbing and lake-fed irrigation requiring seasonal adjustments\",\n          \"Mixed infrastructure with luxury developments on city water adjacent to rural properties on private wells creating varied service needs\",\n          \"Extremely hard water from limestone aquifer sources requiring commercial-grade treatment systems for discriminating homeowners\",\n          \"High-end European fixtures and appliances common in luxury homes requiring specialized expertise and parts sourcing\"\n        ],\n        seasonalIssues: [\n          \"Summer Lake Travis recreation season creating peak demands as vacation homes reach capacity and outdoor amenities run constantly\",\n          \"Winter lake level drops exposing dock plumbing and irrigation intake systems requiring adjustment or winterization\",\n          \"Spring wildfire season (post-2011 fires) keeping homeowners vigilant about outdoor plumbing and proper clearances\",\n          \"Fall when second-home owners return after summer finding plumbing failures that developed during vacancy\"\n        ],\n        uniqueFaqs: [\n          JSON.stringify({\n            question: \"What plumbing systems does my Spicewood luxury home need?\",\n            answer: \"High-end Spicewood homes on Lake Travis benefit from several sophisticated systems: whole-house water treatment (often reverse osmosis) for resort-quality water, hot water recirculation for instant hot water at every fixture, smart home integration with remote monitoring and control, automatic leak detection with shutoff capabilities, outdoor kitchen and pool systems with proper drainage and backflow prevention, and dock plumbing designed for Lake Travis water level changes. For second homes, we recommend comprehensive monitoring systems that alert you to any issues remotely. We specialize in integrating these complex systems seamlessly, often working with architects and builders during construction to ensure optimal placement and performance.\"\n          }),\n          JSON.stringify({\n            question: \"How does Lake Travis water level affect my Spicewood home's plumbing?\",\n            answer: \"Lake Travis can fluctuate 20-40 feet seasonally, which significantly affects waterfront plumbing. Dock water supplies need flexible connections that accommodate level changes, irrigation intake systems require adjustable depth capability or must switch to city water during low periods, and boat lifts may need plumbing modifications based on lake levels. We design Lake Travis systems with this variability in mind, using adjustable intakes, dual-source irrigation (lake and city), and proper backflow prevention since lake water can approach property water lines during high water. We also recommend monitoring systems that alert you to level-related plumbing issues before they cause damage.\"\n          })\n        ],\n        testimonials: [\n          JSON.stringify({\n            name: \"Michael and Jennifer K.\",\n            neighborhood: \"Lakecliff\",\n            text: \"Our Lakecliff estate needed a complete luxury plumbing system including infinity pool, outdoor kitchen, wine room cooling, and smart home integration. Economy Plumbing delivered flawless work. They're true luxury Lake Travis specialists!\",\n            rating: 5\n          }),\n          JSON.stringify({\n            name: \"Robert S.\",\n            neighborhood: \"The Reserve\",\n            text: \"We're only in our Reserve home seasonally. Economy Plumbing installed comprehensive monitoring with automatic shutoff and remote alerts. They've maintained our complex systems perfectly - dock, pool, outdoor kitchen, everything. Highly recommend!\",\n            rating: 5\n          })\n        ],\n        population: \"11,980\",\n        zipCodes: [\"78669\"],\n        latitude: \"30.4756\",\n        longitude: \"-98.1564\"\n      }\n    ];\n\n    areas.forEach(area => this.serviceAreas.set(area.id, area));\n  }\n\n  async getUser(id: string): Promise<User | undefined> {\n    return this.users.get(id);\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    return Array.from(this.users.values()).find(\n      (user) => user.username === username,\n    );\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const id = randomUUID();\n    const user: User = { ...insertUser, id };\n    this.users.set(id, user);\n    return user;\n  }\n\n  async getBlogPosts(): Promise<BlogPost[]> {\n    return Array.from(this.blogPosts.values())\n      .filter(post => post.published)\n      .sort((a, b) => b.publishDate.getTime() - a.publishDate.getTime());\n  }\n\n  async getBlogPostBySlug(slug: string): Promise<BlogPost | undefined> {\n    return Array.from(this.blogPosts.values()).find(post => post.slug === slug);\n  }\n\n  async createBlogPost(insertPost: InsertBlogPost): Promise<BlogPost> {\n    const id = randomUUID();\n    const post: BlogPost = {\n      id,\n      title: insertPost.title,\n      slug: insertPost.slug,\n      content: insertPost.content,\n      excerpt: insertPost.excerpt ?? null,\n      author: insertPost.author ?? \"Economy Plumbing\",\n      publishDate: new Date(),\n      category: insertPost.category,\n      featuredImage: insertPost.featuredImage ?? null,\n      imageId: null,\n      metaDescription: insertPost.metaDescription ?? null,\n      published: insertPost.published ?? true,\n      isScheduled: false,\n      scheduledFor: null,\n      generatedByAI: false\n    };\n    this.blogPosts.set(id, post);\n    return post;\n  }\n\n  async updateBlogPost(id: string, updates: Partial<InsertBlogPost>): Promise<BlogPost> {\n    const post = this.blogPosts.get(id);\n    if (!post) {\n      throw new Error(`Blog post with id ${id} not found`);\n    }\n    \n    const updatedPost = { ...post, ...updates };\n    this.blogPosts.set(id, updatedPost);\n    return updatedPost;\n  }\n\n  async getProducts(): Promise<Product[]> {\n    return Array.from(this.products.values()).filter(p => p.active);\n  }\n\n  async getProductBySlug(slug: string): Promise<Product | undefined> {\n    return Array.from(this.products.values()).find(p => p.slug === slug);\n  }\n\n  async getProductById(id: string): Promise<Product | undefined> {\n    return this.products.get(id);\n  }\n\n  async createProduct(insertProduct: InsertProduct): Promise<Product> {\n    const id = randomUUID();\n    const product: Product = {\n      id,\n      name: insertProduct.name,\n      slug: insertProduct.slug,\n      description: insertProduct.description,\n      price: insertProduct.price,\n      category: insertProduct.category,\n      image: insertProduct.image ?? null,\n      stripeProductId: insertProduct.stripeProductId ?? null,\n      stripePriceId: insertProduct.stripePriceId ?? null,\n      features: insertProduct.features ?? null,\n      active: insertProduct.active ?? true,\n      serviceTitanMembershipTypeId: insertProduct.serviceTitanMembershipTypeId ?? null,\n      serviceTitanEnabled: insertProduct.serviceTitanEnabled ?? false\n    };\n    this.products.set(id, product);\n    return product;\n  }\n\n  async createContactSubmission(insertSubmission: InsertContactSubmission): Promise<ContactSubmission> {\n    const id = randomUUID();\n    const submission: ContactSubmission = {\n      id,\n      name: insertSubmission.name,\n      phone: insertSubmission.phone,\n      email: insertSubmission.email ?? null,\n      service: insertSubmission.service ?? null,\n      location: insertSubmission.location ?? null,\n      urgency: insertSubmission.urgency ?? null,\n      message: insertSubmission.message ?? null,\n      pageContext: insertSubmission.pageContext ?? null,\n      submittedAt: new Date()\n    };\n    this.contactSubmissions.set(id, submission);\n    return submission;\n  }\n\n  async createCustomerSuccessStory(insertStory: InsertCustomerSuccessStory): Promise<CustomerSuccessStory> {\n    const id = randomUUID();\n    const story: CustomerSuccessStory = {\n      id,\n      customerName: insertStory.customerName,\n      email: insertStory.email ?? null,\n      phone: insertStory.phone ?? null,\n      story: insertStory.story,\n      beforePhotoUrl: insertStory.beforePhotoUrl,\n      afterPhotoUrl: insertStory.afterPhotoUrl,\n      collagePhotoUrl: null,\n      jpegCollagePhotoUrl: null,\n      serviceCategory: insertStory.serviceCategory,\n      location: insertStory.location,\n      approved: false,\n      submittedAt: new Date()\n    };\n    this.customerSuccessStories.set(id, story);\n    return story;\n  }\n\n  async getApprovedSuccessStories(): Promise<CustomerSuccessStory[]> {\n    return Array.from(this.customerSuccessStories.values()).filter(story => story.approved);\n  }\n\n  async getAllSuccessStories(): Promise<CustomerSuccessStory[]> {\n    return Array.from(this.customerSuccessStories.values());\n  }\n\n  async approveSuccessStory(id: string, collagePhotoUrl: string, jpegCollagePhotoUrl?: string): Promise<CustomerSuccessStory> {\n    const story = this.customerSuccessStories.get(id);\n    if (!story) {\n      throw new Error(`Success story with id ${id} not found`);\n    }\n    story.approved = true;\n    story.collagePhotoUrl = collagePhotoUrl;\n    story.jpegCollagePhotoUrl = jpegCollagePhotoUrl || null;\n    this.customerSuccessStories.set(id, story);\n    return story;\n  }\n\n  async unapproveSuccessStory(id: string): Promise<CustomerSuccessStory> {\n    const story = this.customerSuccessStories.get(id);\n    if (!story) {\n      throw new Error(`Success story with id ${id} not found`);\n    }\n    story.approved = false;\n    story.collagePhotoUrl = null;\n    story.jpegCollagePhotoUrl = null;\n    this.customerSuccessStories.set(id, story);\n    return story;\n  }\n\n  async updateSuccessStory(id: string, updates: Partial<Pick<CustomerSuccessStory, 'customerName' | 'story' | 'location' | 'jpegCollagePhotoUrl' | 'collagePhotoUrl' | 'beforePhotoUrl' | 'afterPhotoUrl' | 'beforeFocalX' | 'beforeFocalY' | 'afterFocalX' | 'afterFocalY'>>): Promise<CustomerSuccessStory> {\n    const story = this.customerSuccessStories.get(id);\n    if (!story) {\n      throw new Error(`Success story with id ${id} not found`);\n    }\n    const updatedStory = { ...story, ...updates };\n    this.customerSuccessStories.set(id, updatedStory);\n    return updatedStory;\n  }\n\n  async deleteSuccessStory(id: string): Promise<void> {\n    this.customerSuccessStories.delete(id);\n  }\n\n  async getServiceAreaBySlug(slug: string): Promise<ServiceArea | undefined> {\n    return Array.from(this.serviceAreas.values()).find(area => area.slug === slug);\n  }\n\n  async getAllServiceAreas(): Promise<ServiceArea[]> {\n    return Array.from(this.serviceAreas.values());\n  }\n\n  async createServiceArea(area: InsertServiceArea): Promise<ServiceArea> {\n    const id = randomUUID();\n    const newArea: ServiceArea = {\n      id,\n      slug: area.slug,\n      metaDescription: area.metaDescription,\n      cityName: area.cityName,\n      region: area.region,\n      introContent: area.introContent,\n      neighborhoods: area.neighborhoods ?? null,\n      landmarks: area.landmarks ?? null,\n      localPainPoints: area.localPainPoints ?? null,\n      seasonalIssues: area.seasonalIssues ?? null,\n      uniqueFaqs: area.uniqueFaqs ?? null,\n      testimonials: area.testimonials ?? null,\n      population: area.population ?? null,\n      zipCodes: area.zipCodes ?? null,\n      latitude: area.latitude ?? null,\n      longitude: area.longitude ?? null\n    };\n    this.serviceAreas.set(id, newArea);\n    return newArea;\n  }\n\n  async getGoogleReviews(): Promise<GoogleReview[]> {\n    return Array.from(this.googleReviews.values());\n  }\n\n  async saveGoogleReviews(reviews: InsertGoogleReview[]): Promise<void> {\n    for (const review of reviews) {\n      const id = randomUUID();\n      const googleReview: GoogleReview = {\n        id,\n        authorName: review.authorName,\n        authorUrl: review.authorUrl ?? null,\n        profilePhotoUrl: review.profilePhotoUrl ?? null,\n        rating: review.rating,\n        text: review.text,\n        relativeTime: review.relativeTime,\n        timestamp: review.timestamp,\n        categories: review.categories || [],\n        fetchedAt: new Date(),\n        source: review.source || 'places_api',\n        reviewId: review.reviewId ?? null,\n      };\n      this.googleReviews.set(id, googleReview);\n    }\n  }\n\n  async deleteGoogleReviews(ids: string[]): Promise<void> {\n    for (const id of ids) {\n      this.googleReviews.delete(id);\n    }\n  }\n\n  async clearGoogleReviews(): Promise<void> {\n    this.googleReviews.clear();\n  }\n\n  async replaceGoogleReviews(reviews: InsertGoogleReview[]): Promise<void> {\n    if (reviews.length === 0) {\n      console.warn(\"No reviews to save - skipping in-memory update to preserve existing data\");\n      return;\n    }\n    \n    this.googleReviews.clear();\n    for (const review of reviews) {\n      const id = randomUUID();\n      const googleReview: GoogleReview = {\n        id,\n        authorName: review.authorName,\n        authorUrl: review.authorUrl ?? null,\n        profilePhotoUrl: review.profilePhotoUrl ?? null,\n        rating: review.rating,\n        text: review.text,\n        relativeTime: review.relativeTime,\n        timestamp: review.timestamp,\n        fetchedAt: new Date(),\n        categories: review.categories ?? [],\n        source: review.source ?? 'places_api',\n        reviewId: review.reviewId ?? null,\n      };\n      this.googleReviews.set(id, googleReview);\n    }\n  }\n\n  async getGoogleOAuthToken(service: string = 'google_my_business'): Promise<GoogleOAuthToken | undefined> {\n    // MemStorage stub - not used in production\n    return undefined;\n  }\n\n  async saveGoogleOAuthToken(token: InsertGoogleOAuthToken): Promise<GoogleOAuthToken> {\n    // MemStorage stub - not used in production\n    throw new Error('OAuth not supported in MemStorage');\n  }\n\n  async updateGoogleOAuthToken(id: string, token: Partial<InsertGoogleOAuthToken>): Promise<GoogleOAuthToken> {\n    // MemStorage stub - not used in production\n    throw new Error('OAuth not supported in MemStorage');\n  }\n\n  async getZoomOAuthToken(): Promise<ZoomOAuthToken | undefined> {\n    // MemStorage stub - not used in production\n    return undefined;\n  }\n\n  async saveZoomOAuthToken(token: InsertZoomOAuthToken): Promise<ZoomOAuthToken> {\n    // MemStorage stub - not used in production\n    throw new Error('Zoom OAuth not supported in MemStorage');\n  }\n\n  async updateZoomOAuthToken(id: string, token: Partial<InsertZoomOAuthToken>): Promise<ZoomOAuthToken> {\n    // MemStorage stub - not used in production\n    throw new Error('Zoom OAuth not supported in MemStorage');\n  }\n\n  async createServiceTitanMembership(membership: InsertServiceTitanMembership): Promise<ServiceTitanMembership> {\n    const id = randomUUID();\n    const newMembership: ServiceTitanMembership = {\n      ...membership,\n      id,\n      customerName: membership.customerName ?? null,\n      companyName: membership.companyName ?? null,\n      contactPersonName: membership.contactPersonName ?? null,\n      serviceTitanCustomerId: membership.serviceTitanCustomerId ?? null,\n      serviceTitanMembershipId: membership.serviceTitanMembershipId ?? null,\n      serviceTitanInvoiceId: membership.serviceTitanInvoiceId ?? null,\n      stripePaymentIntentId: membership.stripePaymentIntentId ?? null,\n      stripeCustomerId: membership.stripeCustomerId ?? null,\n      syncStatus: membership.syncStatus ?? 'pending',\n      syncError: membership.syncError ?? null,\n      purchasedAt: new Date(),\n      lastSyncAttempt: null,\n      syncedAt: null,\n    };\n    this.serviceTitanMemberships.set(id, newMembership);\n    return newMembership;\n  }\n\n  async updateServiceTitanMembership(id: string, updates: Partial<ServiceTitanMembership>): Promise<ServiceTitanMembership> {\n    const existing = this.serviceTitanMemberships.get(id);\n    if (!existing) {\n      throw new Error('ServiceTitan membership not found');\n    }\n    const updated = { ...existing, ...updates };\n    this.serviceTitanMemberships.set(id, updated);\n    return updated;\n  }\n\n  async getServiceTitanMembershipById(id: string): Promise<ServiceTitanMembership | undefined> {\n    return this.serviceTitanMemberships.get(id);\n  }\n\n  async getPendingServiceTitanMemberships(): Promise<ServiceTitanMembership[]> {\n    return Array.from(this.serviceTitanMemberships.values()).filter(\n      m => m.syncStatus === 'pending' || m.syncStatus === 'failed'\n    );\n  }\n\n  async createPendingPurchase(purchase: InsertPendingPurchase): Promise<PendingPurchase> {\n    const id = randomUUID();\n    const newPurchase: PendingPurchase = {\n      ...purchase,\n      id,\n      customerName: purchase.customerName ?? null,\n      companyName: purchase.companyName ?? null,\n      contactPersonName: purchase.contactPersonName ?? null,\n      createdAt: new Date(),\n    };\n    // MemStorage stub - not used in production\n    return newPurchase;\n  }\n\n  async getPendingPurchaseByPaymentIntent(paymentIntentId: string): Promise<PendingPurchase | undefined> {\n    // MemStorage stub - not used in production\n    return undefined;\n  }\n\n  async deletePendingPurchase(id: string): Promise<void> {\n    // MemStorage stub - not used in production\n  }\n\n  async savePhotos(photos: InsertCompanyCamPhoto[]): Promise<CompanyCamPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async getAllPhotos(): Promise<CompanyCamPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async getPhotosByCategory(category: string): Promise<CompanyCamPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async getPhotosByJob(jobId: string): Promise<CompanyCamPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async getUnusedPhotos(category?: string): Promise<CompanyCamPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async getPhotoById(id: string): Promise<CompanyCamPhoto | undefined> {\n    // MemStorage stub - not used in production\n    return undefined;\n  }\n\n  async markPhotoAsUsed(id: string, blogPostId?: string, pageUrl?: string): Promise<CompanyCamPhoto> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n\n  async getPhotosWithoutBlogTopic(): Promise<CompanyCamPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async updatePhotoWithBlogTopic(id: string, topic: string): Promise<CompanyCamPhoto> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n\n  async saveBeforeAfterComposite(composite: InsertBeforeAfterComposite): Promise<BeforeAfterComposite> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n\n  async getBeforeAfterComposites(): Promise<BeforeAfterComposite[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async getUnusedComposites(): Promise<BeforeAfterComposite[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n\n  async markCompositeAsPosted(id: string, facebookPostId: string | null, instagramPostId: string | null): Promise<BeforeAfterComposite> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n\n  async create404Error(error: InsertNotFoundError): Promise<NotFoundError> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n\n  async get404Errors(limit: number = 100): Promise<NotFoundError[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n  \n  async createImportedPhoto(photo: InsertImportedPhoto): Promise<ImportedPhoto> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n  \n  async getAllImportedPhotos(): Promise<ImportedPhoto[]> {\n    // MemStorage stub - not used in production\n    return [];\n  }\n  \n  async deleteImportedPhoto(id: string): Promise<void> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n  \n  async deleteCompanyCamPhoto(id: string): Promise<void> {\n    // MemStorage stub - not used in production\n    throw new Error(\"Not implemented in MemStorage\");\n  }\n\n  // Missing email-related methods\n  async isEmailSuppressed(email: string): Promise<boolean> {\n    return false;\n  }\n  async addToSuppressionList(data: { email: string; reason: string; source: string }): Promise<void> {}\n  async removeFromSuppressionList(email: string): Promise<void> {}\n  async getSuppressionStats(): Promise<{ total: number; hardBounces: number; spamComplaints: number; manual: number }> {\n    return { total: 0, hardBounces: 0, spamComplaints: 0, manual: 0 };\n  }\n  \n  // Email Send Log\n  async logEmailSend(data: { emailId: string; recipientEmail: string; subject?: string; campaignType: string; sentAt: Date }): Promise<void> {}\n  async getEmailLogByEmailId(emailId: string): Promise<any | undefined> {\n    return undefined;\n  }\n  async updateEmailLog(emailId: string, updates: { deliveredAt?: Date; openedAt?: Date; clickedAt?: Date; bouncedAt?: Date; complainedAt?: Date }): Promise<void> {}\n  async incrementCampaignEngagement(campaignId: string, campaignType: string, metric: 'opened' | 'clicked'): Promise<void> {}\n  \n  // Customer XLSX\n  async getCustomerByServiceTitanId(serviceTitanId: number): Promise<any | undefined> {\n    return undefined;\n  }\n  async createCustomerXlsx(data: any): Promise<any> {\n    return data;\n  }\n  async updateCustomerXlsx(id: number, updates: any): Promise<any> {\n    return updates;\n  }\n  \n  // Email Templates - removed with marketing automation\n  \n  // Email Campaigns\n  \n  // Customer Segments\n  \n  // Segment Membership\n  async getSegmentMembers(segmentId: string, options?: { activeOnly?: boolean; limit?: number; offset?: number }): Promise<any[]> {\n    return [];\n  }\n  async getCustomerSegmentMemberships(customerId: number, options?: { activeOnly?: boolean }): Promise<any[]> {\n    return [];\n  }\n  async getSegmentMemberCount(segmentId: string, activeOnly?: boolean): Promise<number> {\n    return 0;\n  }\n  \n  // Audience Movement Logs\n  async getAudienceMovementLogs(options?: { segmentId?: string; customerId?: number; action?: 'entered' | 'exited'; limit?: number; offset?: number }): Promise<any[]> {\n    return [];\n  }\n}\n\nexport class DatabaseStorage implements IStorage {\n  async getUser(id: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.id, id));\n    return user || undefined;\n  }\n\n  async getUserByUsername(username: string): Promise<User | undefined> {\n    const [user] = await db.select().from(users).where(eq(users.username, username));\n    return user || undefined;\n  }\n\n  async createUser(insertUser: InsertUser): Promise<User> {\n    const [user] = await db\n      .insert(users)\n      .values(insertUser)\n      .returning();\n    return user;\n  }\n\n  async getBlogPosts(): Promise<BlogPost[]> {\n    return await db.select().from(blogPosts).orderBy(desc(blogPosts.publishDate));\n  }\n\n  async getBlogPostBySlug(slug: string): Promise<BlogPost | undefined> {\n    const [post] = await db.select().from(blogPosts).where(eq(blogPosts.slug, slug));\n    return post || undefined;\n  }\n\n  async createBlogPost(post: InsertBlogPost): Promise<BlogPost> {\n    const [created] = await db\n      .insert(blogPosts)\n      .values(post)\n      .returning();\n    return created;\n  }\n\n  async updateBlogPost(id: string, updates: Partial<InsertBlogPost>): Promise<BlogPost> {\n    const [updated] = await db\n      .update(blogPosts)\n      .set(updates)\n      .where(eq(blogPosts.id, id))\n      .returning();\n    \n    if (!updated) {\n      throw new Error(`Blog post with id ${id} not found`);\n    }\n    \n    return updated;\n  }\n\n  async getProducts(): Promise<Product[]> {\n    return await db.select().from(products);\n  }\n\n  async getProductBySlug(slug: string): Promise<Product | undefined> {\n    const [product] = await db.select().from(products).where(eq(products.slug, slug));\n    return product || undefined;\n  }\n\n  async getProductById(id: string): Promise<Product | undefined> {\n    const [product] = await db.select().from(products).where(eq(products.id, id));\n    return product || undefined;\n  }\n\n  async createProduct(product: InsertProduct): Promise<Product> {\n    const [created] = await db\n      .insert(products)\n      .values(product)\n      .returning();\n    return created;\n  }\n\n  async updateProduct(id: string, updates: Partial<InsertProduct>): Promise<Product> {\n    const [updated] = await db\n      .update(products)\n      .set(updates)\n      .where(eq(products.id, id))\n      .returning();\n    \n    if (!updated) {\n      throw new Error(`Product with id ${id} not found`);\n    }\n    \n    return updated;\n  }\n\n  async createContactSubmission(submission: InsertContactSubmission): Promise<ContactSubmission> {\n    const [created] = await db\n      .insert(contactSubmissions)\n      .values(submission)\n      .returning();\n    return created;\n  }\n\n  async createCustomerSuccessStory(story: InsertCustomerSuccessStory): Promise<CustomerSuccessStory> {\n    const [created] = await db\n      .insert(customerSuccessStories)\n      .values(story)\n      .returning();\n    return created;\n  }\n\n  async getApprovedSuccessStories(): Promise<CustomerSuccessStory[]> {\n    return await db.select().from(customerSuccessStories).where(eq(customerSuccessStories.approved, true));\n  }\n\n  async getAllSuccessStories(): Promise<CustomerSuccessStory[]> {\n    return await db.select().from(customerSuccessStories);\n  }\n\n  async approveSuccessStory(id: string, collagePhotoUrl: string, jpegCollagePhotoUrl?: string): Promise<CustomerSuccessStory> {\n    const [story] = await db\n      .update(customerSuccessStories)\n      .set({ \n        approved: true, \n        collagePhotoUrl,\n        jpegCollagePhotoUrl: jpegCollagePhotoUrl || null\n      })\n      .where(eq(customerSuccessStories.id, id))\n      .returning();\n    \n    if (!story) {\n      throw new Error(`Success story with id ${id} not found`);\n    }\n    \n    return story;\n  }\n\n  async unapproveSuccessStory(id: string): Promise<CustomerSuccessStory> {\n    const [story] = await db\n      .update(customerSuccessStories)\n      .set({ \n        approved: false, \n        collagePhotoUrl: null,\n        jpegCollagePhotoUrl: null\n      })\n      .where(eq(customerSuccessStories.id, id))\n      .returning();\n    \n    if (!story) {\n      throw new Error(`Success story with id ${id} not found`);\n    }\n    \n    return story;\n  }\n\n  async updateSuccessStory(id: string, updates: Partial<Pick<CustomerSuccessStory, 'customerName' | 'story' | 'location' | 'jpegCollagePhotoUrl' | 'collagePhotoUrl' | 'beforePhotoUrl' | 'afterPhotoUrl' | 'beforeFocalX' | 'beforeFocalY' | 'afterFocalX' | 'afterFocalY'>>): Promise<CustomerSuccessStory> {\n    const [story] = await db\n      .update(customerSuccessStories)\n      .set(updates)\n      .where(eq(customerSuccessStories.id, id))\n      .returning();\n    \n    if (!story) {\n      throw new Error(`Success story with id ${id} not found`);\n    }\n    \n    return story;\n  }\n\n  async deleteSuccessStory(id: string): Promise<void> {\n    await db.delete(customerSuccessStories).where(eq(customerSuccessStories.id, id));\n  }\n\n  async getServiceAreaBySlug(slug: string): Promise<ServiceArea | undefined> {\n    const [area] = await db.select().from(serviceAreas).where(eq(serviceAreas.slug, slug));\n    return area || undefined;\n  }\n\n  async getAllServiceAreas(): Promise<ServiceArea[]> {\n    return await db.select().from(serviceAreas);\n  }\n\n  async createServiceArea(area: InsertServiceArea): Promise<ServiceArea> {\n    const [created] = await db\n      .insert(serviceAreas)\n      .values(area)\n      .returning();\n    return created;\n  }\n\n  async getGoogleReviews(): Promise<GoogleReview[]> {\n    return await db\n      .select()\n      .from(googleReviews)\n      .orderBy(sql`${googleReviews.timestamp} DESC`);\n  }\n\n  async saveGoogleReviews(reviews: InsertGoogleReview[]): Promise<void> {\n    if (reviews.length === 0) return;\n    \n    await db.insert(googleReviews).values(reviews);\n  }\n\n  async deleteGoogleReviews(ids: string[]): Promise<void> {\n    if (ids.length === 0) return;\n    \n    await db.delete(googleReviews).where(sql`${googleReviews.id} = ANY(${ids})`);\n  }\n\n  async clearGoogleReviews(): Promise<void> {\n    await db.delete(googleReviews);\n  }\n\n  /**\n   * Replace all Google reviews with new reviews in a single atomic transaction.\n   * This prevents data loss if the save operation fails.\n   */\n  async replaceGoogleReviews(reviews: InsertGoogleReview[]): Promise<void> {\n    if (reviews.length === 0) {\n      console.warn(\"No reviews to save - skipping database update to preserve existing data\");\n      return;\n    }\n\n    // Use a transaction to ensure atomicity: either both delete and insert succeed, or neither happens\n    await db.transaction(async (tx) => {\n      // Delete all existing reviews\n      await tx.delete(googleReviews);\n      \n      // Insert new reviews\n      await tx.insert(googleReviews).values(reviews);\n    });\n  }\n\n  async getGoogleOAuthToken(service: string = 'google_my_business'): Promise<GoogleOAuthToken | undefined> {\n    const [token] = await db\n      .select()\n      .from(googleOAuthTokens)\n      .where(eq(googleOAuthTokens.service, service))\n      .limit(1);\n    return token || undefined;\n  }\n\n  async saveGoogleOAuthToken(token: InsertGoogleOAuthToken): Promise<GoogleOAuthToken> {\n    const [savedToken] = await db\n      .insert(googleOAuthTokens)\n      .values(token)\n      .returning();\n    return savedToken;\n  }\n\n  async updateGoogleOAuthToken(id: string, tokenUpdate: Partial<InsertGoogleOAuthToken>): Promise<GoogleOAuthToken> {\n    const [updatedToken] = await db\n      .update(googleOAuthTokens)\n      .set({ ...tokenUpdate, updatedAt: new Date() })\n      .where(eq(googleOAuthTokens.id, id))\n      .returning();\n    return updatedToken;\n  }\n\n  async getZoomOAuthToken(): Promise<ZoomOAuthToken | undefined> {\n    const [token] = await db\n      .select()\n      .from(zoomOAuthTokens)\n      .orderBy(desc(zoomOAuthTokens.createdAt))\n      .limit(1);\n    return token;\n  }\n\n  async saveZoomOAuthToken(token: InsertZoomOAuthToken): Promise<ZoomOAuthToken> {\n    const [savedToken] = await db\n      .insert(zoomOAuthTokens)\n      .values(token)\n      .returning();\n    return savedToken;\n  }\n\n  async updateZoomOAuthToken(id: string, tokenUpdate: Partial<InsertZoomOAuthToken>): Promise<ZoomOAuthToken> {\n    const [updatedToken] = await db\n      .update(zoomOAuthTokens)\n      .set({ ...tokenUpdate, updatedAt: new Date() })\n      .where(eq(zoomOAuthTokens.id, id))\n      .returning();\n    return updatedToken;\n  }\n\n  async createServiceTitanMembership(membership: InsertServiceTitanMembership): Promise<ServiceTitanMembership> {\n    const [created] = await db\n      .insert(serviceTitanMemberships)\n      .values(membership)\n      .returning();\n    return created;\n  }\n\n  async updateServiceTitanMembership(id: string, updates: Partial<ServiceTitanMembership>): Promise<ServiceTitanMembership> {\n    const [updated] = await db\n      .update(serviceTitanMemberships)\n      .set(updates)\n      .where(eq(serviceTitanMemberships.id, id))\n      .returning();\n    return updated;\n  }\n\n  async getServiceTitanMembershipById(id: string): Promise<ServiceTitanMembership | undefined> {\n    const [membership] = await db\n      .select()\n      .from(serviceTitanMemberships)\n      .where(eq(serviceTitanMemberships.id, id))\n      .limit(1);\n    return membership || undefined;\n  }\n\n  async getPendingServiceTitanMemberships(): Promise<ServiceTitanMembership[]> {\n    return await db\n      .select()\n      .from(serviceTitanMemberships)\n      .where(sql`${serviceTitanMemberships.syncStatus} IN ('pending', 'failed')`);\n  }\n\n  async createPendingPurchase(purchase: InsertPendingPurchase): Promise<PendingPurchase> {\n    const [created] = await db\n      .insert(pendingPurchases)\n      .values(purchase)\n      .returning();\n    return created;\n  }\n\n  async getPendingPurchaseByPaymentIntent(paymentIntentId: string): Promise<PendingPurchase | undefined> {\n    const [purchase] = await db\n      .select()\n      .from(pendingPurchases)\n      .where(eq(pendingPurchases.paymentIntentId, paymentIntentId))\n      .limit(1);\n    return purchase || undefined;\n  }\n\n  async deletePendingPurchase(id: string): Promise<void> {\n    await db\n      .delete(pendingPurchases)\n      .where(eq(pendingPurchases.id, id));\n  }\n\n  async savePhotos(photos: InsertCompanyCamPhoto[]): Promise<CompanyCamPhoto[]> {\n    if (photos.length === 0) return [];\n    \n    const saved = await db\n      .insert(companyCamPhotos)\n      .values(photos)\n      .onConflictDoUpdate({\n        target: companyCamPhotos.companyCamPhotoId,\n        set: {\n          qualityAnalyzed: sql`EXCLUDED.quality_analyzed`,\n          isGoodQuality: sql`EXCLUDED.is_good_quality`,\n          shouldKeep: sql`EXCLUDED.should_keep`,\n          qualityScore: sql`EXCLUDED.quality_score`,\n          qualityReasoning: sql`EXCLUDED.quality_reasoning`,\n          analyzedAt: sql`EXCLUDED.analyzed_at`,\n        },\n      })\n      .returning();\n    \n    return saved;\n  }\n\n  async getAllPhotos(): Promise<CompanyCamPhoto[]> {\n    // Get CompanyCam photos\n    const companyCamResults = await db\n      .select()\n      .from(companyCamPhotos)\n      .orderBy(sql`${companyCamPhotos.fetchedAt} DESC`);\n    \n    // Get imported photos (Google Drive) and normalize to CompanyCam format\n    const importedResults = await db\n      .select()\n      .from(importedPhotos)\n      .orderBy(sql`${importedPhotos.fetchedAt} DESC`);\n    \n    // Convert imported photos to CompanyCam format for unified display\n    const normalizedImported = importedResults.map(photo => ({\n      id: photo.id,\n      companyCamPhotoId: null,\n      companyCamProjectId: null,\n      photoUrl: photo.url,\n      thumbnailUrl: null,\n      category: photo.category,\n      tags: photo.aiTags || [],\n      aiDescription: photo.aiDescription,\n      qualityAnalyzed: true,\n      isGoodQuality: photo.isProductionQuality,\n      shouldKeep: photo.isProductionQuality,\n      qualityScore: photo.aiQuality || 0,\n      qualityReasoning: photo.qualityReason || null,\n      analyzedAt: photo.fetchedAt,\n      usedInBlogPostId: null,\n      usedInPageUrl: null,\n      blogTopicAnalyzed: false,\n      blogTopicAnalyzedAt: null,\n      suggestedBlogTopic: null,\n      fetchedAt: photo.fetchedAt,\n      // Add source identifier for UI\n      photoSource: 'google-drive' as any,\n    }));\n    \n    // Mark CompanyCam photos with source\n    const markedCompanyCam = companyCamResults.map(photo => ({\n      ...photo,\n      photoSource: 'companycam' as any,\n    }));\n    \n    // Combine and sort by date\n    const allPhotos = [...markedCompanyCam, ...normalizedImported];\n    allPhotos.sort((a, b) => b.fetchedAt.getTime() - a.fetchedAt.getTime());\n    \n    return allPhotos as CompanyCamPhoto[];\n  }\n\n  async getPhotosByCategory(category: string): Promise<CompanyCamPhoto[]> {\n    return await db\n      .select()\n      .from(companyCamPhotos)\n      .where(sql`${companyCamPhotos.category} = ${category} AND ${companyCamPhotos.shouldKeep} = true`);\n  }\n\n  async getPhotosByJob(jobId: string): Promise<CompanyCamPhoto[]> {\n    return await db\n      .select()\n      .from(companyCamPhotos)\n      .where(sql`${companyCamPhotos.companyCamProjectId} = ${jobId} AND ${companyCamPhotos.shouldKeep} = true`);\n  }\n\n  async getUnusedPhotos(category?: string): Promise<CompanyCamPhoto[]> {\n    if (category) {\n      return await db\n        .select()\n        .from(companyCamPhotos)\n        .where(sql`${companyCamPhotos.category} = ${category} AND ${companyCamPhotos.usedInBlogPostId} IS NULL AND ${companyCamPhotos.usedInPageUrl} IS NULL AND ${companyCamPhotos.shouldKeep} = true`);\n    }\n    \n    return await db\n      .select()\n      .from(companyCamPhotos)\n      .where(sql`${companyCamPhotos.usedInBlogPostId} IS NULL AND ${companyCamPhotos.usedInPageUrl} IS NULL AND ${companyCamPhotos.shouldKeep} = true`);\n  }\n\n  async getPhotoById(id: string): Promise<CompanyCamPhoto | undefined> {\n    // First try CompanyCam photos\n    const [companyCamPhoto] = await db\n      .select()\n      .from(companyCamPhotos)\n      .where(eq(companyCamPhotos.id, id))\n      .limit(1);\n    \n    if (companyCamPhoto) {\n      return companyCamPhoto;\n    }\n    \n    // If not found, try imported photos (Google Drive)\n    const [importedPhoto] = await db\n      .select()\n      .from(importedPhotos)\n      .where(eq(importedPhotos.id, id))\n      .limit(1);\n    \n    if (importedPhoto) {\n      // Convert to CompanyCam format for compatibility\n      return {\n        id: importedPhoto.id,\n        companyCamPhotoId: null,\n        companyCamProjectId: null,\n        photoUrl: importedPhoto.url,\n        url: importedPhoto.url,\n        thumbnailUrl: null,\n        category: importedPhoto.category,\n        dateTaken: importedPhoto.uploadDate || new Date(),\n        uploadDate: importedPhoto.uploadDate || new Date(),\n        createdAt: importedPhoto.createdAt,\n        tags: [],\n        aiDescription: importedPhoto.aiDescription || null,\n        aiQualityScore: importedPhoto.aiQualityScore || 0,\n        isGoodQuality: importedPhoto.aiQualityScore ? importedPhoto.aiQualityScore >= 70 : false,\n        shouldKeep: true,\n        usedInBlogPostId: importedPhoto.usedInBlogPostId,\n        usedInPageUrl: importedPhoto.usedInPageUrl,\n        blogTopic: null,\n        source: 'google-drive'\n      } as CompanyCamPhoto;\n    }\n    \n    return undefined;\n  }\n\n  async markPhotoAsUsed(id: string, blogPostId?: string, pageUrl?: string): Promise<CompanyCamPhoto> {\n    // First try to update CompanyCam photos\n    const [companyCamUpdated] = await db\n      .update(companyCamPhotos)\n      .set({\n        usedInBlogPostId: blogPostId || null,\n        usedInPageUrl: pageUrl || null,\n      })\n      .where(eq(companyCamPhotos.id, id))\n      .returning();\n    \n    if (companyCamUpdated) {\n      return companyCamUpdated;\n    }\n    \n    // If not found in CompanyCam, try imported photos (Google Drive)\n    const [importedUpdated] = await db\n      .update(importedPhotos)\n      .set({\n        usedInBlogPostId: blogPostId || null,\n        usedInPageUrl: pageUrl || null,\n      })\n      .where(eq(importedPhotos.id, id))\n      .returning();\n    \n    if (importedUpdated) {\n      // Convert to CompanyCam format for compatibility\n      return {\n        id: importedUpdated.id,\n        companyCamPhotoId: null,\n        companyCamProjectId: null,\n        photoUrl: importedUpdated.url,\n        url: importedUpdated.url,\n        thumbnailUrl: null,\n        category: importedUpdated.category,\n        dateTaken: importedUpdated.uploadDate || new Date(),\n        uploadDate: importedUpdated.uploadDate || new Date(),\n        createdAt: importedUpdated.createdAt,\n        tags: [],\n        aiDescription: importedUpdated.aiDescription || null,\n        aiQualityScore: importedUpdated.aiQualityScore || 0,\n        isGoodQuality: importedUpdated.aiQualityScore ? importedUpdated.aiQualityScore >= 70 : false,\n        shouldKeep: true,\n        usedInBlogPostId: importedUpdated.usedInBlogPostId,\n        usedInPageUrl: importedUpdated.usedInPageUrl,\n        blogTopic: null,\n        source: 'google-drive'\n      } as CompanyCamPhoto;\n    }\n    \n    // If photo not found in either table, throw error\n    throw new Error(`Photo with id ${id} not found`);\n  }\n\n  async getPhotosWithoutBlogTopic(): Promise<CompanyCamPhoto[]> {\n    return await db\n      .select()\n      .from(companyCamPhotos)\n      .where(\n        sql`${companyCamPhotos.shouldKeep} = true \n        AND (${companyCamPhotos.usedInBlogPostId} IS NULL OR ${companyCamPhotos.usedInBlogPostId} = '') \n        AND (${companyCamPhotos.blogTopicAnalyzed} = false OR ${companyCamPhotos.blogTopicAnalyzed} IS NULL)`\n      )\n      .orderBy(companyCamPhotos.qualityScore);\n  }\n\n  async updatePhotoWithBlogTopic(id: string, topic: string): Promise<CompanyCamPhoto> {\n    const [updated] = await db\n      .update(companyCamPhotos)\n      .set({\n        suggestedBlogTopic: topic,\n        blogTopicAnalyzed: true,\n        blogTopicAnalyzedAt: new Date(),\n      })\n      .where(eq(companyCamPhotos.id, id))\n      .returning();\n    return updated;\n  }\n\n  async saveBeforeAfterComposite(composite: InsertBeforeAfterComposite): Promise<BeforeAfterComposite> {\n    const [saved] = await db\n      .insert(beforeAfterComposites)\n      .values(composite)\n      .returning();\n    return saved;\n  }\n\n  async getBeforeAfterComposites(): Promise<BeforeAfterComposite[]> {\n    return await db\n      .select()\n      .from(beforeAfterComposites)\n      .orderBy(sql`${beforeAfterComposites.createdAt} DESC`);\n  }\n\n  async getUnusedComposites(): Promise<BeforeAfterComposite[]> {\n    return await db\n      .select()\n      .from(beforeAfterComposites)\n      .where(sql`${beforeAfterComposites.postedToFacebook} = false AND ${beforeAfterComposites.postedToInstagram} = false`)\n      .orderBy(sql`${beforeAfterComposites.createdAt} DESC`);\n  }\n\n  async markCompositeAsPosted(id: string, facebookPostId: string | null, instagramPostId: string | null): Promise<BeforeAfterComposite> {\n    const [updated] = await db\n      .update(beforeAfterComposites)\n      .set({\n        postedToFacebook: facebookPostId !== null,\n        postedToInstagram: instagramPostId !== null,\n        facebookPostId,\n        instagramPostId,\n        postedAt: new Date(),\n      })\n      .where(eq(beforeAfterComposites.id, id))\n      .returning();\n    return updated;\n  }\n\n  async create404Error(error: InsertNotFoundError): Promise<NotFoundError> {\n    const [created] = await db\n      .insert(notFoundErrors)\n      .values(error)\n      .returning();\n    return created;\n  }\n\n  async get404Errors(limit: number = 100): Promise<NotFoundError[]> {\n    return await db\n      .select()\n      .from(notFoundErrors)\n      .orderBy(sql`${notFoundErrors.timestamp} DESC`)\n      .limit(limit);\n  }\n  \n  async createImportedPhoto(photo: InsertImportedPhoto): Promise<ImportedPhoto> {\n    const [created] = await db\n      .insert(importedPhotos)\n      .values(photo)\n      .returning();\n    return created;\n  }\n  \n  async getAllImportedPhotos(): Promise<ImportedPhoto[]> {\n    return await db\n      .select()\n      .from(importedPhotos)\n      .orderBy(sql`${importedPhotos.fetchedAt} DESC`);\n  }\n  \n  async deleteImportedPhoto(id: string): Promise<void> {\n    await db\n      .delete(importedPhotos)\n      .where(eq(importedPhotos.id, id));\n  }\n  \n  async deleteCompanyCamPhoto(id: string): Promise<void> {\n    await db\n      .delete(companyCamPhotos)\n      .where(eq(companyCamPhotos.id, id));\n  }\n\n  // Tracking Numbers methods\n  async getAllTrackingNumbers(): Promise<TrackingNumber[]> {\n    return await db\n      .select()\n      .from(trackingNumbers)\n      .orderBy(sql`${trackingNumbers.sortOrder} ASC, ${trackingNumbers.channelName} ASC`);\n  }\n\n  async getActiveTrackingNumbers(): Promise<TrackingNumber[]> {\n    return await db\n      .select()\n      .from(trackingNumbers)\n      .where(eq(trackingNumbers.isActive, true))\n      .orderBy(sql`${trackingNumbers.sortOrder} ASC, ${trackingNumbers.channelName} ASC`);\n  }\n\n  async getTrackingNumberByKey(channelKey: string): Promise<TrackingNumber | undefined> {\n    const [result] = await db\n      .select()\n      .from(trackingNumbers)\n      .where(eq(trackingNumbers.channelKey, channelKey))\n      .limit(1);\n    return result;\n  }\n\n  async getDefaultTrackingNumber(): Promise<TrackingNumber | undefined> {\n    const [result] = await db\n      .select()\n      .from(trackingNumbers)\n      .where(eq(trackingNumbers.isDefault, true))\n      .limit(1);\n    return result;\n  }\n\n  async createTrackingNumber(number: InsertTrackingNumber): Promise<TrackingNumber> {\n    const [created] = await db\n      .insert(trackingNumbers)\n      .values(number)\n      .returning();\n    return created;\n  }\n\n  async updateTrackingNumber(id: string, updates: Partial<InsertTrackingNumber>): Promise<TrackingNumber> {\n    const [updated] = await db\n      .update(trackingNumbers)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(eq(trackingNumbers.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteTrackingNumber(id: string): Promise<void> {\n    await db\n      .delete(trackingNumbers)\n      .where(eq(trackingNumbers.id, id));\n  }\n\n  // Commercial Customers\n  async getActiveCommercialCustomers(): Promise<CommercialCustomer[]> {\n    const results = await db\n      .select()\n      .from(commercialCustomers)\n      .where(eq(commercialCustomers.active, true))\n      .orderBy(commercialCustomers.displayOrder);\n    return results;\n  }\n\n  async getAllCommercialCustomers(): Promise<CommercialCustomer[]> {\n    const results = await db\n      .select()\n      .from(commercialCustomers)\n      .orderBy(commercialCustomers.displayOrder);\n    return results;\n  }\n\n  async getCommercialCustomerById(id: string): Promise<CommercialCustomer | undefined> {\n    const [result] = await db\n      .select()\n      .from(commercialCustomers)\n      .where(eq(commercialCustomers.id, id))\n      .limit(1);\n    return result;\n  }\n\n  async createCommercialCustomer(customer: InsertCommercialCustomer): Promise<CommercialCustomer> {\n    const [created] = await db\n      .insert(commercialCustomers)\n      .values(customer)\n      .returning();\n    return created;\n  }\n\n  async updateCommercialCustomer(id: string, updates: Partial<InsertCommercialCustomer>): Promise<CommercialCustomer> {\n    const [updated] = await db\n      .update(commercialCustomers)\n      .set(updates)\n      .where(eq(commercialCustomers.id, id))\n      .returning();\n    return updated;\n  }\n\n  async deleteCommercialCustomer(id: string): Promise<void> {\n    await db\n      .delete(commercialCustomers)\n      .where(eq(commercialCustomers.id, id));\n  }\n\n  // Page Metadata\n  async getAllPageMetadata(): Promise<PageMetadata[]> {\n    const results = await db\n      .select()\n      .from(pageMetadata)\n      .orderBy(pageMetadata.path);\n    return results;\n  }\n\n  async getPageMetadataByPath(path: string): Promise<PageMetadata | undefined> {\n    const [result] = await db\n      .select()\n      .from(pageMetadata)\n      .where(eq(pageMetadata.path, path))\n      .limit(1);\n    return result;\n  }\n\n  async upsertPageMetadata(metadata: InsertPageMetadata): Promise<PageMetadata> {\n    const [result] = await db\n      .insert(pageMetadata)\n      .values(metadata)\n      .onConflictDoUpdate({\n        target: pageMetadata.path,\n        set: {\n          ...metadata,\n          updatedAt: new Date()\n        }\n      })\n      .returning();\n    return result;\n  }\n\n  async deletePageMetadata(id: string): Promise<void> {\n    await db\n      .delete(pageMetadata)\n      .where(eq(pageMetadata.id, id));\n  }\n\n  // OAuth Users\n  async getOAuthUser(id: string): Promise<OAuthUser | undefined> {\n    const [user] = await db\n      .select()\n      .from(oauthUsers)\n      .where(eq(oauthUsers.id, id));\n    return user;\n  }\n\n  async upsertOAuthUser(userData: UpsertOAuthUser): Promise<OAuthUser> {\n    const [user] = await db\n      .insert(oauthUsers)\n      .values(userData)\n      .onConflictDoUpdate({\n        target: oauthUsers.id,\n        set: {\n          ...userData,\n          updatedAt: new Date(),\n        },\n      })\n      .returning();\n    return user;\n  }\n\n  // Admin Whitelist\n  async isEmailWhitelisted(email: string): Promise<boolean> {\n    const [result] = await db\n      .select()\n      .from(adminWhitelist)\n      .where(eq(adminWhitelist.email, email))\n      .limit(1);\n    return !!result;\n  }\n\n  async addToWhitelist(data: InsertAdminWhitelist): Promise<AdminWhitelist> {\n    const [result] = await db\n      .insert(adminWhitelist)\n      .values(data)\n      .returning();\n    return result;\n  }\n\n  async removeFromWhitelist(email: string): Promise<void> {\n    await db\n      .delete(adminWhitelist)\n      .where(eq(adminWhitelist.email, email));\n  }\n\n  async getAllWhitelistedEmails(): Promise<AdminWhitelist[]> {\n    const results = await db\n      .select()\n      .from(adminWhitelist)\n      .orderBy(adminWhitelist.addedAt);\n    return results;\n  }\n\n  // Custom Reviews\n  async createCustomReview(review: Partial<InsertCustomReview>): Promise<CustomReview> {\n    const [result] = await db\n      .insert(customReviews)\n      .values(review as InsertCustomReview)\n      .returning();\n    return result;\n  }\n\n  async getApprovedReviews(options?: { limit?: number; featured?: boolean }): Promise<CustomReview[]> {\n    let whereClause = sql`${customReviews.status} = 'approved' AND ${customReviews.displayOnWebsite} = true`;\n    \n    if (options?.featured) {\n      whereClause = sql`${customReviews.status} = 'approved' AND ${customReviews.featured} = true AND ${customReviews.displayOnWebsite} = true`;\n    }\n    \n    let query = db\n      .select()\n      .from(customReviews)\n      .where(whereClause)\n      .orderBy(desc(customReviews.submittedAt));\n    \n    if (options?.limit) {\n      return await query.limit(options.limit);\n    }\n    \n    return await query;\n  }\n\n  async getAllReviews(status?: string): Promise<CustomReview[]> {\n    if (status) {\n      return await db\n        .select()\n        .from(customReviews)\n        .where(eq(customReviews.status, status))\n        .orderBy(desc(customReviews.submittedAt));\n    }\n    \n    return await db\n      .select()\n      .from(customReviews)\n      .orderBy(desc(customReviews.submittedAt));\n  }\n\n  async moderateReview(id: string, updates: { status: string; moderatedBy: string; moderationNotes?: string; featured?: boolean; displayOnWebsite?: boolean }): Promise<CustomReview> {\n    const updateData: any = {\n      status: updates.status,\n      moderatedBy: updates.moderatedBy,\n      moderatedAt: new Date(),\n    };\n    \n    if (updates.moderationNotes !== undefined) {\n      updateData.moderationNotes = updates.moderationNotes;\n    }\n    if (updates.featured !== undefined) {\n      updateData.featured = updates.featured;\n    }\n    if (updates.displayOnWebsite !== undefined) {\n      updateData.displayOnWebsite = updates.displayOnWebsite;\n    }\n    \n    const [result] = await db\n      .update(customReviews)\n      .set(updateData)\n      .where(eq(customReviews.id, id))\n      .returning();\n    return result;\n  }\n\n  async deleteReview(id: string): Promise<void> {\n    await db\n      .delete(customReviews)\n      .where(eq(customReviews.id, id));\n  }\n\n  async replyToReview(id: string, replyText: string): Promise<CustomReview> {\n    const [result] = await db\n      .update(customReviews)\n      .set({\n        replyText: replyText.trim(),\n        repliedAt: new Date(),\n      })\n      .where(eq(customReviews.id, id))\n      .returning();\n    return result;\n  }\n\n  async getReviewStats(): Promise<{ total: number; pending: number; approved: number; rejected: number; spam: number; averageRating: number }> {\n    const allReviews = await db.select().from(customReviews);\n    const stats = {\n      total: allReviews.length,\n      pending: allReviews.filter(r => r.status === 'pending').length,\n      approved: allReviews.filter(r => r.status === 'approved').length,\n      rejected: allReviews.filter(r => r.status === 'rejected').length,\n      spam: allReviews.filter(r => r.status === 'spam').length,\n      averageRating: allReviews.length > 0 \n        ? allReviews.reduce((sum, r) => sum + r.rating, 0) / allReviews.length \n        : 0\n    };\n    return stats;\n  }\n\n  // Review Requests\n\n\n\n\n\n\n\n\n  // Review Platforms\n  async getEnabledReviewPlatforms(): Promise<ReviewPlatform[]> {\n    return await db\n      .select()\n      .from(reviewPlatforms)\n      .where(eq(reviewPlatforms.enabled, true))\n      .orderBy(reviewPlatforms.sortOrder);\n  }\n\n  async getAllReviewPlatforms(): Promise<ReviewPlatform[]> {\n    return await db\n      .select()\n      .from(reviewPlatforms)\n      .orderBy(reviewPlatforms.sortOrder);\n  }\n\n  async updateReviewPlatform(id: string, updates: Partial<InsertReviewPlatform>): Promise<ReviewPlatform> {\n    const [result] = await db\n      .update(reviewPlatforms)\n      .set({ ...updates, updatedAt: new Date() })\n      .where(eq(reviewPlatforms.id, id))\n      .returning();\n    return result;\n  }\n\n  // Reputation / Review Management System\n\n\n\n\n\n\n\n\n\n  async approveAIReviewResponse(id: string, moderatorId: string, editedResponse?: string): Promise<void> {\n    await db\n      .update(aiReviewResponses)\n      .set({\n        status: 'approved',\n        approvedBy: moderatorId,\n        approvedAt: new Date(),\n        editedResponse: editedResponse || undefined,\n      })\n      .where(eq(aiReviewResponses.id, id));\n  }\n\n\n  async acknowledgeNegativeReviewAlert(id: string, moderatorId: string): Promise<void> {\n    await db\n      .update(negativeReviewAlerts)\n      .set({\n        acknowledgedBy: moderatorId,\n        acknowledgedAt: new Date(),\n      })\n      .where(eq(negativeReviewAlerts.id, id));\n  }\n\n  // Email Preferences\n\n\n\n\n\n  // Email Suppression List\n  async isEmailSuppressed(email: string): Promise<boolean> {\n    const [result] = await db\n      .select()\n      .from(emailSuppressionList)\n      .where(eq(emailSuppressionList.email, email));\n    return !!result;\n  }\n\n\n  async removeFromSuppressionList(email: string): Promise<void> {\n    await db\n      .delete(emailSuppressionList)\n      .where(eq(emailSuppressionList.email, email));\n  }\n\n\n  async getSuppressionStats(): Promise<{ total: number; hardBounces: number; spamComplaints: number; manual: number }> {\n    const all = await db\n      .select()\n      .from(emailSuppressionList);\n    \n    return {\n      total: all.length,\n      hardBounces: all.filter(s => s.reason === 'hard_bounce').length,\n      spamComplaints: all.filter(s => s.reason === 'spam_complaint').length,\n      manual: all.filter(s => s.reason === 'manual_suppression').length\n    };\n  }\n\n  async addToSuppressionList(data: { email: string; reason: string; source: string }): Promise<void> {\n    await db\n      .insert(emailSuppressionList)\n      .values({\n        email: data.email,\n        reason: data.reason,\n        source: data.source,\n        addedAt: new Date(),\n      })\n      .onConflictDoNothing();\n  }\n\n  // Email Send Log (Resend webhook tracking)\n  async logEmailSend(data: { emailId: string; recipientEmail: string; subject?: string; campaignType: string; sentAt: Date }): Promise<void> {\n    await db\n      .insert(emailSendLog)\n      .values({\n        resendEmailId: data.emailId,\n        recipientEmail: data.recipientEmail,\n        campaignType: data.campaignType,\n        campaignRecordId: '', // Will be set by caller\n        emailNumber: 1, // Will be set by caller\n        customerId: 0, // Will be set by caller\n        sentAt: data.sentAt,\n      });\n  }\n\n  async getEmailLogByEmailId(emailId: string): Promise<any | undefined> {\n    const [result] = await db\n      .select()\n      .from(emailSendLog)\n      .where(eq(emailSendLog.resendEmailId, emailId));\n    return result;\n  }\n\n  async updateEmailLog(emailId: string, updates: { deliveredAt?: Date; openedAt?: Date; clickedAt?: Date; bouncedAt?: Date; complainedAt?: Date }): Promise<void> {\n    await db\n      .update(emailSendLog)\n      .set(updates)\n      .where(eq(emailSendLog.resendEmailId, emailId));\n  }\n\n  async incrementCampaignEngagement(campaignId: string, campaignType: string, metric: 'opened' | 'clicked'): Promise<void> {\n    // Update engagement counters in campaign tables based on type\n    if (campaignType === 'review_request') {\n      const field = metric === 'opened' ? 'emailsOpened' : 'emailsClicked';\n      await db\n        .update(reviewRequests)\n        .set({\n          [field]: sql`${reviewRequests[field as keyof typeof reviewRequests]} + 1`,\n        })\n        .where(eq(reviewRequests.id, campaignId));\n    } else if (campaignType === 'referral_nurture') {\n      const field = metric === 'opened' ? 'emailsOpened' : 'emailsClicked';\n      await db\n        .update(referralNurtureCampaigns)\n        .set({\n          [field]: sql`${referralNurtureCampaigns[field as keyof typeof referralNurtureCampaigns]} + 1`,\n        })\n        .where(eq(referralNurtureCampaigns.id, campaignId));\n    }\n  }\n\n  // Customer XLSX (Mailgun XLSX imports)\n  async getCustomerByServiceTitanId(serviceTitanId: number): Promise<any | undefined> {\n    const [result] = await db\n      .select()\n      .from(customersXlsx)\n      .where(eq(customersXlsx.id, serviceTitanId));\n    return result;\n  }\n\n  async createCustomerXlsx(data: any): Promise<any> {\n    const [result] = await db\n      .insert(customersXlsx)\n      .values(data)\n      .returning();\n    return result;\n  }\n\n  async updateCustomerXlsx(id: number, updates: any): Promise<any> {\n    const [result] = await db\n      .update(customersXlsx)\n      .set(updates)\n      .where(eq(customersXlsx.id, id))\n      .returning();\n    return result;\n  }\n\n\n  /**\n   * Email Campaign Management - ServiceTitan Integration\n   */\n\n\n\n\n\n  // Marketing methods removed - will be rebuilt\n\n  /**\n   * Email Templates Management\n   */\n  \n\n\n\n\n  // Email template methods removed - will be rebuilt\n\n  /**\n   * Customer Segment Management - AI Segmentation\n   */\n\n\n\n\n\n  // Segment Membership - Audience Management\n  async getSegmentMembers(segmentId: string, options?: { activeOnly?: boolean; limit?: number; offset?: number }): Promise<any[]> {\n    \n    let query = db\n      .select({\n        id: segmentMembership.id,\n        customerId: segmentMembership.serviceTitanCustomerId,\n        customerName: segmentMembership.customerName,\n        customerEmail: segmentMembership.customerEmail,\n        customerPhone: segmentMembership.customerPhone,\n        enteredAt: segmentMembership.enteredAt,\n        exitedAt: segmentMembership.exitedAt,\n        entryReason: segmentMembership.entryReason,\n        exitReason: segmentMembership.exitReason,\n        emailsSent: segmentMembership.emailsSent,\n        emailsOpened: segmentMembership.emailsOpened,\n        emailsClicked: segmentMembership.emailsClicked,\n        callsMade: segmentMembership.callsMade,\n        jobsBooked: segmentMembership.jobsBooked,\n        revenueGenerated: segmentMembership.revenueGenerated,\n      })\n      .from(segmentMembership)\n      .where(eq(segmentMembership.segmentId, segmentId));\n\n    if (options?.activeOnly) {\n      query = query.where(and(\n        eq(segmentMembership.segmentId, segmentId),\n        isNull(segmentMembership.exitedAt)\n      ));\n    }\n\n    if (options?.limit) {\n      query = query.limit(options.limit);\n    }\n\n    if (options?.offset) {\n      query = query.offset(options.offset);\n    }\n\n    return await query.orderBy(desc(segmentMembership.enteredAt));\n  }\n\n  async getCustomerSegmentMemberships(customerId: number, options?: { activeOnly?: boolean }): Promise<any[]> {\n    \n    let query = db\n      .select({\n        membershipId: segmentMembership.id,\n        segmentId: segmentMembership.segmentId,\n        segmentName: customerSegments.name,\n        segmentDescription: customerSegments.description,\n        enteredAt: segmentMembership.enteredAt,\n        exitedAt: segmentMembership.exitedAt,\n        entryReason: segmentMembership.entryReason,\n        exitReason: segmentMembership.exitReason,\n      })\n      .from(segmentMembership)\n      .leftJoin(customerSegments, eq(segmentMembership.segmentId, customerSegments.id))\n      .where(eq(segmentMembership.serviceTitanCustomerId, customerId));\n\n    if (options?.activeOnly) {\n      query = query.where(and(\n        eq(segmentMembership.serviceTitanCustomerId, customerId),\n        isNull(segmentMembership.exitedAt)\n      ));\n    }\n\n    return await query.orderBy(desc(segmentMembership.enteredAt));\n  }\n\n  async getSegmentMemberCount(segmentId: string, activeOnly: boolean = true): Promise<number> {\n    \n    let query = db\n      .select({ count: sql`count(*)` })\n      .from(segmentMembership)\n      .where(eq(segmentMembership.segmentId, segmentId));\n\n    if (activeOnly) {\n      query = query.where(and(\n        eq(segmentMembership.segmentId, segmentId),\n        isNull(segmentMembership.exitedAt)\n      ));\n    }\n\n    const result = await query;\n    return Number(result[0]?.count || 0);\n  }\n\n  // Audience Movement Logs\n  async getAudienceMovementLogs(options?: { segmentId?: string; customerId?: number; action?: 'entered' | 'exited'; limit?: number; offset?: number }): Promise<any[]> {\n    \n    let query = db\n      .select()\n      .from(audienceMovementLogs);\n\n    const conditions = [];\n    if (options?.segmentId) {\n      conditions.push(eq(audienceMovementLogs.segmentId, options.segmentId));\n    }\n    if (options?.customerId) {\n      conditions.push(eq(audienceMovementLogs.serviceTitanCustomerId, options.customerId));\n    }\n    if (options?.action) {\n      conditions.push(eq(audienceMovementLogs.action, options.action));\n    }\n\n    if (conditions.length > 0) {\n      query = query.where(sql`${sql.join(conditions, sql` AND `)}`);\n    }\n\n    if (options?.limit) {\n      query = query.limit(options.limit);\n    }\n\n    if (options?.offset) {\n      query = query.offset(options.offset);\n    }\n\n    return await query.orderBy(desc(audienceMovementLogs.occurredAt));\n  }\n}\n\nexport const storage = new DatabaseStorage();\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 5477, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/auth/callback/route.ts"],"sourcesContent":["/**\n * OAuth Callback Route\n * \n * Handles OAuth callback from Replit\n * Verifies user email is whitelisted and creates session\n */\n\nimport { NextRequest, NextResponse } from 'next/server';\nimport * as client from 'openid-client';\nimport { getSession } from '@/lib/session';\nimport { storage } from '@/server/storage';\n\nexport async function GET(req: NextRequest) {\n  try {\n    const { searchParams } = new URL(req.url);\n    const hostname = req.headers.get('host') || '';\n    const returnedState = searchParams.get('state');\n\n    // Get session to verify OAuth state and code verifier\n    const session = await getSession();\n    \n    // Verify CSRF state token\n    if (!session.oauthState || !returnedState || session.oauthState !== returnedState) {\n      console.error('[OAuth] State mismatch or missing - possible CSRF attack');\n      return NextResponse.redirect(new URL('/admin-login?error=csrf_failed', req.url));\n    }\n\n    // Verify code verifier exists in session\n    if (!session.oauthCodeVerifier) {\n      console.error('[OAuth] Code verifier missing from session');\n      return NextResponse.redirect(new URL('/admin-login?error=verifier_missing', req.url));\n    }\n\n    // Get OIDC configuration\n    const config = await client.discovery(\n      new URL(process.env.ISSUER_URL ?? 'https://replit.com/oidc'),\n      process.env.REPL_ID!\n    );\n\n    // Exchange authorization code for tokens with session-stored verifiers\n    const tokens = await client.authorizationCodeGrant(\n      config,\n      new URL(req.url),\n      {\n        pkceCodeVerifier: session.oauthCodeVerifier,\n        expectedState: session.oauthState,\n      }\n    );\n\n    // Clear OAuth state from session after successful exchange\n    delete session.oauthState;\n    delete session.oauthCodeVerifier;\n\n    // Get user claims\n    const claims = tokens.claims();\n    \n    console.log('[OAuth] Callback for email:', claims?.email);\n\n    // Verify email is whitelisted\n    if (!claims || !claims.email || typeof claims.email !== 'string') {\n      console.error('[OAuth] No email in claims');\n      return NextResponse.redirect(new URL('/admin-login?error=no_email', req.url));\n    }\n\n    if (!claims.sub || typeof claims.sub !== 'string') {\n      console.error('[OAuth] Invalid subject in claims');\n      return NextResponse.redirect(new URL('/admin-login?error=invalid_claims', req.url));\n    }\n\n    const isWhitelisted = await storage.isEmailWhitelisted(claims.email);\n    \n    if (!isWhitelisted) {\n      console.error('[OAuth] Email not whitelisted:', claims.email);\n      return NextResponse.redirect(new URL('/admin-login?error=unauthorized', req.url));\n    }\n\n    // Upsert OAuth user in database\n    await storage.upsertOAuthUser({\n      id: claims.sub,\n      email: claims.email,\n      firstName: typeof claims.first_name === 'string' ? claims.first_name : undefined,\n      lastName: typeof claims.last_name === 'string' ? claims.last_name : undefined,\n      profileImageUrl: typeof claims.profile_image_url === 'string' ? claims.profile_image_url : undefined,\n    });\n\n    // Update session with user data\n    session.user = {\n      id: claims.sub,\n      email: claims.email,\n      firstName: typeof claims.first_name === 'string' ? claims.first_name : undefined,\n      lastName: typeof claims.last_name === 'string' ? claims.last_name : undefined,\n      profileImageUrl: typeof claims.profile_image_url === 'string' ? claims.profile_image_url : undefined,\n      claims,\n      access_token: tokens.access_token,\n      refresh_token: tokens.refresh_token,\n      expires_at: typeof claims.exp === 'number' ? claims.exp : undefined,\n    };\n    session.isAdmin = true;\n\n    await session.save();\n\n    console.log('[OAuth] Login successful, redirecting to /admin');\n    return NextResponse.redirect(new URL('/admin', req.url));\n  } catch (error) {\n    console.error('[OAuth] Error processing callback:', error);\n    return NextResponse.redirect(new URL('/admin-login?error=callback_failed', req.url));\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}}]
}
{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 46, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/api/servicetitan/arrival-windows/route.ts"],"sourcesContent":["import { NextRequest, NextResponse } from 'next/server';\n\nexport async function GET(request: NextRequest) {\n  try {\n    console.log('[Portal] Fetching arrival windows from ServiceTitan');\n\n    // Get ServiceTitan API\n    const { ServiceTitanAPI } = await import('@/server/lib/serviceTitan');\n    const serviceTitan = new ServiceTitanAPI({\n      tenantId: process.env.SERVICETITAN_TENANT_ID!,\n      clientId: process.env.SERVICETITAN_CLIENT_ID!,\n      clientSecret: process.env.SERVICETITAN_CLIENT_SECRET!,\n      appKey: process.env.SERVICETITAN_APP_KEY!,\n    });\n\n    const windows = await serviceTitan.getArrivalWindows();\n\n    console.log(`[Portal] Found ${windows.length} arrival windows`);\n\n    return NextResponse.json({ windows });\n  } catch (error: any) {\n    console.error('[Portal] Get arrival windows error:', error);\n    return NextResponse.json(\n      { error: 'Failed to fetch arrival windows' },\n      { status: 500 }\n    );\n  }\n}\n"],"names":[],"mappings":";;;;AAAA;;AAEO,eAAe,IAAI,OAAoB;IAC5C,IAAI;QACF,QAAQ,GAAG,CAAC;QAEZ,uBAAuB;QACvB,MAAM,EAAE,eAAe,EAAE,GAAG;QAC5B,MAAM,eAAe,IAAI,gBAAgB;YACvC,UAAU,QAAQ,GAAG,CAAC,sBAAsB;YAC5C,UAAU,QAAQ,GAAG,CAAC,sBAAsB;YAC5C,cAAc,QAAQ,GAAG,CAAC,0BAA0B;YACpD,QAAQ,QAAQ,GAAG,CAAC,oBAAoB;QAC1C;QAEA,MAAM,UAAU,MAAM,aAAa,iBAAiB;QAEpD,QAAQ,GAAG,CAAC,CAAC,eAAe,EAAE,QAAQ,MAAM,CAAC,gBAAgB,CAAC;QAE9D,OAAO,gJAAY,CAAC,IAAI,CAAC;YAAE;QAAQ;IACrC,EAAE,OAAO,OAAY;QACnB,QAAQ,KAAK,CAAC,uCAAuC;QACrD,OAAO,gJAAY,CAAC,IAAI,CACtB;YAAE,OAAO;QAAkC,GAC3C;YAAE,QAAQ;QAAI;IAElB;AACF","debugId":null}}]
}
module.exports = [
"[externals]/next/dist/compiled/next-server/app-page-turbo.runtime.dev.js [external] (next/dist/compiled/next-server/app-page-turbo.runtime.dev.js, cjs)", ((__turbopack_context__, module, exports) => {

const mod = __turbopack_context__.x("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js", () => require("next/dist/compiled/next-server/app-page-turbo.runtime.dev.js"));

module.exports = mod;
}),
"[project]/src/contexts/PhoneConfigProvider.tsx [app-ssr] (ecmascript)", ((__turbopack_context__) => {
"use strict";

__turbopack_context__.s([
    "PhoneConfigProvider",
    ()=>PhoneConfigProvider,
    "useMarbleFallsPhone",
    ()=>useMarbleFallsPhone,
    "usePhoneConfig",
    ()=>usePhoneConfig
]);
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react-jsx-dev-runtime.js [app-ssr] (ecmascript)");
var __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__ = __turbopack_context__.i("[project]/node_modules/next/dist/server/route-modules/app-page/vendored/ssr/react.js [app-ssr] (ecmascript)");
"use client";
;
;
const DEFAULT_PHONE = {
    display: '(512) 368-9159',
    tel: 'tel:+15123689159'
};
const MARBLE_FALLS_PHONE = {
    display: '(830) 460-3565',
    tel: 'tel:+18304603565'
};
const PhoneConfigContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(DEFAULT_PHONE);
const MarbleFallsPhoneContext = /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["createContext"])(MARBLE_FALLS_PHONE);
const COOKIE_NAME = 'traffic_source';
const COOKIE_DAYS = 90;
function getCookie(name) {
    if (typeof document === 'undefined') return null;
    const value = `; ${document.cookie}`;
    const parts = value.split(`; ${name}=`);
    if (parts.length === 2) {
        return parts.pop()?.split(';').shift() || null;
    }
    return null;
}
function setCookie(name, value, days) {
    if (typeof document === 'undefined') return;
    const date = new Date();
    date.setTime(date.getTime() + days * 24 * 60 * 60 * 1000);
    const expires = `expires=${date.toUTCString()}`;
    document.cookie = `${name}=${value};${expires};path=/`;
}
function detectTrafficSource(trackingNumbers) {
    if ("TURBOPACK compile-time truthy", 1) return null;
    //TURBOPACK unreachable
    ;
    const urlParams = undefined;
    const referrer = undefined;
    const utmSource = undefined;
    const number = undefined;
}
function getPhoneNumberFromTracking(trackingNumbers) {
    const detected = detectTrafficSource(trackingNumbers);
    if (detected) {
        setCookie(COOKIE_NAME, detected.channelKey, COOKIE_DAYS);
        return {
            display: detected.displayNumber,
            tel: detected.telLink
        };
    }
    const cookieSource = getCookie(COOKIE_NAME);
    if (cookieSource) {
        const matchingNumber = trackingNumbers.find((n)=>n.channelKey === cookieSource);
        if (matchingNumber) {
            return {
                display: matchingNumber.displayNumber,
                tel: matchingNumber.telLink
            };
        }
    }
    const defaultNumber = trackingNumbers.find((n)=>n.isDefault);
    if (defaultNumber) {
        return {
            display: defaultNumber.displayNumber,
            tel: defaultNumber.telLink
        };
    }
    return DEFAULT_PHONE;
}
function PhoneConfigProvider({ children }) {
    const [phoneConfig, setPhoneConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(DEFAULT_PHONE);
    const [marbleFallsConfig, setMarbleFallsConfig] = (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useState"])(MARBLE_FALLS_PHONE);
    (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useEffect"])(()=>{
        async function fetchTrackingNumbers() {
            try {
                const response = await fetch('/api/tracking-numbers');
                if (!response.ok) throw new Error('Failed to fetch tracking numbers');
                const data = await response.json();
                const trackingNumbers = data.trackingNumbers || [];
                const austinNumbers = trackingNumbers.filter((n)=>!n.channelKey.toLowerCase().includes('marblefalls') && !n.channelKey.toLowerCase().includes('marble_falls'));
                const marbleFallsNumbers = trackingNumbers.filter((n)=>n.channelKey.toLowerCase().includes('marblefalls') || n.channelKey.toLowerCase().includes('marble_falls'));
                const austinConfig = getPhoneNumberFromTracking(austinNumbers);
                const mfConfig = marbleFallsNumbers.length > 0 ? getPhoneNumberFromTracking(marbleFallsNumbers) : MARBLE_FALLS_PHONE;
                setPhoneConfig(austinConfig);
                setMarbleFallsConfig(mfConfig);
                if ("TURBOPACK compile-time falsy", 0) //TURBOPACK unreachable
                ;
            } catch (error) {
                console.error('[PhoneConfig] Error fetching tracking numbers:', error);
            }
        }
        fetchTrackingNumbers();
    }, []);
    return /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(PhoneConfigContext.Provider, {
        value: phoneConfig,
        children: /*#__PURE__*/ (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2d$jsx$2d$dev$2d$runtime$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["jsxDEV"])(MarbleFallsPhoneContext.Provider, {
            value: marbleFallsConfig,
            children: children
        }, void 0, false, {
            fileName: "[project]/src/contexts/PhoneConfigProvider.tsx",
            lineNumber: 183,
            columnNumber: 7
        }, this)
    }, void 0, false, {
        fileName: "[project]/src/contexts/PhoneConfigProvider.tsx",
        lineNumber: 182,
        columnNumber: 5
    }, this);
}
function usePhoneConfig() {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(PhoneConfigContext);
}
function useMarbleFallsPhone() {
    return (0, __TURBOPACK__imported__module__$5b$project$5d2f$node_modules$2f$next$2f$dist$2f$server$2f$route$2d$modules$2f$app$2d$page$2f$vendored$2f$ssr$2f$react$2e$js__$5b$app$2d$ssr$5d$__$28$ecmascript$29$__["useContext"])(MarbleFallsPhoneContext);
}
}),
];

//# sourceMappingURL=%5Broot-of-the-server%5D__8825bb65._.js.map
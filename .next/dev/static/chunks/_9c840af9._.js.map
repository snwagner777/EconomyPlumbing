{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/hooks/use-toast.ts"],"sourcesContent":["'use client';\nimport * as React from \"react\"\n\nimport type {\n  ToastActionElement,\n  ToastProps,\n} from \"@/components/ui/toast\"\n\nconst TOAST_LIMIT = 1\nconst TOAST_REMOVE_DELAY = 1000000\n\ntype ToasterToast = ToastProps & {\n  id: string\n  title?: React.ReactNode\n  description?: React.ReactNode\n  action?: ToastActionElement\n}\n\nconst actionTypes = {\n  ADD_TOAST: \"ADD_TOAST\",\n  UPDATE_TOAST: \"UPDATE_TOAST\",\n  DISMISS_TOAST: \"DISMISS_TOAST\",\n  REMOVE_TOAST: \"REMOVE_TOAST\",\n} as const\n\nlet count = 0\n\nfunction genId() {\n  count = (count + 1) % Number.MAX_SAFE_INTEGER\n  return count.toString()\n}\n\ntype ActionType = typeof actionTypes\n\ntype Action =\n  | {\n      type: ActionType[\"ADD_TOAST\"]\n      toast: ToasterToast\n    }\n  | {\n      type: ActionType[\"UPDATE_TOAST\"]\n      toast: Partial<ToasterToast>\n    }\n  | {\n      type: ActionType[\"DISMISS_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n  | {\n      type: ActionType[\"REMOVE_TOAST\"]\n      toastId?: ToasterToast[\"id\"]\n    }\n\ninterface State {\n  toasts: ToasterToast[]\n}\n\nconst toastTimeouts = new Map<string, ReturnType<typeof setTimeout>>()\n\nconst addToRemoveQueue = (toastId: string) => {\n  if (toastTimeouts.has(toastId)) {\n    return\n  }\n\n  const timeout = setTimeout(() => {\n    toastTimeouts.delete(toastId)\n    dispatch({\n      type: \"REMOVE_TOAST\",\n      toastId: toastId,\n    })\n  }, TOAST_REMOVE_DELAY)\n\n  toastTimeouts.set(toastId, timeout)\n}\n\nexport const reducer = (state: State, action: Action): State => {\n  switch (action.type) {\n    case \"ADD_TOAST\":\n      return {\n        ...state,\n        toasts: [action.toast, ...state.toasts].slice(0, TOAST_LIMIT),\n      }\n\n    case \"UPDATE_TOAST\":\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === action.toast.id ? { ...t, ...action.toast } : t\n        ),\n      }\n\n    case \"DISMISS_TOAST\": {\n      const { toastId } = action\n\n      // ! Side effects ! - This could be extracted into a dismissToast() action,\n      // but I'll keep it here for simplicity\n      if (toastId) {\n        addToRemoveQueue(toastId)\n      } else {\n        state.toasts.forEach((toast) => {\n          addToRemoveQueue(toast.id)\n        })\n      }\n\n      return {\n        ...state,\n        toasts: state.toasts.map((t) =>\n          t.id === toastId || toastId === undefined\n            ? {\n                ...t,\n                open: false,\n              }\n            : t\n        ),\n      }\n    }\n    case \"REMOVE_TOAST\":\n      if (action.toastId === undefined) {\n        return {\n          ...state,\n          toasts: [],\n        }\n      }\n      return {\n        ...state,\n        toasts: state.toasts.filter((t) => t.id !== action.toastId),\n      }\n  }\n}\n\nconst listeners: Array<(state: State) => void> = []\n\nlet memoryState: State = { toasts: [] }\n\nfunction dispatch(action: Action) {\n  memoryState = reducer(memoryState, action)\n  listeners.forEach((listener) => {\n    listener(memoryState)\n  })\n}\n\ntype Toast = Omit<ToasterToast, \"id\">\n\nfunction toast({ ...props }: Toast) {\n  const id = genId()\n\n  const update = (props: ToasterToast) =>\n    dispatch({\n      type: \"UPDATE_TOAST\",\n      toast: { ...props, id },\n    })\n  const dismiss = () => dispatch({ type: \"DISMISS_TOAST\", toastId: id })\n\n  dispatch({\n    type: \"ADD_TOAST\",\n    toast: {\n      ...props,\n      id,\n      open: true,\n      onOpenChange: (open) => {\n        if (!open) dismiss()\n      },\n    },\n  })\n\n  return {\n    id: id,\n    dismiss,\n    update,\n  }\n}\n\nfunction useToast() {\n  const [state, setState] = React.useState<State>(memoryState)\n\n  React.useEffect(() => {\n    listeners.push(setState)\n    return () => {\n      const index = listeners.indexOf(setState)\n      if (index > -1) {\n        listeners.splice(index, 1)\n      }\n    }\n  }, [state])\n\n  return {\n    ...state,\n    toast,\n    dismiss: (toastId?: string) => dispatch({ type: \"DISMISS_TOAST\", toastId }),\n  }\n}\n\nexport { useToast, toast }\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 170, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/utils.ts"],"sourcesContent":["import { clsx, type ClassValue } from \"clsx\"\nimport { twMerge } from \"tailwind-merge\"\n\nexport function cn(...inputs: ClassValue[]) {\n  return twMerge(clsx(inputs))\n}\n"],"names":[],"mappings":";;;;AAAA;AACA;;;AAEO,SAAS,GAAG,GAAG,MAAoB;IACxC,OAAO,IAAA,yKAAO,EAAC,IAAA,gJAAI,EAAC;AACtB","debugId":null}},
    {"offset": {"line": 188, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/toast.tsx"],"sourcesContent":["import * as React from \"react\"\nimport * as ToastPrimitives from \"@radix-ui/react-toast\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst ToastProvider = ToastPrimitives.Provider\n\nconst ToastViewport = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Viewport>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Viewport>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Viewport\n    ref={ref}\n    className={cn(\n      \"fixed top-0 right-0 z-[100] flex max-h-screen w-full flex-col p-4 md:max-w-[420px]\",\n      className\n    )}\n    {...props}\n  />\n))\nToastViewport.displayName = ToastPrimitives.Viewport.displayName\n\nconst toastVariants = cva(\n  \"group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full\",\n  {\n    variants: {\n      variant: {\n        default: \"border bg-background text-foreground\",\n        destructive:\n          \"destructive group border-destructive bg-destructive text-destructive-foreground\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  }\n)\n\nconst Toast = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Root>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Root> &\n    VariantProps<typeof toastVariants>\n>(({ className, variant, ...props }, ref) => {\n  return (\n    <ToastPrimitives.Root\n      ref={ref}\n      className={cn(toastVariants({ variant }), className)}\n      {...props}\n    />\n  )\n})\nToast.displayName = ToastPrimitives.Root.displayName\n\nconst ToastAction = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Action>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Action>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Action\n    ref={ref}\n    className={cn(\n      \"inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive\",\n      className\n    )}\n    {...props}\n  />\n))\nToastAction.displayName = ToastPrimitives.Action.displayName\n\nconst ToastClose = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Close>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Close>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Close\n    ref={ref}\n    className={cn(\n      \"absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600\",\n      className\n    )}\n    toast-close=\"\"\n    {...props}\n  >\n    <X className=\"h-4 w-4\" />\n  </ToastPrimitives.Close>\n))\nToastClose.displayName = ToastPrimitives.Close.displayName\n\nconst ToastTitle = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Title>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Title>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Title\n    ref={ref}\n    className={cn(\"text-sm font-semibold\", className)}\n    {...props}\n  />\n))\nToastTitle.displayName = ToastPrimitives.Title.displayName\n\nconst ToastDescription = React.forwardRef<\n  React.ElementRef<typeof ToastPrimitives.Description>,\n  React.ComponentPropsWithoutRef<typeof ToastPrimitives.Description>\n>(({ className, ...props }, ref) => (\n  <ToastPrimitives.Description\n    ref={ref}\n    className={cn(\"text-sm opacity-90\", className)}\n    {...props}\n  />\n))\nToastDescription.displayName = ToastPrimitives.Description.displayName\n\ntype ToastProps = React.ComponentPropsWithoutRef<typeof Toast>\n\ntype ToastActionElement = React.ReactElement<typeof ToastAction>\n\nexport {\n  type ToastProps,\n  type ToastActionElement,\n  ToastProvider,\n  ToastViewport,\n  Toast,\n  ToastTitle,\n  ToastDescription,\n  ToastClose,\n  ToastAction,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;;;;;;;AAEA,MAAM,gBAAgB,gLAAwB;AAE9C,MAAM,8BAAgB,2KAAgB,MAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAwB;QACvB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sFACA;QAED,GAAG,KAAK;;;;;;;AAGb,cAAc,WAAW,GAAG,gLAAwB,CAAC,WAAW;AAEhE,MAAM,gBAAgB,IAAA,0KAAG,EACvB,6lBACA;IACE,UAAU;QACR,SAAS;YACP,SAAS;YACT,aACE;QACJ;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAGF,MAAM,sBAAQ,2KAAgB,OAI5B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAO,EAAE;IACnC,qBACE,6LAAC,4KAAoB;QACnB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QACzC,GAAG,KAAK;;;;;;AAGf;;AACA,MAAM,WAAW,GAAG,4KAAoB,CAAC,WAAW;AAEpD,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAsB;QACrB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sgBACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAsB,CAAC,WAAW;AAE5D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,yVACA;QAEF,eAAY;QACX,GAAG,KAAK;kBAET,cAAA,6LAAC,oMAAC;YAAC,WAAU;;;;;;;;;;;;AAGjB,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,6KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,yBAAyB;QACtC,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG,6KAAqB,CAAC,WAAW;AAE1D,MAAM,iCAAmB,2KAAgB,QAGvC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,mLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,sBAAsB;QACnC,GAAG,KAAK;;;;;;;AAGb,iBAAiB,WAAW,GAAG,mLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 327, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/toaster.tsx"],"sourcesContent":["'use client';\nimport { useToast } from \"@/hooks/use-toast\"\nimport {\n  Toast,\n  ToastClose,\n  ToastDescription,\n  ToastProvider,\n  ToastTitle,\n  ToastViewport,\n} from \"@/components/ui/toast\"\n\nexport function Toaster() {\n  const { toasts } = useToast()\n\n  return (\n    <ToastProvider>\n      {toasts.map(function ({ id, title, description, action, ...props }) {\n        return (\n          <Toast key={id} {...props}>\n            <div className=\"grid gap-1\">\n              {title && <ToastTitle>{title}</ToastTitle>}\n              {description && (\n                <ToastDescription>{description}</ToastDescription>\n              )}\n            </div>\n            {action}\n            <ToastClose />\n          </Toast>\n        )\n      })}\n      <ToastViewport />\n    </ToastProvider>\n  )\n}\n"],"names":[],"mappings":";;;;;AACA;AACA;;;AAFA;;;AAWO,SAAS;;IACd,MAAM,EAAE,MAAM,EAAE,GAAG,IAAA,2IAAQ;IAE3B,qBACE,6LAAC,qJAAa;;YACX,OAAO,GAAG,CAAC,SAAU,EAAE,EAAE,EAAE,KAAK,EAAE,WAAW,EAAE,MAAM,EAAE,GAAG,OAAO;gBAChE,qBACE,6LAAC,6IAAK;oBAAW,GAAG,KAAK;;sCACvB,6LAAC;4BAAI,WAAU;;gCACZ,uBAAS,6LAAC,kJAAU;8CAAE;;;;;;gCACtB,6BACC,6LAAC,wJAAgB;8CAAE;;;;;;;;;;;;wBAGtB;sCACD,6LAAC,kJAAU;;;;;;mBARD;;;;;YAWhB;0BACA,6LAAC,qJAAa;;;;;;;;;;;AAGpB;GAtBgB;;QACK,2IAAQ;;;KADb","debugId":null}},
    {"offset": {"line": 411, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/contexts/PhoneConfigProvider.tsx"],"sourcesContent":["\"use client\";\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\n\ninterface PhoneConfig {\n  display: string;\n  tel: string;\n}\n\ninterface TrackingNumber {\n  id: string;\n  channelKey: string;\n  channelName: string;\n  displayNumber: string;\n  rawNumber: string;\n  telLink: string;\n  detectionRules: string;\n  isActive: boolean;\n  isDefault: boolean;\n  sortOrder: number;\n}\n\ninterface DetectionRules {\n  isDefault?: boolean;\n  patterns?: string[];\n  urlParams?: string[];\n  utmSources?: string[];\n  referrerIncludes?: string[];\n}\n\nconst DEFAULT_PHONE: PhoneConfig = {\n  display: '(512) 368-9159',\n  tel: 'tel:+15123689159'\n};\n\nconst MARBLE_FALLS_PHONE: PhoneConfig = {\n  display: '(830) 460-3565',\n  tel: 'tel:+18304603565'\n};\n\nconst PhoneConfigContext = createContext<PhoneConfig>(DEFAULT_PHONE);\nconst MarbleFallsPhoneContext = createContext<PhoneConfig>(MARBLE_FALLS_PHONE);\n\nconst COOKIE_NAME = 'traffic_source';\nconst COOKIE_DAYS = 90;\n\nfunction getCookie(name: string): string | null {\n  if (typeof document === 'undefined') return null;\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) {\n    return parts.pop()?.split(';').shift() || null;\n  }\n  return null;\n}\n\nfunction setCookie(name: string, value: string, days: number): void {\n  if (typeof document === 'undefined') return;\n  const date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  const expires = `expires=${date.toUTCString()}`;\n  document.cookie = `${name}=${value};${expires};path=/`;\n}\n\nfunction detectTrafficSource(trackingNumbers: TrackingNumber[]): TrackingNumber | null {\n  if (typeof window === 'undefined') return null;\n  \n  const urlParams = new URLSearchParams(window.location.search);\n  const referrer = document.referrer.toLowerCase();\n  const utmSource = urlParams.get('utm_source')?.toLowerCase();\n\n  for (const number of trackingNumbers) {\n    if (number.isDefault) continue;\n\n    try {\n      const rules: DetectionRules = JSON.parse(number.detectionRules);\n\n      if (rules.urlParams) {\n        for (const param of rules.urlParams) {\n          if (urlParams.has(param)) {\n            return number;\n          }\n        }\n      }\n\n      if (rules.utmSources && utmSource) {\n        if (rules.utmSources.some(source => source.toLowerCase() === utmSource)) {\n          return number;\n        }\n      }\n\n      if (rules.referrerIncludes && referrer) {\n        if (rules.referrerIncludes.some(pattern => referrer.includes(pattern.toLowerCase()))) {\n          return number;\n        }\n      }\n    } catch (error) {\n      console.error(`[PhoneConfig] Error parsing detection rules:`, error);\n    }\n  }\n\n  return null;\n}\n\nfunction getPhoneNumberFromTracking(trackingNumbers: TrackingNumber[]): PhoneConfig {\n  const detected = detectTrafficSource(trackingNumbers);\n  \n  if (detected) {\n    setCookie(COOKIE_NAME, detected.channelKey, COOKIE_DAYS);\n    return {\n      display: detected.displayNumber,\n      tel: detected.telLink\n    };\n  }\n\n  const cookieSource = getCookie(COOKIE_NAME);\n  if (cookieSource) {\n    const matchingNumber = trackingNumbers.find(n => n.channelKey === cookieSource);\n    if (matchingNumber) {\n      return {\n        display: matchingNumber.displayNumber,\n        tel: matchingNumber.telLink\n      };\n    }\n  }\n\n  const defaultNumber = trackingNumbers.find(n => n.isDefault);\n  if (defaultNumber) {\n    return {\n      display: defaultNumber.displayNumber,\n      tel: defaultNumber.telLink\n    };\n  }\n\n  return DEFAULT_PHONE;\n}\n\nexport function PhoneConfigProvider({ children }: { children: ReactNode }) {\n  const [phoneConfig, setPhoneConfig] = useState<PhoneConfig>(DEFAULT_PHONE);\n  const [marbleFallsConfig, setMarbleFallsConfig] = useState<PhoneConfig>(MARBLE_FALLS_PHONE);\n\n  useEffect(() => {\n    async function fetchTrackingNumbers() {\n      try {\n        const response = await fetch('/api/tracking-numbers');\n        if (!response.ok) throw new Error('Failed to fetch tracking numbers');\n        \n        const data = await response.json();\n        const trackingNumbers = data.trackingNumbers || [];\n        \n        const austinNumbers = trackingNumbers.filter((n: TrackingNumber) => \n          !n.channelKey.toLowerCase().includes('marblefalls') &&\n          !n.channelKey.toLowerCase().includes('marble_falls')\n        );\n        \n        const marbleFallsNumbers = trackingNumbers.filter((n: TrackingNumber) =>\n          n.channelKey.toLowerCase().includes('marblefalls') ||\n          n.channelKey.toLowerCase().includes('marble_falls')\n        );\n\n        const austinConfig = getPhoneNumberFromTracking(austinNumbers);\n        const mfConfig = marbleFallsNumbers.length > 0 \n          ? getPhoneNumberFromTracking(marbleFallsNumbers)\n          : MARBLE_FALLS_PHONE;\n\n        setPhoneConfig(austinConfig);\n        setMarbleFallsConfig(mfConfig);\n\n        if (typeof window !== 'undefined') {\n          window.__PHONE_CONFIG__ = austinConfig;\n          window.__MARBLE_FALLS_PHONE_CONFIG__ = mfConfig;\n        }\n      } catch (error) {\n        console.error('[PhoneConfig] Error fetching tracking numbers:', error);\n      }\n    }\n\n    fetchTrackingNumbers();\n  }, []);\n\n  return (\n    <PhoneConfigContext.Provider value={phoneConfig}>\n      <MarbleFallsPhoneContext.Provider value={marbleFallsConfig}>\n        {children}\n      </MarbleFallsPhoneContext.Provider>\n    </PhoneConfigContext.Provider>\n  );\n}\n\nexport function usePhoneConfig() {\n  return useContext(PhoneConfigContext);\n}\n\nexport function useMarbleFallsPhone() {\n  return useContext(MarbleFallsPhoneContext);\n}\n\ndeclare global {\n  interface Window {\n    __PHONE_CONFIG__: PhoneConfig;\n    __MARBLE_FALLS_PHONE_CONFIG__: PhoneConfig;\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 588, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/queryClient.ts"],"sourcesContent":["import { QueryClient, QueryFunction } from \"@tanstack/react-query\";\n\nasync function throwIfResNotOk(res: Response) {\n  if (!res.ok) {\n    const text = (await res.text()) || res.statusText;\n    throw new Error(`${res.status}: ${text}`);\n  }\n}\n\nexport async function apiRequest(\n  method: string,\n  url: string,\n  data?: unknown | undefined,\n): Promise<Response> {\n  const res = await fetch(url, {\n    method,\n    headers: data ? { \"Content-Type\": \"application/json\" } : {},\n    body: data ? JSON.stringify(data) : undefined,\n    credentials: \"include\",\n  });\n\n  await throwIfResNotOk(res);\n  return res;\n}\n\ntype UnauthorizedBehavior = \"returnNull\" | \"throw\";\nexport const getQueryFn: <T>(options: {\n  on401: UnauthorizedBehavior;\n}) => QueryFunction<T> =\n  ({ on401: unauthorizedBehavior }) =>\n  async ({ queryKey }) => {\n    const res = await fetch(queryKey.join(\"/\") as string, {\n      credentials: \"include\",\n    });\n\n    if (unauthorizedBehavior === \"returnNull\" && res.status === 401) {\n      return null;\n    }\n\n    await throwIfResNotOk(res);\n    return await res.json();\n  };\n\nexport const queryClient = new QueryClient({\n  defaultOptions: {\n    queries: {\n      queryFn: getQueryFn({ on401: \"throw\" }),\n      refetchInterval: false,\n      refetchOnWindowFocus: false,\n      staleTime: 5 * 60 * 1000, // 5 minutes instead of Infinity\n      retry: false,\n    },\n    mutations: {\n      retry: false,\n    },\n  },\n});\n"],"names":[],"mappings":";;;;;;;;AAAA;;AAEA,eAAe,gBAAgB,GAAa;IAC1C,IAAI,CAAC,IAAI,EAAE,EAAE;QACX,MAAM,OAAO,AAAC,MAAM,IAAI,IAAI,MAAO,IAAI,UAAU;QACjD,MAAM,IAAI,MAAM,GAAG,IAAI,MAAM,CAAC,EAAE,EAAE,MAAM;IAC1C;AACF;AAEO,eAAe,WACpB,MAAc,EACd,GAAW,EACX,IAA0B;IAE1B,MAAM,MAAM,MAAM,MAAM,KAAK;QAC3B;QACA,SAAS,OAAO;YAAE,gBAAgB;QAAmB,IAAI,CAAC;QAC1D,MAAM,OAAO,KAAK,SAAS,CAAC,QAAQ;QACpC,aAAa;IACf;IAEA,MAAM,gBAAgB;IACtB,OAAO;AACT;AAGO,MAAM,aAGX,CAAC,EAAE,OAAO,oBAAoB,EAAE,GAChC,OAAO,EAAE,QAAQ,EAAE;QACjB,MAAM,MAAM,MAAM,MAAM,SAAS,IAAI,CAAC,MAAgB;YACpD,aAAa;QACf;QAEA,IAAI,yBAAyB,gBAAgB,IAAI,MAAM,KAAK,KAAK;YAC/D,OAAO;QACT;QAEA,MAAM,gBAAgB;QACtB,OAAO,MAAM,IAAI,IAAI;IACvB;AAEK,MAAM,cAAc,IAAI,+LAAW,CAAC;IACzC,gBAAgB;QACd,SAAS;YACP,SAAS,WAAW;gBAAE,OAAO;YAAQ;YACrC,iBAAiB;YACjB,sBAAsB;YACtB,WAAW,IAAI,KAAK;YACpB,OAAO;QACT;QACA,WAAW;YACT,OAAO;QACT;IACF;AACF","debugId":null}},
    {"offset": {"line": 649, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/button.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { Slot } from \"@radix-ui/react-slot\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst buttonVariants = cva(\n  \"inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-full text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0\" +\n  \" hover-elevate active-elevate-2\",\n  {\n    variants: {\n      variant: {\n        default:\n          \"bg-primary text-primary-foreground border border-primary-border\",\n        destructive:\n          \"bg-destructive text-destructive-foreground border border-destructive-border\",\n        outline:\n          // Shows the background color of whatever card / sidebar / accent background it is inside of.\n          // Inherits the current text color.\n          \" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none \",\n        secondary: \"border bg-secondary text-secondary-foreground border border-secondary-border \",\n        // Add a transparent border so that when someone toggles a border on later, it doesn't shift layout/size.\n        ghost: \"border border-transparent\",\n      },\n      // Heights are set as \"min\" heights, because sometimes Ai will place large amount of content\n      // inside buttons. With a min-height they will look appropriate with small amounts of content,\n      // but will expand to fit large amounts of content.\n      size: {\n        default: \"min-h-9 px-4 py-2\",\n        sm: \"min-h-8 rounded-full px-3 text-xs\",\n        lg: \"min-h-10 rounded-full px-8\",\n        icon: \"h-9 w-9\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n      size: \"default\",\n    },\n  },\n)\n\nexport interface ButtonProps\n  extends React.ButtonHTMLAttributes<HTMLButtonElement>,\n    VariantProps<typeof buttonVariants> {\n  asChild?: boolean\n}\n\nconst Button = React.forwardRef<HTMLButtonElement, ButtonProps>(\n  ({ className, variant, size, asChild = false, ...props }, ref) => {\n    const Comp = asChild ? Slot : \"button\"\n    return (\n      <Comp\n        className={cn(buttonVariants({ variant, size, className }))}\n        ref={ref}\n        {...props}\n      />\n    )\n  },\n)\nButton.displayName = \"Button\"\n\nexport { Button, buttonVariants }\n"],"names":[],"mappings":";;;;;;;AAAA;AACA;AACA;AAEA;;;;;;AAEA,MAAM,iBAAiB,IAAA,0KAAG,EACxB,0RACA,mCACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,aACE;YACF,SACE,6FAA6F;YAC7F,mCAAmC;YACnC;YACF,WAAW;YACX,yGAAyG;YACzG,OAAO;QACT;QACA,4FAA4F;QAC5F,8FAA8F;QAC9F,mDAAmD;QACnD,MAAM;YACJ,SAAS;YACT,IAAI;YACJ,IAAI;YACJ,MAAM;QACR;IACF;IACA,iBAAiB;QACf,SAAS;QACT,MAAM;IACR;AACF;AASF,MAAM,uBAAS,2KAAgB,MAC7B,CAAC,EAAE,SAAS,EAAE,OAAO,EAAE,IAAI,EAAE,UAAU,KAAK,EAAE,GAAG,OAAO,EAAE;IACxD,MAAM,OAAO,UAAU,2KAAI,GAAG;IAC9B,qBACE,6LAAC;QACC,WAAW,IAAA,4HAAE,EAAC,eAAe;YAAE;YAAS;YAAM;QAAU;QACxD,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,OAAO,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 721, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/card.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Card = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm\",\n      className\n    )}\n    {...props}\n  />\n));\nCard.displayName = \"Card\"\n\nconst CardHeader = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex flex-col space-y-1.5 p-6\", className)}\n    {...props}\n  />\n));\nCardHeader.displayName = \"CardHeader\"\n\nconst CardTitle = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\n      \"text-2xl font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nCardTitle.displayName = \"CardTitle\"\n\nconst CardDescription = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n));\nCardDescription.displayName = \"CardDescription\"\n\nconst CardContent = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div ref={ref} className={cn(\"p-6 pt-0\", className)} {...props} />\n))\nCardContent.displayName = \"CardContent\"\n\nconst CardFooter = React.forwardRef<\n  HTMLDivElement,\n  React.HTMLAttributes<HTMLDivElement>\n>(({ className, ...props }, ref) => (\n  <div\n    ref={ref}\n    className={cn(\"flex items-center p-6 pt-0\", className)}\n    {...props}\n  />\n))\nCardFooter.displayName = \"CardFooter\"\nexport {\n  Card,\n  CardHeader,\n  CardFooter,\n  CardTitle,\n  CardDescription,\n  CardContent,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;AAAA;AAEA;;;;AAEA,MAAM,qBAAO,2KAAgB,MAG3B,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,2FACA;QAED,GAAG,KAAK;;;;;;;AAGb,KAAK,WAAW,GAAG;AAEnB,MAAM,2BAAa,2KAAgB,OAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG;AAEzB,MAAM,0BAAY,2KAAgB,OAGhC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;;AAGb,UAAU,WAAW,GAAG;AAExB,MAAM,gCAAkB,2KAAgB,OAGtC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,gBAAgB,WAAW,GAAG;AAE9B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QAAI,KAAK;QAAK,WAAW,IAAA,4HAAE,EAAC,YAAY;QAAa,GAAG,KAAK;;;;;;;AAEhE,YAAY,WAAW,GAAG;AAE1B,MAAM,2BAAa,2KAAgB,QAGjC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC;QACC,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,8BAA8B;QAC3C,GAAG,KAAK;;;;;;;AAGb,WAAW,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 828, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/input.tsx"],"sourcesContent":["import * as React from \"react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Input = React.forwardRef<HTMLInputElement, React.ComponentProps<\"input\">>(\n  ({ className, type, ...props }, ref) => {\n    // h-9 to match icon buttons and default buttons.\n    return (\n      <input\n        type={type}\n        className={cn(\n          \"flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm\",\n          className\n        )}\n        ref={ref}\n        {...props}\n      />\n    )\n  }\n)\nInput.displayName = \"Input\"\n\nexport { Input }\n"],"names":[],"mappings":";;;;;AAAA;AAEA;;;;AAEA,MAAM,sBAAQ,2KAAgB,MAC5B,CAAC,EAAE,SAAS,EAAE,IAAI,EAAE,GAAG,OAAO,EAAE;IAC9B,iDAAiD;IACjD,qBACE,6LAAC;QACC,MAAM;QACN,WAAW,IAAA,4HAAE,EACX,iYACA;QAEF,KAAK;QACJ,GAAG,KAAK;;;;;;AAGf;;AAEF,MAAM,WAAW,GAAG","debugId":null}},
    {"offset": {"line": 864, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/badge.tsx"],"sourcesContent":["import * as React from \"react\"\nimport { cva, type VariantProps } from \"class-variance-authority\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst badgeVariants = cva(\n  // Whitespace-nowrap: Badges should never wrap.\n  \"whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2\" +\n  \" hover-elevate \" ,\n  {\n    variants: {\n      variant: {\n        default:\n          \"border-transparent bg-primary text-primary-foreground shadow-xs\",\n        secondary: \"border-transparent bg-secondary text-secondary-foreground\",\n        destructive:\n          \"border-transparent bg-destructive text-destructive-foreground shadow-xs\",\n\n        outline: \" border [border-color:var(--badge-outline)] shadow-xs\",\n      },\n    },\n    defaultVariants: {\n      variant: \"default\",\n    },\n  },\n)\n\nexport interface BadgeProps\n  extends React.HTMLAttributes<HTMLDivElement>,\n    VariantProps<typeof badgeVariants> {}\n\nfunction Badge({ className, variant, ...props }: BadgeProps) {\n  return (\n    <div className={cn(badgeVariants({ variant }), className)} {...props} />\n  );\n}\n\nexport { Badge, badgeVariants }\n"],"names":[],"mappings":";;;;;;;AACA;AAEA;;;;AAEA,MAAM,gBAAgB,IAAA,0KAAG,EACvB,+CAA+C;AAC/C,2LACA,mBACA;IACE,UAAU;QACR,SAAS;YACP,SACE;YACF,WAAW;YACX,aACE;YAEF,SAAS;QACX;IACF;IACA,iBAAiB;QACf,SAAS;IACX;AACF;AAOF,SAAS,MAAM,EAAE,SAAS,EAAE,OAAO,EAAE,GAAG,OAAmB;IACzD,qBACE,6LAAC;QAAI,WAAW,IAAA,4HAAE,EAAC,cAAc;YAAE;QAAQ,IAAI;QAAa,GAAG,KAAK;;;;;;AAExE;KAJS","debugId":null}},
    {"offset": {"line": 913, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/ui/dialog.tsx"],"sourcesContent":["\"use client\"\n\nimport * as React from \"react\"\nimport * as DialogPrimitive from \"@radix-ui/react-dialog\"\nimport { X } from \"lucide-react\"\n\nimport { cn } from \"@/lib/utils\"\n\nconst Dialog = DialogPrimitive.Root\n\nconst DialogTrigger = DialogPrimitive.Trigger\n\nconst DialogPortal = DialogPrimitive.Portal\n\nconst DialogClose = DialogPrimitive.Close\n\nconst DialogOverlay = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Overlay>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Overlay>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Overlay\n    ref={ref}\n    className={cn(\n      \"fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogOverlay.displayName = DialogPrimitive.Overlay.displayName\n\nconst DialogContent = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Content>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Content>\n>(({ className, children, ...props }, ref) => (\n  <DialogPortal>\n    <DialogOverlay />\n    <DialogPrimitive.Content\n      ref={ref}\n      className={cn(\n        \"fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg\",\n        className\n      )}\n      {...props}\n    >\n      {children}\n      <DialogPrimitive.Close className=\"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground\">\n        <X className=\"h-4 w-4\" />\n        <span className=\"sr-only\">Close</span>\n      </DialogPrimitive.Close>\n    </DialogPrimitive.Content>\n  </DialogPortal>\n))\nDialogContent.displayName = DialogPrimitive.Content.displayName\n\nconst DialogHeader = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col space-y-1.5 text-center sm:text-left\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogHeader.displayName = \"DialogHeader\"\n\nconst DialogFooter = ({\n  className,\n  ...props\n}: React.HTMLAttributes<HTMLDivElement>) => (\n  <div\n    className={cn(\n      \"flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2\",\n      className\n    )}\n    {...props}\n  />\n)\nDialogFooter.displayName = \"DialogFooter\"\n\nconst DialogTitle = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Title>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Title>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Title\n    ref={ref}\n    className={cn(\n      \"text-lg font-semibold leading-none tracking-tight\",\n      className\n    )}\n    {...props}\n  />\n))\nDialogTitle.displayName = DialogPrimitive.Title.displayName\n\nconst DialogDescription = React.forwardRef<\n  React.ElementRef<typeof DialogPrimitive.Description>,\n  React.ComponentPropsWithoutRef<typeof DialogPrimitive.Description>\n>(({ className, ...props }, ref) => (\n  <DialogPrimitive.Description\n    ref={ref}\n    className={cn(\"text-sm text-muted-foreground\", className)}\n    {...props}\n  />\n))\nDialogDescription.displayName = DialogPrimitive.Description.displayName\n\nexport {\n  Dialog,\n  DialogPortal,\n  DialogOverlay,\n  DialogClose,\n  DialogTrigger,\n  DialogContent,\n  DialogHeader,\n  DialogFooter,\n  DialogTitle,\n  DialogDescription,\n}\n"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;AAEA;AACA;AACA;AAEA;AANA;;;;;;AAQA,MAAM,SAAS,6KAAoB;AAEnC,MAAM,gBAAgB,gLAAuB;AAE7C,MAAM,eAAe,+KAAsB;AAE3C,MAAM,cAAc,8KAAqB;AAEzC,MAAM,8BAAgB,2KAAgB,CAGpC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,gLAAuB;QACtB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,0JACA;QAED,GAAG,KAAK;;;;;;KAVP;AAaN,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,8BAAgB,2KAAgB,OAGpC,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,GAAG,OAAO,EAAE,oBACpC,6LAAC;;0BACC,6LAAC;;;;;0BACD,6LAAC,gLAAuB;gBACtB,KAAK;gBACL,WAAW,IAAA,4HAAE,EACX,+fACA;gBAED,GAAG,KAAK;;oBAER;kCACD,6LAAC,8KAAqB;wBAAC,WAAU;;0CAC/B,6LAAC,oMAAC;gCAAC,WAAU;;;;;;0CACb,6LAAC;gCAAK,WAAU;0CAAU;;;;;;;;;;;;;;;;;;;;;;;;;AAKlC,cAAc,WAAW,GAAG,gLAAuB,CAAC,WAAW;AAE/D,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,sDACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,eAAe,CAAC,EACpB,SAAS,EACT,GAAG,OACkC,iBACrC,6LAAC;QACC,WAAW,IAAA,4HAAE,EACX,iEACA;QAED,GAAG,KAAK;;;;;;MATP;AAYN,aAAa,WAAW,GAAG;AAE3B,MAAM,4BAAc,2KAAgB,OAGlC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,8KAAqB;QACpB,KAAK;QACL,WAAW,IAAA,4HAAE,EACX,qDACA;QAED,GAAG,KAAK;;;;;;;AAGb,YAAY,WAAW,GAAG,8KAAqB,CAAC,WAAW;AAE3D,MAAM,kCAAoB,2KAAgB,OAGxC,CAAC,EAAE,SAAS,EAAE,GAAG,OAAO,EAAE,oBAC1B,6LAAC,oLAA2B;QAC1B,KAAK;QACL,WAAW,IAAA,4HAAE,EAAC,iCAAiC;QAC9C,GAAG,KAAK;;;;;;;AAGb,kBAAkB,WAAW,GAAG,oLAA2B,CAAC,WAAW","debugId":null}},
    {"offset": {"line": 1072, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/contexts/PhoneConfigContext.tsx"],"sourcesContent":["'use client';\n\nimport { createContext, useContext, useState, useEffect, ReactNode } from 'react';\nimport { usePathname } from 'next/navigation';\nimport { useQuery } from '@tanstack/react-query';\n\ninterface PhoneConfig {\n  display: string;\n  tel: string;\n}\n\ninterface TrackingNumber {\n  id: string;\n  channelKey: string;\n  channelName: string;\n  displayNumber: string;\n  rawNumber: string;\n  telLink: string;\n  detectionRules: string; // JSON string\n  isActive: boolean;\n  isDefault: boolean;\n  sortOrder: number;\n}\n\ninterface DetectionRules {\n  isDefault?: boolean;\n  patterns?: string[];\n  urlParams?: string[];\n  utmSources?: string[];\n  referrerIncludes?: string[];\n}\n\ndeclare global {\n  interface Window {\n    __PHONE_CONFIG__: PhoneConfig;\n    __MARBLE_FALLS_PHONE_CONFIG__: PhoneConfig;\n  }\n}\n\nconst DEFAULT_PHONE: PhoneConfig = {\n  display: '(512) 368-9159',\n  tel: 'tel:+15123689159'\n};\n\nconst MARBLE_FALLS_PHONE: PhoneConfig = {\n  display: '(830) 460-3565',\n  tel: 'tel:+18304603565'\n};\n\nconst PhoneConfigContext = createContext<PhoneConfig>(DEFAULT_PHONE);\n\n// Cookie helper functions\nconst COOKIE_NAME = 'traffic_source';\nconst COOKIE_DAYS = 90;\n\nfunction getCookie(name: string): string | null {\n  const value = `; ${document.cookie}`;\n  const parts = value.split(`; ${name}=`);\n  if (parts.length === 2) {\n    return parts.pop()?.split(';').shift() || null;\n  }\n  return null;\n}\n\nfunction setCookie(name: string, value: string, days: number): void {\n  const date = new Date();\n  date.setTime(date.getTime() + (days * 24 * 60 * 60 * 1000));\n  const expires = `expires=${date.toUTCString()}`;\n  document.cookie = `${name}=${value};${expires};path=/`;\n}\n\n// Detect traffic source from URL and referrer\nfunction detectTrafficSource(trackingNumbers: TrackingNumber[]): TrackingNumber | null {\n  const urlParams = new URLSearchParams(window.location.search);\n  const referrer = document.referrer.toLowerCase();\n  const utmSource = urlParams.get('utm_source')?.toLowerCase();\n\n  // Check each tracking number's detection rules\n  for (const number of trackingNumbers) {\n    if (number.isDefault) continue; // Skip default, we'll use it as fallback\n\n    try {\n      const rules: DetectionRules = JSON.parse(number.detectionRules);\n\n      // Check URL parameters\n      if (rules.urlParams) {\n        for (const param of rules.urlParams) {\n          if (urlParams.has(param)) {\n            return number;\n          }\n        }\n      }\n\n      // Check UTM source\n      if (rules.utmSources && utmSource) {\n        if (rules.utmSources.some(source => source.toLowerCase() === utmSource)) {\n          return number;\n        }\n      }\n\n      // Check referrer\n      if (rules.referrerIncludes && referrer) {\n        if (rules.referrerIncludes.some(pattern => referrer.includes(pattern.toLowerCase()))) {\n          return number;\n        }\n      }\n    } catch (error) {\n      console.error(`[PhoneConfig] Error parsing detection rules for ${number.channelKey}:`, error);\n    }\n  }\n\n  return null;\n}\n\nfunction getPhoneNumberFromTracking(trackingNumbers: TrackingNumber[]): PhoneConfig {\n  // PRIORITY 1: Try to detect from current URL/referrer (this should override cookie)\n  const detected = detectTrafficSource(trackingNumbers);\n  \n  if (detected) {\n    // Save to cookie for 90 days\n    setCookie(COOKIE_NAME, detected.channelKey, COOKIE_DAYS);\n    return {\n      display: detected.displayNumber,\n      tel: detected.telLink\n    };\n  }\n\n  // PRIORITY 2: Check if we have a saved traffic source in cookie (fallback)\n  const savedSource = getCookie(COOKIE_NAME);\n  \n  if (savedSource) {\n    const savedNumber = trackingNumbers.find(n => n.channelKey === savedSource && n.isActive);\n    if (savedNumber) {\n      return {\n        display: savedNumber.displayNumber,\n        tel: savedNumber.telLink\n      };\n    }\n  }\n\n  // PRIORITY 3: Fallback to default number\n  const defaultNumber = trackingNumbers.find(n => n.isDefault && n.isActive);\n  if (defaultNumber) {\n    return {\n      display: defaultNumber.displayNumber,\n      tel: defaultNumber.telLink\n    };\n  }\n\n  // Ultimate fallback\n  return DEFAULT_PHONE;\n}\n\nexport function PhoneConfigProvider({ children }: { children: ReactNode }) {\n  const location = usePathname() || '/';\n  const [phoneConfig, setPhoneConfig] = useState<PhoneConfig>(() => {\n    // Initialize window globals immediately to avoid race conditions\n    if (!window.__PHONE_CONFIG__) {\n      window.__PHONE_CONFIG__ = DEFAULT_PHONE;\n    }\n    if (!window.__MARBLE_FALLS_PHONE_CONFIG__) {\n      window.__MARBLE_FALLS_PHONE_CONFIG__ = MARBLE_FALLS_PHONE;\n    }\n    return window.__PHONE_CONFIG__;\n  });\n\n  // Fetch tracking numbers from API\n  const { data: trackingData, isLoading } = useQuery<{ trackingNumbers: TrackingNumber[] }>({\n    queryKey: ['/api/tracking-numbers'],\n    staleTime: 1000 * 60 * 5, // Cache for 5 minutes\n  });\n\n  useEffect(() => {\n    // Only update if we have tracking numbers loaded\n    if (!trackingData?.trackingNumbers || isLoading) {\n      return;\n    }\n\n    // Get phone number based on current URL/cookies and tracking numbers\n    const newConfig = getPhoneNumberFromTracking(trackingData.trackingNumbers);\n    \n    // Update both the window global (for legacy code) and React state\n    window.__PHONE_CONFIG__ = newConfig;\n    window.__MARBLE_FALLS_PHONE_CONFIG__ = MARBLE_FALLS_PHONE;\n    setPhoneConfig(newConfig);\n  }, [location, trackingData, isLoading]);\n\n  return (\n    <PhoneConfigContext.Provider value={phoneConfig}>\n      {children}\n    </PhoneConfigContext.Provider>\n  );\n}\n\nexport function usePhoneConfig(): PhoneConfig {\n  return useContext(PhoneConfigContext);\n}\n\nexport function useAustinPhone(): PhoneConfig {\n  return usePhoneConfig();\n}\n\nexport function useMarbleFallsPhone(): PhoneConfig {\n  return MARBLE_FALLS_PHONE;\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 1271, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/hooks/usePhoneConfig.ts"],"sourcesContent":["// Re-export phone config hooks from context for backwards compatibility\nexport { usePhoneConfig, useAustinPhone, useMarbleFallsPhone } from '@/contexts/PhoneConfigContext';\n"],"names":[],"mappings":"AAAA,wEAAwE;;AACxE","debugId":null}},
    {"offset": {"line": 1282, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/lib/scheduler.ts"],"sourcesContent":["// ServiceTitan scheduler utility with on-demand loading for performance optimization\ndeclare global {\n  interface Window {\n    STWidgetManager: (action: string) => void;\n    __PHONE_CONFIG__: { display: string; tel: string };\n    __MARBLE_FALLS_PHONE_CONFIG__: { display: string; tel: string };\n  }\n}\n\nlet isCheckingScheduler = false;\nlet schedulerReady = false;\nlet scriptLoading = false;\n\n// Load ServiceTitan script dynamically (only when needed)\nconst loadServiceTitanScript = (): Promise<boolean> => {\n  return new Promise((resolve) => {\n    // Check if script already exists\n    const existingScript = document.querySelector('script[src*=\"servicetitan.com\"]');\n    if (existingScript || typeof window.STWidgetManager !== 'undefined') {\n      schedulerReady = true;\n      resolve(true);\n      return;\n    }\n\n    // Prevent multiple simultaneous loads\n    if (scriptLoading) {\n      // Wait for the existing load to complete\n      const checkInterval = setInterval(() => {\n        if (schedulerReady) {\n          clearInterval(checkInterval);\n          resolve(true);\n        }\n      }, 100);\n      return;\n    }\n\n    scriptLoading = true;\n\n    // Create and inject the ServiceTitan script\n    const script = document.createElement('script');\n    script.innerHTML = `\n      (function(q,w,e,r,t,y,u){q[t]=q[t]||function(){(q[t].q = q[t].q || []).push(arguments)};\n        q[t].l=1*new Date();y=w.createElement(e);u=w.getElementsByTagName(e)[0];y.async=true;\n        y.src=r;u.parentNode.insertBefore(y,u);q[t]('init', '3ce4a586-8427-4716-9ac6-46cb8bf7ac4f');\n      })(window, document, 'script', 'https://static.servicetitan.com/webscheduler/shim.js', 'STWidgetManager');\n    `;\n    document.body.appendChild(script);\n\n    // Wait for it to initialize\n    const maxAttempts = 50;\n    let attempts = 0;\n    const checkInterval = setInterval(() => {\n      attempts++;\n      if (window.STWidgetManager && typeof window.STWidgetManager === 'function') {\n        schedulerReady = true;\n        scriptLoading = false;\n        clearInterval(checkInterval);\n        resolve(true);\n      } else if (attempts >= maxAttempts) {\n        scriptLoading = false;\n        clearInterval(checkInterval);\n        console.error('ServiceTitan scheduler failed to load after 5 seconds');\n        resolve(false);\n      }\n    }, 100);\n  });\n};\n\n// Wait for STWidgetManager to be available (legacy function, now loads on demand)\nconst waitForScheduler = (): Promise<boolean> => {\n  return loadServiceTitanScript();\n};\n\n// Open the scheduler with proper error handling\nexport const openScheduler = async () => {\n  console.log('Attempting to open ServiceTitan scheduler...');\n\n  // If we already know it's ready, open immediately\n  if (schedulerReady && window.STWidgetManager) {\n    try {\n      window.STWidgetManager('ws-open');\n      console.log('Scheduler opened successfully');\n      return true;\n    } catch (error) {\n      console.error('Error opening scheduler:', error);\n      showSchedulerError();\n      return false;\n    }\n  }\n\n  // Otherwise, wait for it to load\n  if (!isCheckingScheduler) {\n    isCheckingScheduler = true;\n    const loaded = await waitForScheduler();\n    isCheckingScheduler = false;\n\n    if (loaded && window.STWidgetManager) {\n      try {\n        window.STWidgetManager('ws-open');\n        console.log('Scheduler opened successfully after waiting');\n        return true;\n      } catch (error) {\n        console.error('Error opening scheduler after load:', error);\n        showSchedulerError();\n        return false;\n      }\n    } else {\n      console.error('ServiceTitan scheduler could not be loaded');\n      showSchedulerError();\n      return false;\n    }\n  }\n\n  return false;\n};\n\n// Show user-friendly error message\nconst showSchedulerError = () => {\n  // Access window globals with multiple fallback levels\n  const austinPhone = window.__PHONE_CONFIG__?.display || '(512) 368-9159';\n  const marbleFallsPhone = window.__MARBLE_FALLS_PHONE_CONFIG__?.display || \n                           window.__PHONE_CONFIG__?.display || \n                           '(830) 460-3565';\n  \n  // Log missing config for debugging\n  if (!window.__PHONE_CONFIG__) {\n    console.warn('[Scheduler] window.__PHONE_CONFIG__ not initialized');\n  }\n  if (!window.__MARBLE_FALLS_PHONE_CONFIG__) {\n    console.warn('[Scheduler] window.__MARBLE_FALLS_PHONE_CONFIG__ not initialized');\n  }\n  \n  alert(\n    'Online scheduler is temporarily unavailable.\\n\\n' +\n    'Please call us directly:\\n' +\n    `Austin: ${austinPhone}\\n` +\n    `Marble Falls: ${marbleFallsPhone}\\n\\n` +\n    'Or refresh the page and try again.'\n  );\n};\n"],"names":[],"mappings":"AAAA,qFAAqF;;;;;AASrF,IAAI,sBAAsB;AAC1B,IAAI,iBAAiB;AACrB,IAAI,gBAAgB;AAEpB,0DAA0D;AAC1D,MAAM,yBAAyB;IAC7B,OAAO,IAAI,QAAQ,CAAC;QAClB,iCAAiC;QACjC,MAAM,iBAAiB,SAAS,aAAa,CAAC;QAC9C,IAAI,kBAAkB,OAAO,OAAO,eAAe,KAAK,aAAa;YACnE,iBAAiB;YACjB,QAAQ;YACR;QACF;QAEA,sCAAsC;QACtC,IAAI,eAAe;YACjB,yCAAyC;YACzC,MAAM,gBAAgB,YAAY;gBAChC,IAAI,gBAAgB;oBAClB,cAAc;oBACd,QAAQ;gBACV;YACF,GAAG;YACH;QACF;QAEA,gBAAgB;QAEhB,4CAA4C;QAC5C,MAAM,SAAS,SAAS,aAAa,CAAC;QACtC,OAAO,SAAS,GAAG,CAAC;;;;;IAKpB,CAAC;QACD,SAAS,IAAI,CAAC,WAAW,CAAC;QAE1B,4BAA4B;QAC5B,MAAM,cAAc;QACpB,IAAI,WAAW;QACf,MAAM,gBAAgB,YAAY;YAChC;YACA,IAAI,OAAO,eAAe,IAAI,OAAO,OAAO,eAAe,KAAK,YAAY;gBAC1E,iBAAiB;gBACjB,gBAAgB;gBAChB,cAAc;gBACd,QAAQ;YACV,OAAO,IAAI,YAAY,aAAa;gBAClC,gBAAgB;gBAChB,cAAc;gBACd,QAAQ,KAAK,CAAC;gBACd,QAAQ;YACV;QACF,GAAG;IACL;AACF;AAEA,kFAAkF;AAClF,MAAM,mBAAmB;IACvB,OAAO;AACT;AAGO,MAAM,gBAAgB;IAC3B,QAAQ,GAAG,CAAC;IAEZ,kDAAkD;IAClD,IAAI,kBAAkB,OAAO,eAAe,EAAE;QAC5C,IAAI;YACF,OAAO,eAAe,CAAC;YACvB,QAAQ,GAAG,CAAC;YACZ,OAAO;QACT,EAAE,OAAO,OAAO;YACd,QAAQ,KAAK,CAAC,4BAA4B;YAC1C;YACA,OAAO;QACT;IACF;IAEA,iCAAiC;IACjC,IAAI,CAAC,qBAAqB;QACxB,sBAAsB;QACtB,MAAM,SAAS,MAAM;QACrB,sBAAsB;QAEtB,IAAI,UAAU,OAAO,eAAe,EAAE;YACpC,IAAI;gBACF,OAAO,eAAe,CAAC;gBACvB,QAAQ,GAAG,CAAC;gBACZ,OAAO;YACT,EAAE,OAAO,OAAO;gBACd,QAAQ,KAAK,CAAC,uCAAuC;gBACrD;gBACA,OAAO;YACT;QACF,OAAO;YACL,QAAQ,KAAK,CAAC;YACd;YACA,OAAO;QACT;IACF;IAEA,OAAO;AACT;AAEA,mCAAmC;AACnC,MAAM,qBAAqB;IACzB,sDAAsD;IACtD,MAAM,cAAc,OAAO,gBAAgB,EAAE,WAAW;IACxD,MAAM,mBAAmB,OAAO,6BAA6B,EAAE,WACtC,OAAO,gBAAgB,EAAE,WACzB;IAEzB,mCAAmC;IACnC,IAAI,CAAC,OAAO,gBAAgB,EAAE;QAC5B,QAAQ,IAAI,CAAC;IACf;IACA,IAAI,CAAC,OAAO,6BAA6B,EAAE;QACzC,QAAQ,IAAI,CAAC;IACf;IAEA,MACE,qDACA,+BACA,CAAC,QAAQ,EAAE,YAAY,EAAE,CAAC,GAC1B,CAAC,cAAc,EAAE,iBAAiB,IAAI,CAAC,GACvC;AAEJ","debugId":null}},
    {"offset": {"line": 1402, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/src/components/AIChatbot.tsx"],"sourcesContent":["'use client';\n\nimport { useState, useEffect, useRef, useCallback } from \"react\";\nimport { createPortal } from \"react-dom\";\nimport { usePathname } from \"next/navigation\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { \n  MessageCircle, \n  X, \n  Send, \n  Phone, \n  MessageSquare, \n  Loader2, \n  Minimize2, \n  Maximize2,\n  ThumbsUp,\n  ThumbsDown,\n  ImageIcon,\n  Star,\n  Trash2,\n  CheckCircle,\n  AlertCircle,\n  HelpCircle,\n  Clock,\n  DollarSign,\n  Calendar,\n  Wrench,\n  Bell\n} from \"lucide-react\";\nimport { usePhoneConfig } from \"@/hooks/usePhoneConfig\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { cn } from \"@/lib/utils\";\nimport { openScheduler } from \"@/lib/scheduler\";\n\n// Hook to detect mobile screen size\nfunction useIsMobile() {\n  const [isMobile, setIsMobile] = useState(false);\n\n  useEffect(() => {\n    if (typeof window === 'undefined') return;\n    \n    const checkMobile = () => {\n      setIsMobile(window.innerWidth < 768);\n    };\n    \n    checkMobile();\n    window.addEventListener('resize', checkMobile);\n    return () => window.removeEventListener('resize', checkMobile);\n  }, []);\n\n  return isMobile;\n}\n\n// Generate unique IDs\nfunction generateSessionId(): string {\n  return `session_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\nfunction generateConversationId(): string {\n  return `conv_${Date.now()}_${Math.random().toString(36).substr(2, 9)}`;\n}\n\n// Web Audio API sound notification\nfunction playNotificationSound() {\n  try {\n    const audioContext = new (window.AudioContext || (window as any).webkitAudioContext)();\n    const oscillator = audioContext.createOscillator();\n    const gainNode = audioContext.createGain();\n    \n    oscillator.connect(gainNode);\n    gainNode.connect(audioContext.destination);\n    \n    oscillator.frequency.value = 800; // Frequency in Hz\n    oscillator.type = 'sine';\n    \n    gainNode.gain.setValueAtTime(0.3, audioContext.currentTime);\n    gainNode.gain.exponentialRampToValueAtTime(0.01, audioContext.currentTime + 0.5);\n    \n    oscillator.start(audioContext.currentTime);\n    oscillator.stop(audioContext.currentTime + 0.5);\n  } catch (err) {\n    console.log(\"Could not play notification sound:\", err);\n  }\n}\n\ninterface Message {\n  id?: string;\n  role: \"user\" | \"assistant\" | \"system\";\n  content: string;\n  timestamp?: number;\n  feedback?: \"positive\" | \"negative\" | null;\n  imageUrl?: string;\n  needsHandoff?: boolean;\n}\n\ninterface QuickResponse {\n  label: string;\n  message: string;\n  icon?: string;\n}\n\ninterface ConversationData {\n  sessionId: string;\n  conversationId: string;\n  messages: Message[];\n  lastActivity: number;\n  pageContext?: string;\n  rating?: number;\n}\n\nconst STORAGE_KEY = \"chatbot_conversations\";\nconst SESSION_TIMEOUT = 30 * 60 * 1000; // 30 minutes\n\n// Default quick responses\nconst DEFAULT_QUICK_RESPONSES: QuickResponse[] = [\n  { label: \"Emergency Service\", message: \"I need emergency plumbing service\", icon: \"AlertCircle\" },\n  { label: \"Get Quote\", message: \"I'd like to get a quote for plumbing services\", icon: \"DollarSign\" },\n  { label: \"Schedule Service\", message: \"I want to schedule a service appointment\", icon: \"Calendar\" },\n  { label: \"Water Heater Issue\", message: \"I'm having issues with my water heater\", icon: \"Wrench\" },\n  { label: \"Business Hours\", message: \"What are your business hours?\", icon: \"Clock\" },\n  { label: \"Service Areas\", message: \"What areas do you service?\", icon: \"HelpCircle\" },\n];\n\nconst ICON_MAP: { [key: string]: any } = {\n  AlertCircle,\n  DollarSign,\n  Calendar,\n  Wrench,\n  Clock,\n  HelpCircle,\n  CheckCircle\n};\n\nexport default function AIChatbot() {\n  // SSR guard - MUST be first to prevent hydration issues\n  if (typeof window === 'undefined') {\n    return null;\n  }\n\n  const location = usePathname() || '/';\n  const [isOpen, setIsOpen] = useState(false);\n  const [isMinimized, setIsMinimized] = useState(false);\n  const [messages, setMessages] = useState<Message[]>([]);\n  const [input, setInput] = useState(\"\");\n  const [isLoading, setIsLoading] = useState(false);\n  const [showHandoff, setShowHandoff] = useState(false);\n  const [isTyping, setIsTyping] = useState(false);\n  const [sessionId, setSessionId] = useState<string>(\"\");\n  const [conversationId, setConversationId] = useState<string>(\"\");\n  const [quickResponses, setQuickResponses] = useState<QuickResponse[]>(DEFAULT_QUICK_RESPONSES);\n  const [unreadCount, setUnreadCount] = useState(0);\n  const [showRatingDialog, setShowRatingDialog] = useState(false);\n  const [rating, setRating] = useState(0);\n  const [uploadedImage, setUploadedImage] = useState<File | null>(null);\n  const [isUploading, setIsUploading] = useState(false);\n  const fileInputRef = useRef<HTMLInputElement>(null);\n  const messagesEndRef = useRef<HTMLDivElement>(null);\n  const phoneConfig = usePhoneConfig();\n  const isMobile = useIsMobile();\n\n  // Don't render chatbot on admin pages\n  if (location.startsWith('/admin')) {\n    return null;\n  }\n\n  // Guard against missing phoneConfig\n  if (!phoneConfig || !phoneConfig.tel || !phoneConfig.display) {\n    return null;\n  }\n\n  // Load conversation from localStorage on mount\n  useEffect(() => {\n    const stored = localStorage.getItem(STORAGE_KEY);\n    if (stored) {\n      try {\n        const data: ConversationData = JSON.parse(stored);\n        \n        // Check if session is still valid (not expired)\n        const now = Date.now();\n        if (now - data.lastActivity < SESSION_TIMEOUT) {\n          setSessionId(data.sessionId);\n          setConversationId(data.conversationId);\n          setMessages(data.messages || []);\n        } else {\n          // Session expired, start fresh\n          initializeNewSession();\n        }\n      } catch (err) {\n        console.error(\"Failed to load conversation:\", err);\n        initializeNewSession();\n      }\n    } else {\n      initializeNewSession();\n    }\n  }, []);\n\n  // Initialize new session\n  const initializeNewSession = () => {\n    const newSessionId = generateSessionId();\n    const newConversationId = generateConversationId();\n    setSessionId(newSessionId);\n    setConversationId(newConversationId);\n    setMessages([]);\n    saveToLocalStorage(newSessionId, newConversationId, []);\n  };\n\n  // Save conversation to localStorage\n  const saveToLocalStorage = (sid: string, cid: string, msgs: Message[]) => {\n    const data: ConversationData = {\n      sessionId: sid,\n      conversationId: cid,\n      messages: msgs,\n      lastActivity: Date.now(),\n      pageContext: location,\n      rating: rating || undefined\n    };\n    localStorage.setItem(STORAGE_KEY, JSON.stringify(data));\n  };\n\n  // Update localStorage whenever messages change\n  useEffect(() => {\n    if (sessionId && conversationId) {\n      saveToLocalStorage(sessionId, conversationId, messages);\n    }\n  }, [messages, sessionId, conversationId, rating]);\n\n  // Track unread messages\n  useEffect(() => {\n    if (!isOpen && messages.length > 0) {\n      const lastMessage = messages[messages.length - 1];\n      if (lastMessage.role === 'assistant') {\n        setUnreadCount(prev => prev + 1);\n        playNotificationSound(); // Play sound for new message\n      }\n    }\n  }, [messages, isOpen]);\n\n  // Reset unread count when chatbot opens\n  useEffect(() => {\n    if (isOpen) {\n      setUnreadCount(0);\n    }\n  }, [isOpen]);\n\n  // Auto-scroll to bottom when new messages arrive\n  useEffect(() => {\n    if (!isMinimized) {\n      messagesEndRef.current?.scrollIntoView({ behavior: \"smooth\" });\n    }\n  }, [messages, isMinimized]);\n\n  // Initial greeting when chatbot opens for the first time\n  useEffect(() => {\n    if (isOpen && messages.length === 0) {\n      const greeting: Message = {\n        id: `msg_${Date.now()}`,\n        role: \"assistant\",\n        content: \"Hi! I'm Economy Plumbing's AI assistant. I can help you with:\\n\\n Water heater questions\\n Pricing estimates\\n Scheduling appointments\\n Emergency plumbing info\\n Common plumbing issues\\n\\nWhat can I help you with today?\",\n        timestamp: Date.now()\n      };\n      setMessages([greeting]);\n    }\n  }, [isOpen, messages.length]);\n\n  // Handle sending messages\n  const handleSendMessage = async (messageText?: string) => {\n    const textToSend = messageText || input.trim();\n    if (!textToSend && !uploadedImage || isLoading) return;\n\n    const userMessage: Message = {\n      id: `msg_${Date.now()}`,\n      role: \"user\",\n      content: textToSend || \"I've uploaded an image of my plumbing issue\",\n      timestamp: Date.now()\n    };\n\n    // Clear input\n    setInput(\"\");\n    \n    // Add user message to chat\n    const newMessages: Message[] = [...messages, userMessage];\n    setMessages(newMessages);\n    setIsLoading(true);\n    setIsTyping(true);\n\n    try {\n      // Upload image first if there is one\n      let imageUrl: string | undefined;\n      if (uploadedImage) {\n        setIsUploading(true);\n        const formData = new FormData();\n        formData.append('image', uploadedImage);\n        formData.append('sessionId', sessionId);\n        formData.append('conversationId', conversationId);\n\n        const uploadResponse = await apiRequest(\"POST\", \"/api/chatbot/upload-image\", formData);\n        const uploadData = await uploadResponse.json();\n        imageUrl = uploadData.imageUrl;\n        \n        // Add image to user message\n        userMessage.imageUrl = imageUrl;\n        setUploadedImage(null);\n        setIsUploading(false);\n      }\n\n      // Call backend API for chat completion\n      const response = await apiRequest(\"POST\", \"/api/chatbot\", {\n        messages: newMessages.map(m => ({ role: m.role, content: m.content, imageUrl: m.imageUrl })),\n        sessionId,\n        conversationId,\n        pageContext: location\n      });\n\n      const data = await response.json();\n      \n      // Update quick responses if provided\n      if (data.quickResponses && data.quickResponses.length > 0) {\n        setQuickResponses(data.quickResponses);\n      }\n\n      const assistantMessage: Message = {\n        id: `msg_${Date.now()}`,\n        role: \"assistant\",\n        content: data.message,\n        timestamp: Date.now(),\n        needsHandoff: data.needsHandoff\n      };\n\n      // Check if AI determined a handoff is needed\n      if (data.needsHandoff) {\n        setShowHandoff(true);\n      }\n\n      // Check if AI wants to open ServiceTitan scheduler\n      if (data.openScheduler) {\n        // Open the ServiceTitan scheduler\n        const schedulerOpened = await openScheduler();\n        \n        if (!schedulerOpened) {\n          // If scheduler didn't open, add a fallback message\n          const fallbackMessage: Message = {\n            id: `msg_${Date.now() + 1}`,\n            role: \"assistant\",\n            content: \"I'm having trouble opening the scheduler right now. Please call us at \" + phoneConfig.display + \" to book your appointment, or you can try refreshing the page and clicking the 'Schedule Service' button.\",\n            timestamp: Date.now()\n          };\n          setMessages([...newMessages, assistantMessage, fallbackMessage]);\n          return;\n        }\n      }\n\n      setMessages([...newMessages, assistantMessage]);\n      \n      // Play notification sound\n      if (!isOpen || isMinimized) {\n        playNotificationSound();\n      }\n\n    } catch (error) {\n      console.error(\"Chatbot error:\", error);\n      const errorMessage: Message = {\n        id: `msg_${Date.now()}`,\n        role: \"assistant\",\n        content: `I'm having trouble connecting right now. Please text us directly at ${phoneConfig.display} or call for immediate assistance.`,\n        timestamp: Date.now(),\n        needsHandoff: true\n      };\n      setMessages([...newMessages, errorMessage]);\n      setShowHandoff(true);\n    } finally {\n      setIsLoading(false);\n      setIsTyping(false);\n    }\n  };\n\n  // Handle feedback\n  const handleFeedback = async (messageId: string | undefined, feedbackType: \"positive\" | \"negative\") => {\n    if (!messageId) return;\n    \n    // Update local state\n    setMessages(prev => prev.map(msg => \n      msg.id === messageId ? { ...msg, feedback: feedbackType } : msg\n    ));\n\n    // Send feedback to backend\n    try {\n      await apiRequest(\"POST\", \"/api/chatbot/feedback\", {\n        messageId,\n        conversationId,\n        feedback: feedbackType\n      });\n    } catch (err) {\n      console.error(\"Failed to send feedback:\", err);\n    }\n  };\n\n  // Handle image upload\n  const handleImageSelect = (e: React.ChangeEvent<HTMLInputElement>) => {\n    const file = e.target.files?.[0];\n    if (file) {\n      setUploadedImage(file);\n    }\n  };\n\n  // Clear conversation\n  const handleClearChat = () => {\n    setMessages([]);\n    setShowHandoff(false);\n    initializeNewSession();\n    localStorage.removeItem(STORAGE_KEY);\n    \n    // Add initial greeting\n    const greeting: Message = {\n      id: `msg_${Date.now()}`,\n      role: \"assistant\",\n      content: \"Hi! I've cleared our previous conversation. How can I help you today?\",\n      timestamp: Date.now()\n    };\n    setMessages([greeting]);\n  };\n\n  // End conversation and show rating\n  const handleEndConversation = () => {\n    setShowRatingDialog(true);\n  };\n\n  // Submit rating\n  const handleSubmitRating = async (stars: number) => {\n    setRating(stars);\n    setShowRatingDialog(false);\n\n    try {\n      await apiRequest(\"POST\", \"/api/chatbot/end-conversation\", {\n        conversationId,\n        rating: stars\n      });\n    } catch (err) {\n      console.error(\"Failed to submit rating:\", err);\n    }\n\n    // Thank user\n    const thankYouMessage: Message = {\n      id: `msg_${Date.now()}`,\n      role: \"assistant\",\n      content: \"Thank you for your feedback! Is there anything else I can help you with?\",\n      timestamp: Date.now()\n    };\n    setMessages(prev => [...prev, thankYouMessage]);\n  };\n\n  const handleKeyPress = (e: React.KeyboardEvent) => {\n    if (e.key === \"Enter\" && !e.shiftKey) {\n      e.preventDefault();\n      handleSendMessage();\n    }\n  };\n\n  const openSMS = () => {\n    window.location.href = `sms:${phoneConfig.tel}`;\n  };\n\n  // Rating Dialog\n  const ratingDialog = showRatingDialog && (\n    <Dialog open={showRatingDialog} onOpenChange={setShowRatingDialog}>\n      <DialogContent>\n        <DialogHeader>\n          <DialogTitle>How was your experience?</DialogTitle>\n          <DialogDescription>\n            Please rate your conversation to help us improve our service\n          </DialogDescription>\n        </DialogHeader>\n        <div className=\"flex justify-center gap-2 py-4\">\n          {[1, 2, 3, 4, 5].map((star) => (\n            <button\n              key={star}\n              onClick={() => handleSubmitRating(star)}\n              className=\"hover:scale-110 transition-transform\"\n              data-testid={`button-rating-${star}`}\n            >\n              <Star\n                className={cn(\n                  \"w-8 h-8\",\n                  star <= rating ? \"fill-yellow-400 text-yellow-400\" : \"text-muted-foreground\"\n                )}\n              />\n            </button>\n          ))}\n        </div>\n      </DialogContent>\n    </Dialog>\n  );\n\n  // Build chatbot UI\n  let chatbotUI;\n  \n  if (!isOpen) {\n    chatbotUI = (\n      <div\n        className=\"relative\"\n        style={{\n          position: 'fixed',\n          bottom: isMobile ? '1rem' : '1.5rem',\n          right: isMobile ? '1rem' : '1.5rem',\n          zIndex: 9999\n        }}\n      >\n        <Button\n          onClick={() => setIsOpen(true)}\n          className=\"h-14 w-14 rounded-full shadow-lg hover:scale-110 transition-transform\"\n          size=\"icon\"\n          data-testid=\"button-open-chatbot\"\n        >\n          <MessageCircle className=\"w-6 h-6\" />\n        </Button>\n        {unreadCount > 0 && (\n          <Badge className=\"absolute -top-2 -right-2 h-6 w-6 rounded-full p-0 flex items-center justify-center animate-pulse\">\n            {unreadCount}\n          </Badge>\n        )}\n      </div>\n    );\n  } else if (isMinimized) {\n    // Minimized state\n    chatbotUI = (\n      <div\n        className={cn(\n          \"fixed bg-background border rounded-lg shadow-lg p-3 flex items-center gap-3 cursor-pointer hover:shadow-xl transition-shadow\",\n          isMobile ? \"bottom-4 left-4 right-4\" : \"bottom-6 right-6\"\n        )}\n        style={{ zIndex: 9999 }}\n        onClick={() => setIsMinimized(false)}\n      >\n        <div className=\"w-8 h-8 bg-primary rounded-full flex items-center justify-center\">\n          <MessageCircle className=\"w-4 h-4 text-primary-foreground\" />\n        </div>\n        <div className=\"flex-1\">\n          <p className=\"text-sm font-semibold\">Economy Plumbing AI</p>\n          <p className=\"text-xs text-muted-foreground\">Click to expand</p>\n        </div>\n        {unreadCount > 0 && (\n          <Badge className=\"animate-pulse\">\n            {unreadCount} new\n          </Badge>\n        )}\n        <Button\n          variant=\"ghost\"\n          size=\"icon\"\n          className=\"h-8 w-8\"\n          onClick={(e) => {\n            e.stopPropagation();\n            setIsOpen(false);\n            setIsMinimized(false);\n          }}\n          data-testid=\"button-close-minimized\"\n        >\n          <X className=\"w-4 h-4\" />\n        </Button>\n      </div>\n    );\n  } else if (isMobile && !isMinimized) {\n    chatbotUI = (\n      <>\n        <Card \n          className=\"shadow-2xl flex flex-col\"\n          style={{\n            position: 'fixed',\n            left: 0,\n            right: 0,\n            bottom: 0,\n            width: '100%',\n            height: 'calc(100vh - 80px)',\n            borderTopLeftRadius: '0.5rem',\n            borderTopRightRadius: '0.5rem',\n            borderBottomLeftRadius: 0,\n            borderBottomRightRadius: 0,\n            zIndex: 9999\n          }}\n        >\n          {/* Header */}\n          <CardHeader className=\"pb-3 border-b flex-shrink-0\">\n            <div className=\"flex items-center justify-between\">\n              <div className=\"flex items-center gap-2\">\n                <div className=\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\">\n                  <MessageCircle className=\"w-5 h-5 text-primary-foreground\" />\n                </div>\n                <div>\n                  <CardTitle className=\"text-base\">Economy Plumbing AI</CardTitle>\n                  <CardDescription className=\"text-xs flex items-center gap-1\">\n                    <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></span>\n                    Online {location && ` ${location.substring(1) || 'home'}`}\n                  </CardDescription>\n                </div>\n              </div>\n              <div className=\"flex gap-1\">\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={handleClearChat}\n                  className=\"h-8 w-8\"\n                  data-testid=\"button-clear-chat\"\n                >\n                  <Trash2 className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setIsMinimized(true)}\n                  className=\"h-8 w-8\"\n                  data-testid=\"button-minimize-chatbot\"\n                >\n                  <Minimize2 className=\"w-4 h-4\" />\n                </Button>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  onClick={() => setIsOpen(false)}\n                  className=\"h-8 w-8\"\n                  data-testid=\"button-close-chatbot\"\n                >\n                  <X className=\"w-4 h-4\" />\n                </Button>\n              </div>\n            </div>\n          </CardHeader>\n\n          {/* Messages */}\n          <CardContent className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n            {messages.map((message, index) => (\n              <div key={message.id || index}>\n                <div\n                  className={`flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}\n                >\n                  <div\n                    className={cn(\n                      \"max-w-[85%] rounded-lg px-4 py-2\",\n                      message.role === \"user\"\n                        ? \"bg-primary text-primary-foreground\"\n                        : \"bg-muted\"\n                    )}\n                    data-testid={`message-${message.role}-${index}`}\n                  >\n                    <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n                    {message.imageUrl && (\n                      <img \n                        src={message.imageUrl} \n                        alt=\"Uploaded plumbing issue\"\n                        className=\"mt-2 rounded-md max-w-full h-auto\"\n                      />\n                    )}\n                  </div>\n                </div>\n                \n                {/* Feedback buttons for assistant messages */}\n                {message.role === \"assistant\" && (\n                  <div className={`flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"} mt-2 gap-2 ml-2`}>\n                    <Button\n                      variant={message.feedback === \"positive\" ? \"default\" : \"ghost\"}\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => handleFeedback(message.id, \"positive\")}\n                      data-testid={`button-feedback-positive-${index}`}\n                    >\n                      <ThumbsUp className=\"w-3 h-3\" />\n                    </Button>\n                    <Button\n                      variant={message.feedback === \"negative\" ? \"default\" : \"ghost\"}\n                      size=\"icon\"\n                      className=\"h-7 w-7\"\n                      onClick={() => handleFeedback(message.id, \"negative\")}\n                      data-testid={`button-feedback-negative-${index}`}\n                    >\n                      <ThumbsDown className=\"w-3 h-3\" />\n                    </Button>\n                  </div>\n                )}\n              </div>\n            ))}\n\n            {/* Typing indicator */}\n            {isTyping && (\n              <div className=\"flex justify-start\">\n                <div className=\"bg-muted rounded-lg px-4 py-3 flex items-center gap-2\">\n                  <div className=\"flex gap-1\">\n                    <span className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\" style={{ animationDelay: '0ms' }}></span>\n                    <span className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\" style={{ animationDelay: '150ms' }}></span>\n                    <span className=\"w-2 h-2 bg-muted-foreground rounded-full animate-bounce\" style={{ animationDelay: '300ms' }}></span>\n                  </div>\n                  <p className=\"text-sm text-muted-foreground\">Typing...</p>\n                </div>\n              </div>\n            )}\n\n          {/* Handoff Section */}\n          {showHandoff && (\n            <div className=\"bg-primary/5 border border-primary/20 rounded-lg p-4 space-y-3\">\n              <div className=\"flex items-start gap-2\">\n                <Phone className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                <div className=\"flex-1 space-y-2\">\n                  <p className=\"text-sm font-semibold\">Ready to Connect?</p>\n                  <p className=\"text-xs text-muted-foreground\">\n                    Text us for personalized help from our team. We respond within minutes!\n                  </p>\n                  <div className=\"flex flex-col gap-2\">\n                    <Button\n                      onClick={openSMS}\n                      className=\"w-full\"\n                      data-testid=\"button-text-us\"\n                    >\n                      <MessageSquare className=\"w-4 h-4 mr-2\" />\n                      Text Us: {phoneConfig.display}\n                    </Button>\n                    <Button\n                      asChild\n                      variant=\"outline\"\n                      className=\"w-full\"\n                      data-testid=\"button-call-us\"\n                    >\n                      <a href={`tel:${phoneConfig.tel}`}>\n                        <Phone className=\"w-4 h-4 mr-2\" />\n                        Or Call: {phoneConfig.display}\n                      </a>\n                    </Button>\n                  </div>\n                </div>\n              </div>\n            </div>\n          )}\n\n            <div ref={messagesEndRef} />\n          </CardContent>\n\n          {/* Quick Responses */}\n          {quickResponses.length > 0 && !isLoading && (\n            <div className=\"border-t px-3 py-2 flex-shrink-0\">\n              <div className=\"flex gap-2 overflow-x-auto pb-1\">\n                {quickResponses.slice(0, 3).map((qr, index) => {\n                  const Icon = ICON_MAP[qr.icon || \"HelpCircle\"];\n                  return (\n                    <Button\n                      key={index}\n                      variant=\"outline\"\n                      size=\"sm\"\n                      className=\"flex-shrink-0 text-xs\"\n                      onClick={() => handleSendMessage(qr.message)}\n                      data-testid={`button-quick-response-${index}`}\n                    >\n                      {Icon && <Icon className=\"w-3 h-3 mr-1\" />}\n                      {qr.label}\n                    </Button>\n                  );\n                })}\n              </div>\n            </div>\n          )}\n\n          {/* Input */}\n          <div className=\"border-t p-3 flex-shrink-0\">\n            {uploadedImage && (\n              <div className=\"mb-2 p-2 bg-muted rounded-md flex items-center justify-between\">\n                <span className=\"text-xs truncate\">{uploadedImage.name}</span>\n                <Button\n                  variant=\"ghost\"\n                  size=\"icon\"\n                  className=\"h-6 w-6\"\n                  onClick={() => setUploadedImage(null)}\n                >\n                  <X className=\"w-3 h-3\" />\n                </Button>\n              </div>\n            )}\n            <div className=\"flex gap-2\">\n              <Input\n                value={input}\n                onChange={(e) => setInput(e.target.value)}\n                onKeyPress={handleKeyPress}\n                placeholder=\"Ask me anything...\"\n                disabled={isLoading}\n                className=\"flex-1\"\n                data-testid=\"input-chat-message\"\n              />\n              <input\n                type=\"file\"\n                ref={fileInputRef}\n                onChange={handleImageSelect}\n                accept=\"image/*\"\n                className=\"hidden\"\n              />\n              <Button\n                onClick={() => fileInputRef.current?.click()}\n                disabled={isLoading}\n                size=\"icon\"\n                variant=\"outline\"\n                data-testid=\"button-upload-image\"\n              >\n                <ImageIcon className=\"w-4 h-4\" />\n              </Button>\n              <Button\n                onClick={() => handleSendMessage()}\n                disabled={(!input.trim() && !uploadedImage) || isLoading}\n                size=\"icon\"\n                data-testid=\"button-send-message\"\n              >\n                {isUploading ? <Loader2 className=\"w-4 h-4 animate-spin\" /> : <Send className=\"w-4 h-4\" />}\n              </Button>\n            </div>\n            <div className=\"flex justify-between items-center mt-2\">\n              <p className=\"text-xs text-muted-foreground\">\n                AI responses may vary. For urgent issues, call us.\n              </p>\n              <Button\n                variant=\"link\"\n                size=\"sm\"\n                onClick={handleEndConversation}\n                className=\"text-xs h-auto p-0\"\n                data-testid=\"button-end-conversation\"\n              >\n                End Chat\n              </Button>\n            </div>\n          </div>\n        </Card>\n        {ratingDialog}\n      </>\n    );\n  } else {\n    // Desktop layout\n    chatbotUI = (\n      <Card \n        className=\"shadow-2xl flex flex-col rounded-lg\"\n        style={{\n          position: 'fixed',\n          bottom: '1.5rem',\n          right: '1.5rem',\n          width: '24rem',\n          height: '600px',\n          zIndex: 9999\n        }}\n      >\n      {/* Header */}\n      <CardHeader className=\"pb-3 border-b flex-shrink-0\">\n        <div className=\"flex items-center justify-between\">\n          <div className=\"flex items-center gap-2\">\n            <div className=\"w-10 h-10 bg-primary rounded-full flex items-center justify-center\">\n              <MessageCircle className=\"w-5 h-5 text-primary-foreground\" />\n            </div>\n            <div>\n              <CardTitle className=\"text-base\">Economy Plumbing AI</CardTitle>\n              <CardDescription className=\"text-xs flex items-center gap-1\">\n                <span className=\"w-2 h-2 bg-green-500 rounded-full animate-pulse\"></span>\n                Online\n              </CardDescription>\n            </div>\n          </div>\n          <Button\n            variant=\"ghost\"\n            size=\"icon\"\n            onClick={() => setIsOpen(false)}\n            data-testid=\"button-close-chatbot\"\n          >\n            <X className=\"w-4 h-4\" />\n          </Button>\n        </div>\n      </CardHeader>\n\n      {/* Messages */}\n      <CardContent className=\"flex-1 overflow-y-auto p-4 space-y-4\">\n        {messages.map((message, index) => (\n          <div\n            key={index}\n            className={`flex ${message.role === \"user\" ? \"justify-end\" : \"justify-start\"}`}\n          >\n            <div\n              className={`max-w-[85%] rounded-lg px-4 py-2 ${\n                message.role === \"user\"\n                  ? \"bg-primary text-primary-foreground\"\n                  : \"bg-muted\"\n              }`}\n              data-testid={`message-${message.role}-${index}`}\n            >\n              <p className=\"text-sm whitespace-pre-wrap\">{message.content}</p>\n            </div>\n          </div>\n        ))}\n\n        {isLoading && (\n          <div className=\"flex justify-start\">\n            <div className=\"bg-muted rounded-lg px-4 py-3 flex items-center gap-2\">\n              <Loader2 className=\"w-4 h-4 animate-spin\" />\n              <p className=\"text-sm text-muted-foreground\">Thinking...</p>\n            </div>\n          </div>\n        )}\n\n        {/* Handoff Section */}\n        {showHandoff && (\n          <div className=\"bg-primary/5 border border-primary/20 rounded-lg p-4 space-y-3\">\n            <div className=\"flex items-start gap-2\">\n              <Phone className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n              <div className=\"flex-1 space-y-2\">\n                <p className=\"text-sm font-semibold\">Ready to Connect?</p>\n                <p className=\"text-xs text-muted-foreground\">\n                  Text us for personalized help from our team. We respond within minutes!\n                </p>\n                <div className=\"flex flex-col gap-2\">\n                  <Button\n                    onClick={openSMS}\n                    className=\"w-full\"\n                    data-testid=\"button-text-us\"\n                  >\n                    <MessageSquare className=\"w-4 h-4 mr-2\" />\n                    Text Us: {phoneConfig.display}\n                  </Button>\n                  <Button\n                    asChild\n                    variant=\"outline\"\n                    className=\"w-full\"\n                    data-testid=\"button-call-us\"\n                  >\n                    <a href={`tel:${phoneConfig.tel}`}>\n                      <Phone className=\"w-4 h-4 mr-2\" />\n                      Or Call: {phoneConfig.display}\n                    </a>\n                  </Button>\n                </div>\n              </div>\n            </div>\n          </div>\n        )}\n\n        <div ref={messagesEndRef} />\n      </CardContent>\n\n      {/* Input */}\n      <div className=\"border-t p-3 flex-shrink-0\">\n        <div className=\"flex gap-2\">\n          <Input\n            value={input}\n            onChange={(e) => setInput(e.target.value)}\n            onKeyPress={handleKeyPress}\n            placeholder=\"Ask me anything...\"\n            disabled={isLoading}\n            className=\"flex-1\"\n            data-testid=\"input-chat-message\"\n          />\n          <Button\n            onClick={handleSendMessage}\n            disabled={!input.trim() || isLoading}\n            size=\"icon\"\n            data-testid=\"button-send-message\"\n          >\n            <Send className=\"w-4 h-4\" />\n          </Button>\n        </div>\n        <p className=\"text-xs text-muted-foreground mt-2 text-center\">\n          AI responses may be inaccurate. For urgent issues, text or call us directly.\n        </p>\n      </div>\n    </Card>\n    );\n  }\n\n  // Render using portal to avoid SidebarProvider transform issues\n  return createPortal(chatbotUI, document.body);\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 3067, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/layout.tsx"],"sourcesContent":["'use client';\n\nimport type { ReactNode } from 'react';\nimport './globals.css';\nimport { Toaster } from '@/components/ui/toaster';\nimport { PhoneConfigProvider } from '@/contexts/PhoneConfigProvider';\nimport { QueryClientProvider } from '@tanstack/react-query';\nimport { queryClient } from '@/lib/queryClient';\nimport AIChatbot from '@/components/AIChatbot';\n\nexport default function RootLayout({\n  children,\n}: {\n  children: ReactNode;\n}) {\n  return (\n    <html lang=\"en\" suppressHydrationWarning>\n      <body className=\"min-h-screen bg-background font-sans antialiased\">\n        <QueryClientProvider client={queryClient}>\n          <PhoneConfigProvider>\n            {children}\n            <AIChatbot />\n            <Toaster />\n          </PhoneConfigProvider>\n        </QueryClientProvider>\n      </body>\n    </html>\n  );\n}\n"],"names":[],"mappings":";;;;;AAIA;AACA;AACA;AACA;AACA;AARA;;;;;;;;AAUe,SAAS,WAAW,EACjC,QAAQ,EAGT;IACC,qBACE,6LAAC;QAAK,MAAK;QAAK,wBAAwB;kBACtC,cAAA,6LAAC;YAAK,WAAU;sBACd,cAAA,6LAAC,gNAAmB;gBAAC,QAAQ,2IAAW;0BACtC,cAAA,6LAAC,iKAAmB;;wBACjB;sCACD,6LAAC,6IAAS;;;;;sCACV,6LAAC,iJAAO;;;;;;;;;;;;;;;;;;;;;;;;;;AAMpB;KAlBwB","debugId":null}}]
}
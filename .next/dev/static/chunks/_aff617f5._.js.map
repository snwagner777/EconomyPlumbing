{
  "version": 3,
  "sources": [],
  "sections": [
    {"offset": {"line": 4, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/app/admin/success-stories/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { LogOut, CheckCircle, XCircle, Image as ImageIcon } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\nexport default function SuccessStoriesAdmin() {\n  const router = useRouter();\n  const { toast } = useToast();\n\n  // Check auth status\n  const { data: authData } = useQuery({\n    queryKey: ['/api/admin/check'],\n  });\n\n  useEffect(() => {\n    if (authData && !authData.isAdmin) {\n      router.push(\"/admin/login\");\n    }\n  }, [authData, router]);\n\n  // Fetch success stories\n  const { data: storiesData, isLoading } = useQuery({\n    queryKey: ['/api/admin/success-stories'],\n  });\n\n  // Approve story mutation\n  const approveMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"PUT\", `/api/admin/success-stories/${id}/approve`);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success Story Approved\",\n        description: \"The success story has been approved and published.\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/success-stories'] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Approval Failed\",\n        description: error.message || \"An error occurred\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Delete story mutation\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/admin/success-stories/${id}`);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Success Story Deleted\",\n        description: \"The success story has been removed.\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/success-stories'] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Deletion Failed\",\n        description: error.message || \"An error occurred\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleLogout = async () => {\n    await apiRequest(\"POST\", \"/api/admin/logout\");\n    router.push(\"/admin/login\");\n  };\n\n  const handleApprove = (id: string) => {\n    if (confirm(\"Approve this success story and publish it to the website?\")) {\n      approveMutation.mutate(id);\n    }\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Delete this success story? This action cannot be undone.\")) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  if (!authData?.isAdmin) {\n    return null;\n  }\n\n  const stories = storiesData?.stories || [];\n  const pendingStories = stories.filter((s: any) => !s.approved);\n  const approvedStories = stories.filter((s: any) => s.approved);\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-7xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold\" data-testid=\"heading-admin\">Success Stories Admin</h1>\n            <p className=\"text-muted-foreground mt-1\">Review and approve customer success stories</p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" onClick={() => router.push(\"/admin\")} data-testid=\"button-back\">\n              Back to Admin\n            </Button>\n            <Button variant=\"outline\" onClick={handleLogout} data-testid=\"button-logout\">\n              <LogOut className=\"h-4 w-4 mr-2\" />\n              Logout\n            </Button>\n          </div>\n        </div>\n\n        {/* Stats */}\n        <div className=\"grid gap-4 md:grid-cols-3\">\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Pending Review</CardTitle>\n              <Badge variant=\"secondary\">{pendingStories.length}</Badge>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{pendingStories.length}</div>\n              <p className=\"text-xs text-muted-foreground\">Awaiting approval</p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Approved</CardTitle>\n              <Badge variant=\"default\">{approvedStories.length}</Badge>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{approvedStories.length}</div>\n              <p className=\"text-xs text-muted-foreground\">Published stories</p>\n            </CardContent>\n          </Card>\n          <Card>\n            <CardHeader className=\"flex flex-row items-center justify-between space-y-0 pb-2\">\n              <CardTitle className=\"text-sm font-medium\">Total</CardTitle>\n              <Badge variant=\"outline\">{stories.length}</Badge>\n            </CardHeader>\n            <CardContent>\n              <div className=\"text-2xl font-bold\">{stories.length}</div>\n              <p className=\"text-xs text-muted-foreground\">All submissions</p>\n            </CardContent>\n          </Card>\n        </div>\n\n        {/* Pending Stories */}\n        {pendingStories.length > 0 && (\n          <div className=\"space-y-4\">\n            <h2 className=\"text-2xl font-bold\">Pending Review ({pendingStories.length})</h2>\n            {pendingStories.map((story: any) => (\n              <Card key={story.id} className=\"overflow-hidden\" data-testid={`story-pending-${story.id}`}>\n                <CardHeader>\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <CardTitle>{story.customerName}</CardTitle>\n                      <CardDescription className=\"mt-1\">\n                        {story.email && `${story.email} • `}\n                        {story.phone && `${story.phone} • `}\n                        {story.location}\n                      </CardDescription>\n                    </div>\n                    <Badge variant=\"secondary\">Pending</Badge>\n                  </div>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div>\n                    <p className=\"text-sm font-medium mb-1\">Service Category</p>\n                    <Badge>{story.serviceCategory}</Badge>\n                  </div>\n                  <div>\n                    <p className=\"text-sm font-medium mb-2\">Customer Story</p>\n                    <p className=\"text-sm text-muted-foreground whitespace-pre-wrap\">{story.story}</p>\n                  </div>\n                  <div className=\"grid md:grid-cols-2 gap-4\">\n                    <div>\n                      <p className=\"text-sm font-medium mb-2\">Before Photo</p>\n                      <a \n                        href={story.beforePhotoUrl} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"flex items-center gap-2 text-sm text-primary hover:underline\"\n                        data-testid={`link-before-photo-${story.id}`}\n                      >\n                        <ImageIcon className=\"h-4 w-4\" />\n                        View Before Photo\n                      </a>\n                    </div>\n                    <div>\n                      <p className=\"text-sm font-medium mb-2\">After Photo</p>\n                      <a \n                        href={story.afterPhotoUrl} \n                        target=\"_blank\" \n                        rel=\"noopener noreferrer\"\n                        className=\"flex items-center gap-2 text-sm text-primary hover:underline\"\n                        data-testid={`link-after-photo-${story.id}`}\n                      >\n                        <ImageIcon className=\"h-4 w-4\" />\n                        View After Photo\n                      </a>\n                    </div>\n                  </div>\n                  <div className=\"flex gap-2 pt-2\">\n                    <Button\n                      onClick={() => handleApprove(story.id)}\n                      disabled={approveMutation.isPending}\n                      data-testid={`button-approve-${story.id}`}\n                    >\n                      <CheckCircle className=\"h-4 w-4 mr-2\" />\n                      Approve & Publish\n                    </Button>\n                    <Button\n                      variant=\"destructive\"\n                      onClick={() => handleDelete(story.id)}\n                      disabled={deleteMutation.isPending}\n                      data-testid={`button-delete-${story.id}`}\n                    >\n                      <XCircle className=\"h-4 w-4 mr-2\" />\n                      Reject\n                    </Button>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n        )}\n\n        {/* Approved Stories */}\n        {approvedStories.length > 0 && (\n          <div className=\"space-y-4\">\n            <h2 className=\"text-2xl font-bold\">Approved Stories ({approvedStories.length})</h2>\n            {approvedStories.map((story: any) => (\n              <Card key={story.id} className=\"opacity-75\" data-testid={`story-approved-${story.id}`}>\n                <CardHeader>\n                  <div className=\"flex justify-between items-start\">\n                    <div>\n                      <CardTitle>{story.customerName}</CardTitle>\n                      <CardDescription>{story.serviceCategory} • {story.location}</CardDescription>\n                    </div>\n                    <Badge variant=\"default\">Published</Badge>\n                  </div>\n                </CardHeader>\n              </Card>\n            ))}\n          </div>\n        )}\n\n        {/* Empty State */}\n        {isLoading ? (\n          <div className=\"space-y-4\">\n            <Skeleton className=\"h-32 w-full\" />\n            <Skeleton className=\"h-32 w-full\" />\n          </div>\n        ) : stories.length === 0 ? (\n          <Card>\n            <CardContent className=\"py-12 text-center\">\n              <p className=\"text-muted-foreground\">No success stories yet. Check back later!</p>\n            </CardContent>\n          </Card>\n        ) : null}\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":";;;;;AAEA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;;;AAXA;;;;;;;;;;;AAae,SAAS;;IACtB,MAAM,SAAS,IAAA,kJAAS;IACxB,MAAM,EAAE,KAAK,EAAE,GAAG,IAAA,2IAAQ;IAE1B,oBAAoB;IACpB,MAAM,EAAE,MAAM,QAAQ,EAAE,GAAG,IAAA,0LAAQ,EAAC;QAClC,UAAU;YAAC;SAAmB;IAChC;IAEA,IAAA,0KAAS;yCAAC;YACR,IAAI,YAAY,CAAC,SAAS,OAAO,EAAE;gBACjC,OAAO,IAAI,CAAC;YACd;QACF;wCAAG;QAAC;QAAU;KAAO;IAErB,wBAAwB;IACxB,MAAM,EAAE,MAAM,WAAW,EAAE,SAAS,EAAE,GAAG,IAAA,0LAAQ,EAAC;QAChD,UAAU;YAAC;SAA6B;IAC1C;IAEA,yBAAyB;IACzB,MAAM,kBAAkB,IAAA,gMAAW,EAAC;QAClC,UAAU;gEAAE,OAAO;gBACjB,OAAO,MAAM,IAAA,0IAAU,EAAC,OAAO,CAAC,2BAA2B,EAAE,GAAG,QAAQ,CAAC;YAC3E;;QACA,SAAS;gEAAE;gBACT,MAAM;oBACJ,OAAO;oBACP,aAAa;gBACf;gBACA,2IAAW,CAAC,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAA6B;gBAAC;YAC3E;;QACA,OAAO;gEAAE,CAAC;gBACR,MAAM;oBACJ,OAAO;oBACP,aAAa,MAAM,OAAO,IAAI;oBAC9B,SAAS;gBACX;YACF;;IACF;IAEA,wBAAwB;IACxB,MAAM,iBAAiB,IAAA,gMAAW,EAAC;QACjC,UAAU;+DAAE,OAAO;gBACjB,OAAO,MAAM,IAAA,0IAAU,EAAC,UAAU,CAAC,2BAA2B,EAAE,IAAI;YACtE;;QACA,SAAS;+DAAE;gBACT,MAAM;oBACJ,OAAO;oBACP,aAAa;gBACf;gBACA,2IAAW,CAAC,iBAAiB,CAAC;oBAAE,UAAU;wBAAC;qBAA6B;gBAAC;YAC3E;;QACA,OAAO;+DAAE,CAAC;gBACR,MAAM;oBACJ,OAAO;oBACP,aAAa,MAAM,OAAO,IAAI;oBAC9B,SAAS;gBACX;YACF;;IACF;IAEA,MAAM,eAAe;QACnB,MAAM,IAAA,0IAAU,EAAC,QAAQ;QACzB,OAAO,IAAI,CAAC;IACd;IAEA,MAAM,gBAAgB,CAAC;QACrB,IAAI,QAAQ,8DAA8D;YACxE,gBAAgB,MAAM,CAAC;QACzB;IACF;IAEA,MAAM,eAAe,CAAC;QACpB,IAAI,QAAQ,6DAA6D;YACvE,eAAe,MAAM,CAAC;QACxB;IACF;IAEA,IAAI,CAAC,UAAU,SAAS;QACtB,OAAO;IACT;IAEA,MAAM,UAAU,aAAa,WAAW,EAAE;IAC1C,MAAM,iBAAiB,QAAQ,MAAM,CAAC,CAAC,IAAW,CAAC,EAAE,QAAQ;IAC7D,MAAM,kBAAkB,QAAQ,MAAM,CAAC,CAAC,IAAW,EAAE,QAAQ;IAE7D,qBACE,6LAAC;QAAI,WAAU;kBACb,cAAA,6LAAC;YAAI,WAAU;;8BAEb,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;;8CACC,6LAAC;oCAAG,WAAU;oCAAqB,eAAY;8CAAgB;;;;;;8CAC/D,6LAAC;oCAAE,WAAU;8CAA6B;;;;;;;;;;;;sCAE5C,6LAAC;4BAAI,WAAU;;8CACb,6LAAC,+IAAM;oCAAC,SAAQ;oCAAU,SAAS,IAAM,OAAO,IAAI,CAAC;oCAAW,eAAY;8CAAc;;;;;;8CAG1F,6LAAC,+IAAM;oCAAC,SAAQ;oCAAU,SAAS;oCAAc,eAAY;;sDAC3D,6LAAC,uNAAM;4CAAC,WAAU;;;;;;wCAAiB;;;;;;;;;;;;;;;;;;;8BAOzC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,2IAAI;;8CACH,6LAAC,iJAAU;oCAAC,WAAU;;sDACpB,6LAAC,gJAAS;4CAAC,WAAU;sDAAsB;;;;;;sDAC3C,6LAAC,6IAAK;4CAAC,SAAQ;sDAAa,eAAe,MAAM;;;;;;;;;;;;8CAEnD,6LAAC,kJAAW;;sDACV,6LAAC;4CAAI,WAAU;sDAAsB,eAAe,MAAM;;;;;;sDAC1D,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;sCAGjD,6LAAC,2IAAI;;8CACH,6LAAC,iJAAU;oCAAC,WAAU;;sDACpB,6LAAC,gJAAS;4CAAC,WAAU;sDAAsB;;;;;;sDAC3C,6LAAC,6IAAK;4CAAC,SAAQ;sDAAW,gBAAgB,MAAM;;;;;;;;;;;;8CAElD,6LAAC,kJAAW;;sDACV,6LAAC;4CAAI,WAAU;sDAAsB,gBAAgB,MAAM;;;;;;sDAC3D,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;sCAGjD,6LAAC,2IAAI;;8CACH,6LAAC,iJAAU;oCAAC,WAAU;;sDACpB,6LAAC,gJAAS;4CAAC,WAAU;sDAAsB;;;;;;sDAC3C,6LAAC,6IAAK;4CAAC,SAAQ;sDAAW,QAAQ,MAAM;;;;;;;;;;;;8CAE1C,6LAAC,kJAAW;;sDACV,6LAAC;4CAAI,WAAU;sDAAsB,QAAQ,MAAM;;;;;;sDACnD,6LAAC;4CAAE,WAAU;sDAAgC;;;;;;;;;;;;;;;;;;;;;;;;gBAMlD,eAAe,MAAM,GAAG,mBACvB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;;gCAAqB;gCAAiB,eAAe,MAAM;gCAAC;;;;;;;wBACzE,eAAe,GAAG,CAAC,CAAC,sBACnB,6LAAC,2IAAI;gCAAgB,WAAU;gCAAkB,eAAa,CAAC,cAAc,EAAE,MAAM,EAAE,EAAE;;kDACvF,6LAAC,iJAAU;kDACT,cAAA,6LAAC;4CAAI,WAAU;;8DACb,6LAAC;;sEACC,6LAAC,gJAAS;sEAAE,MAAM,YAAY;;;;;;sEAC9B,6LAAC,sJAAe;4DAAC,WAAU;;gEACxB,MAAM,KAAK,IAAI,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC;gEAClC,MAAM,KAAK,IAAI,GAAG,MAAM,KAAK,CAAC,GAAG,CAAC;gEAClC,MAAM,QAAQ;;;;;;;;;;;;;8DAGnB,6LAAC,6IAAK;oDAAC,SAAQ;8DAAY;;;;;;;;;;;;;;;;;kDAG/B,6LAAC,kJAAW;wCAAC,WAAU;;0DACrB,6LAAC;;kEACC,6LAAC;wDAAE,WAAU;kEAA2B;;;;;;kEACxC,6LAAC,6IAAK;kEAAE,MAAM,eAAe;;;;;;;;;;;;0DAE/B,6LAAC;;kEACC,6LAAC;wDAAE,WAAU;kEAA2B;;;;;;kEACxC,6LAAC;wDAAE,WAAU;kEAAqD,MAAM,KAAK;;;;;;;;;;;;0DAE/E,6LAAC;gDAAI,WAAU;;kEACb,6LAAC;;0EACC,6LAAC;gEAAE,WAAU;0EAA2B;;;;;;0EACxC,6LAAC;gEACC,MAAM,MAAM,cAAc;gEAC1B,QAAO;gEACP,KAAI;gEACJ,WAAU;gEACV,eAAa,CAAC,kBAAkB,EAAE,MAAM,EAAE,EAAE;;kFAE5C,6LAAC,gNAAS;wEAAC,WAAU;;;;;;oEAAY;;;;;;;;;;;;;kEAIrC,6LAAC;;0EACC,6LAAC;gEAAE,WAAU;0EAA2B;;;;;;0EACxC,6LAAC;gEACC,MAAM,MAAM,aAAa;gEACzB,QAAO;gEACP,KAAI;gEACJ,WAAU;gEACV,eAAa,CAAC,iBAAiB,EAAE,MAAM,EAAE,EAAE;;kFAE3C,6LAAC,gNAAS;wEAAC,WAAU;;;;;;oEAAY;;;;;;;;;;;;;;;;;;;0DAKvC,6LAAC;gDAAI,WAAU;;kEACb,6LAAC,+IAAM;wDACL,SAAS,IAAM,cAAc,MAAM,EAAE;wDACrC,UAAU,gBAAgB,SAAS;wDACnC,eAAa,CAAC,eAAe,EAAE,MAAM,EAAE,EAAE;;0EAEzC,6LAAC,6OAAW;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;kEAG1C,6LAAC,+IAAM;wDACL,SAAQ;wDACR,SAAS,IAAM,aAAa,MAAM,EAAE;wDACpC,UAAU,eAAe,SAAS;wDAClC,eAAa,CAAC,cAAc,EAAE,MAAM,EAAE,EAAE;;0EAExC,6LAAC,0NAAO;gEAAC,WAAU;;;;;;4DAAiB;;;;;;;;;;;;;;;;;;;;+BAlEjC,MAAM,EAAE;;;;;;;;;;;gBA6ExB,gBAAgB,MAAM,GAAG,mBACxB,6LAAC;oBAAI,WAAU;;sCACb,6LAAC;4BAAG,WAAU;;gCAAqB;gCAAmB,gBAAgB,MAAM;gCAAC;;;;;;;wBAC5E,gBAAgB,GAAG,CAAC,CAAC,sBACpB,6LAAC,2IAAI;gCAAgB,WAAU;gCAAa,eAAa,CAAC,eAAe,EAAE,MAAM,EAAE,EAAE;0CACnF,cAAA,6LAAC,iJAAU;8CACT,cAAA,6LAAC;wCAAI,WAAU;;0DACb,6LAAC;;kEACC,6LAAC,gJAAS;kEAAE,MAAM,YAAY;;;;;;kEAC9B,6LAAC,sJAAe;;4DAAE,MAAM,eAAe;4DAAC;4DAAI,MAAM,QAAQ;;;;;;;;;;;;;0DAE5D,6LAAC,6IAAK;gDAAC,SAAQ;0DAAU;;;;;;;;;;;;;;;;;+BAPpB,MAAM,EAAE;;;;;;;;;;;gBAgBxB,0BACC,6LAAC;oBAAI,WAAU;;sCACb,6LAAC,mJAAQ;4BAAC,WAAU;;;;;;sCACpB,6LAAC,mJAAQ;4BAAC,WAAU;;;;;;;;;;;2BAEpB,QAAQ,MAAM,KAAK,kBACrB,6LAAC,2IAAI;8BACH,cAAA,6LAAC,kJAAW;wBAAC,WAAU;kCACrB,cAAA,6LAAC;4BAAE,WAAU;sCAAwB;;;;;;;;;;;;;;;2BAGvC;;;;;;;;;;;;AAIZ;GAlQwB;;QACP,kJAAS;QACN,2IAAQ;QAGC,0LAAQ;QAWM,0LAAQ;QAKzB,gMAAW;QAqBZ,gMAAW;;;KA1CZ","debugId":null}},
    {"offset": {"line": 820, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/%40tanstack/query-core/src/mutationObserver.ts"],"sourcesContent":["import { getDefaultState } from './mutation'\nimport { notifyManager } from './notifyManager'\nimport { Subscribable } from './subscribable'\nimport { hashKey, shallowEqualObjects } from './utils'\nimport type { QueryClient } from './queryClient'\nimport type {\n  DefaultError,\n  MutateOptions,\n  MutationObserverOptions,\n  MutationObserverResult,\n} from './types'\nimport type { Action, Mutation } from './mutation'\n\n// TYPES\n\ntype MutationObserverListener<TData, TError, TVariables, TContext> = (\n  result: MutationObserverResult<TData, TError, TVariables, TContext>,\n) => void\n\n// CLASS\n\nexport class MutationObserver<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = void,\n  TContext = unknown,\n> extends Subscribable<\n  MutationObserverListener<TData, TError, TVariables, TContext>\n> {\n  options!: MutationObserverOptions<TData, TError, TVariables, TContext>\n\n  #client: QueryClient\n  #currentResult: MutationObserverResult<TData, TError, TVariables, TContext> =\n    undefined!\n  #currentMutation?: Mutation<TData, TError, TVariables, TContext>\n  #mutateOptions?: MutateOptions<TData, TError, TVariables, TContext>\n\n  constructor(\n    client: QueryClient,\n    options: MutationObserverOptions<TData, TError, TVariables, TContext>,\n  ) {\n    super()\n\n    this.#client = client\n    this.setOptions(options)\n    this.bindMethods()\n    this.#updateResult()\n  }\n\n  protected bindMethods(): void {\n    this.mutate = this.mutate.bind(this)\n    this.reset = this.reset.bind(this)\n  }\n\n  setOptions(\n    options: MutationObserverOptions<TData, TError, TVariables, TContext>,\n  ) {\n    const prevOptions = this.options as\n      | MutationObserverOptions<TData, TError, TVariables, TContext>\n      | undefined\n    this.options = this.#client.defaultMutationOptions(options)\n    if (!shallowEqualObjects(this.options, prevOptions)) {\n      this.#client.getMutationCache().notify({\n        type: 'observerOptionsUpdated',\n        mutation: this.#currentMutation,\n        observer: this,\n      })\n    }\n\n    if (\n      prevOptions?.mutationKey &&\n      this.options.mutationKey &&\n      hashKey(prevOptions.mutationKey) !== hashKey(this.options.mutationKey)\n    ) {\n      this.reset()\n    } else if (this.#currentMutation?.state.status === 'pending') {\n      this.#currentMutation.setOptions(this.options)\n    }\n  }\n\n  protected onUnsubscribe(): void {\n    if (!this.hasListeners()) {\n      this.#currentMutation?.removeObserver(this)\n    }\n  }\n\n  onMutationUpdate(action: Action<TData, TError, TVariables, TContext>): void {\n    this.#updateResult()\n\n    this.#notify(action)\n  }\n\n  getCurrentResult(): MutationObserverResult<\n    TData,\n    TError,\n    TVariables,\n    TContext\n  > {\n    return this.#currentResult\n  }\n\n  reset(): void {\n    // reset needs to remove the observer from the mutation because there is no way to \"get it back\"\n    // another mutate call will yield a new mutation!\n    this.#currentMutation?.removeObserver(this)\n    this.#currentMutation = undefined\n    this.#updateResult()\n    this.#notify()\n  }\n\n  mutate(\n    variables: TVariables,\n    options?: MutateOptions<TData, TError, TVariables, TContext>,\n  ): Promise<TData> {\n    this.#mutateOptions = options\n\n    this.#currentMutation?.removeObserver(this)\n\n    this.#currentMutation = this.#client\n      .getMutationCache()\n      .build(this.#client, this.options)\n\n    this.#currentMutation.addObserver(this)\n\n    return this.#currentMutation.execute(variables)\n  }\n\n  #updateResult(): void {\n    const state =\n      this.#currentMutation?.state ??\n      getDefaultState<TData, TError, TVariables, TContext>()\n\n    this.#currentResult = {\n      ...state,\n      isPending: state.status === 'pending',\n      isSuccess: state.status === 'success',\n      isError: state.status === 'error',\n      isIdle: state.status === 'idle',\n      mutate: this.mutate,\n      reset: this.reset,\n    } as MutationObserverResult<TData, TError, TVariables, TContext>\n  }\n\n  #notify(action?: Action<TData, TError, TVariables, TContext>): void {\n    notifyManager.batch(() => {\n      // First trigger the mutate callbacks\n      if (this.#mutateOptions && this.hasListeners()) {\n        const variables = this.#currentResult.variables!\n        const context = this.#currentResult.context\n\n        if (action?.type === 'success') {\n          this.#mutateOptions.onSuccess?.(action.data, variables, context!)\n          this.#mutateOptions.onSettled?.(action.data, null, variables, context)\n        } else if (action?.type === 'error') {\n          this.#mutateOptions.onError?.(action.error, variables, context)\n          this.#mutateOptions.onSettled?.(\n            undefined,\n            action.error,\n            variables,\n            context,\n          )\n        }\n      }\n\n      // Then trigger the listeners\n      this.listeners.forEach((listener) => {\n        listener(this.#currentResult)\n      })\n    })\n  }\n}\n"],"names":[],"mappings":"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","debugId":null}},
    {"offset": {"line": 927, "column": 0}, "map": {"version":3,"sources":["file:///home/runner/workspace/node_modules/%40tanstack/react-query/src/useMutation.ts"],"sourcesContent":["'use client'\nimport * as React from 'react'\nimport { MutationObserver, notifyManager } from '@tanstack/query-core'\nimport { useQueryClient } from './QueryClientProvider'\nimport { noop, shouldThrowError } from './utils'\nimport type {\n  UseMutateFunction,\n  UseMutationOptions,\n  UseMutationResult,\n} from './types'\nimport type { DefaultError, QueryClient } from '@tanstack/query-core'\n\n// HOOK\n\nexport function useMutation<\n  TData = unknown,\n  TError = DefaultError,\n  TVariables = void,\n  TContext = unknown,\n>(\n  options: UseMutationOptions<TData, TError, TVariables, TContext>,\n  queryClient?: QueryClient,\n): UseMutationResult<TData, TError, TVariables, TContext> {\n  const client = useQueryClient(queryClient)\n\n  const [observer] = React.useState(\n    () =>\n      new MutationObserver<TData, TError, TVariables, TContext>(\n        client,\n        options,\n      ),\n  )\n\n  React.useEffect(() => {\n    observer.setOptions(options)\n  }, [observer, options])\n\n  const result = React.useSyncExternalStore(\n    React.useCallback(\n      (onStoreChange) =>\n        observer.subscribe(notifyManager.batchCalls(onStoreChange)),\n      [observer],\n    ),\n    () => observer.getCurrentResult(),\n    () => observer.getCurrentResult(),\n  )\n\n  const mutate = React.useCallback<\n    UseMutateFunction<TData, TError, TVariables, TContext>\n  >(\n    (variables, mutateOptions) => {\n      observer.mutate(variables, mutateOptions).catch(noop)\n    },\n    [observer],\n  )\n\n  if (\n    result.error &&\n    shouldThrowError(observer.options.throwOnError, [result.error])\n  ) {\n    throw result.error\n  }\n\n  return { ...result, mutate, mutateAsync: result.mutate }\n}\n"],"names":[],"mappings":";;;;;AACA,YAAY,WAAW;;AACvB,SAAS,kBAAkB,qBAAqB;AAChD,SAAS,sBAAsB;AAC/B,SAAS,MAAM,wBAAwB;;;;;;AAUhC,SAAS,YAMd,OAAA,EACA,WAAA,EACwD;IACxD,MAAM,aAAS,2MAAA,EAAe,WAAW;IAEzC,MAAM,CAAC,QAAQ,CAAA,GAAU,yKAAA;gCACvB,IACE,IAAI,yMAAA,CACF,QACA;;IAIA,0KAAA;iCAAU,MAAM;YACpB,SAAS,UAAA,CAAW,OAAO;QAC7B;gCAAG;QAAC;QAAU,OAAO;KAAC;IAEtB,MAAM,SAAe,qLAAA,CACb,4KAAA;oDACJ,CAAC,gBACC,SAAS,SAAA,CAAU,mMAAA,CAAc,UAAA,CAAW,aAAa,CAAC;mDAC5D;QAAC,QAAQ;KAAA;oDAEX,IAAM,SAAS,gBAAA,CAAiB;;oDAChC,IAAM,SAAS,gBAAA,CAAiB;;IAGlC,MAAM,SAAe,4KAAA;2CAGnB,CAAC,WAAW,kBAAkB;YAC5B,SAAS,MAAA,CAAO,WAAW,aAAa,EAAE,KAAA,CAAM,mLAAI;QACtD;0CACA;QAAC,QAAQ;KAAA;IAGX,IACE,OAAO,KAAA,QACP,+LAAA,EAAiB,SAAS,OAAA,CAAQ,YAAA,EAAc;QAAC,OAAO,KAAK;KAAC,GAC9D;QACA,MAAM,OAAO,KAAA;IACf;IAEA,OAAO;QAAE,GAAG,MAAA;QAAQ;QAAQ,aAAa,OAAO,MAAA;IAAO;AACzD","debugId":null}},
    {"offset": {"line": 988, "column": 0}, "map": {"version":3,"file":"turbopack:///[project]/node_modules/lucide-react/dist/esm/icons/circle-x.js","sources":["file:///home/runner/workspace/node_modules/lucide-react/src/icons/circle-x.ts"],"sourcesContent":["import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CircleX\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8Y2lyY2xlIGN4PSIxMiIgY3k9IjEyIiByPSIxMCIgLz4KICA8cGF0aCBkPSJtMTUgOS02IDYiIC8+CiAgPHBhdGggZD0ibTkgOSA2IDYiIC8+Cjwvc3ZnPgo=) - https://lucide.dev/icons/circle-x\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CircleX = createLucideIcon('CircleX', [\n  ['circle', { cx: '12', cy: '12', r: '10', key: '1mglay' }],\n  ['path', { d: 'm15 9-6 6', key: '1uzhvr' }],\n  ['path', { d: 'm9 9 6 6', key: 'z0biqf' }],\n]);\n\nexport default CircleX;\n"],"names":[],"mappings":";;;;;;;;;;;AAaM,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,KAAU,gLAAA,EAAiB,SAAW,CAAA,CAAA,CAAA;IAC1C;QAAC,QAAU,CAAA;QAAA,CAAA;YAAE,EAAI,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,CAAI,CAAA,CAAA,CAAA,IAAA,CAAM;YAAA,CAAG,EAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAM,GAAK,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;QAAA,CAAU;KAAA,CAAA;IACzD;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAa,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA,CAAA;IAC1C;QAAC,CAAA,CAAA,CAAA,CAAA,CAAA,CAAQ,CAAA;QAAA,CAAA;YAAE,GAAG,CAAY,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA,CAAA;YAAA,CAAA,CAAA,CAAA,CAAA,CAAK;QAAA,CAAU;KAAA;CAC1C,CAAA,CAAA","debugId":null}}]
}
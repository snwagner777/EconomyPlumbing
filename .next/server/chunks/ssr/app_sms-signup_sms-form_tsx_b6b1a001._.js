module.exports=[877037,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(695245),e=a.i(159501),f=a.i(88780),g=a.i(699570),h=a.i(441921),i=a.i(866718),j=a.i(478793),k=a.i(668929);let l=f.z.object({phone:f.z.string().min(10,"Please enter a valid phone number"),firstName:f.z.string().min(1,"First name is required"),lastName:f.z.string().min(1,"Last name is required")});function m(){let{toast:a}=(0,j.useToast)(),[f,m]=(0,c.useState)(!1),n=(0,d.useForm)({resolver:(0,e.zodResolver)(l),defaultValues:{phone:"",firstName:"",lastName:""}}),o=async b=>{m(!0);try{await (0,k.apiRequest)("/api/sms/subscribe",{method:"POST",body:JSON.stringify(b)}),a({title:"Successfully Subscribed!",description:"You'll start receiving text alerts from Economy Plumbing."}),n.reset()}catch(b){a({variant:"destructive",title:"Subscription Failed",description:"Please try again or call us at (512) 368-9159."})}finally{m(!1)}};return(0,b.jsx)(h.Form,{...n,children:(0,b.jsxs)("form",{onSubmit:n.handleSubmit(o),className:"space-y-6",children:[(0,b.jsx)(h.FormField,{control:n.control,name:"phone",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Phone Number"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{...a,type:"tel","data-testid":"input-phone",placeholder:"(512) 555-1234",className:"text-lg"})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:n.control,name:"firstName",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"First Name"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{...a,"data-testid":"input-first-name",placeholder:"John"})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsx)(h.FormField,{control:n.control,name:"lastName",render:({field:a})=>(0,b.jsxs)(h.FormItem,{children:[(0,b.jsx)(h.FormLabel,{children:"Last Name"}),(0,b.jsx)(h.FormControl,{children:(0,b.jsx)(i.Input,{...a,"data-testid":"input-last-name",placeholder:"Doe"})}),(0,b.jsx)(h.FormMessage,{})]})}),(0,b.jsxs)("div",{className:"bg-muted/30 p-4 rounded-lg text-sm",children:[(0,b.jsx)("p",{className:"mb-2",children:"By signing up, you agree to receive text messages from Economy Plumbing Services. Message and data rates may apply. Message frequency varies."}),(0,b.jsx)("p",{children:"Reply STOP to unsubscribe or HELP for help at any time."})]}),(0,b.jsx)(g.Button,{type:"submit","data-testid":"button-submit-sms-signup",className:"w-full text-lg",size:"lg",disabled:f,children:f?"Signing Up...":"Sign Me Up"})]})})}a.s(["SMSForm",()=>m])}];

//# sourceMappingURL=app_sms-signup_sms-form_tsx_b6b1a001._.js.map
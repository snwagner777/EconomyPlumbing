module.exports=[814574,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(897942),e=a.i(633508),f=a.i(368114);let g=d.Root;d.Trigger;let h=d.Portal;d.Close;let i=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Overlay,{ref:e,className:(0,f.cn)("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",a),...c}));i.displayName=d.Overlay.displayName;let j=c.forwardRef(({className:a,children:c,...g},j)=>(0,b.jsxs)(h,{children:[(0,b.jsx)(i,{}),(0,b.jsxs)(d.Content,{ref:j,className:(0,f.cn)("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",a),...g,children:[c,(0,b.jsxs)(d.Close,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[(0,b.jsx)(e.X,{className:"h-4 w-4"}),(0,b.jsx)("span",{className:"sr-only",children:"Close"})]})]})]}));j.displayName=d.Content.displayName;let k=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col space-y-1.5 text-center sm:text-left",a),...c});k.displayName="DialogHeader";let l=({className:a,...c})=>(0,b.jsx)("div",{className:(0,f.cn)("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",a),...c});l.displayName="DialogFooter";let m=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Title,{ref:e,className:(0,f.cn)("text-lg font-semibold leading-none tracking-tight",a),...c}));m.displayName=d.Title.displayName;let n=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)(d.Description,{ref:e,className:(0,f.cn)("text-sm text-muted-foreground",a),...c}));n.displayName=d.Description.displayName,a.s(["Dialog",()=>g,"DialogContent",()=>j,"DialogDescription",()=>n,"DialogFooter",()=>l,"DialogHeader",()=>k,"DialogTitle",()=>m])},781560,a=>{"use strict";let b=(0,a.i(170106).default)("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);a.s(["Trash2",()=>b],781560)},824569,a=>{"use strict";let b=(0,a.i(170106).default)("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);a.s(["Edit",()=>b],824569)},915618,a=>{"use strict";let b=(0,a.i(170106).default)("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);a.s(["Plus",()=>b],915618)},835590,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(433217),f=a.i(370025),g=a.i(699570),h=a.i(591119),i=a.i(866718),j=a.i(870430),k=a.i(429246),l=a.i(786304),m=a.i(814574),n=a.i(668929),o=a.i(220005),p=a.i(915618),q=a.i(824569),r=a.i(781560),s=a.i(104720),t=a.i(478793);function u(){let a=(0,d.useRouter)(),[u,v]=(0,c.useState)(null),[w,x]=(0,c.useState)(!1),[y,z]=(0,c.useState)(!1),{toast:A}=(0,t.useToast)(),[B,C]=(0,c.useState)({path:"",title:"",description:""}),{data:D}=(0,e.useQuery)({queryKey:["/api/admin/check"]});(0,c.useEffect)(()=>{D&&!D.isAdmin&&a.push("/admin/login")},[D,a]);let{data:E,isLoading:F}=(0,e.useQuery)({queryKey:["/api/admin/page-metadata"]}),G=(0,f.useMutation)({mutationFn:async a=>await (0,n.apiRequest)("POST","/api/admin/page-metadata",a),onSuccess:()=>{A({title:y?"Metadata Added":"Metadata Updated",description:`Page metadata has been ${y?"added":"updated"} successfully.`}),n.queryClient.invalidateQueries({queryKey:["/api/admin/page-metadata"]}),J()},onError:a=>{A({title:"Save Failed",description:a.message||"An error occurred",variant:"destructive"})}}),H=(0,f.useMutation)({mutationFn:async a=>await (0,n.apiRequest)("DELETE",`/api/admin/page-metadata/${a}`),onSuccess:()=>{A({title:"Metadata Deleted",description:"Page metadata has been deleted successfully."}),n.queryClient.invalidateQueries({queryKey:["/api/admin/page-metadata"]})},onError:a=>{A({title:"Delete Failed",description:a.message||"An error occurred",variant:"destructive"})}}),I=async()=>{await (0,n.apiRequest)("POST","/api/admin/logout"),a.push("/admin/login")},J=()=>{x(!1),v(null),z(!1),C({path:"",title:"",description:""})};return F?(0,b.jsx)("div",{className:"flex items-center justify-center min-h-screen",children:(0,b.jsx)("div",{className:"text-center",children:(0,b.jsx)("p",{className:"text-muted-foreground",children:"Loading page metadata..."})})}):(0,b.jsxs)("div",{className:"min-h-screen bg-background",children:[(0,b.jsx)("header",{className:"border-b",children:(0,b.jsxs)("div",{className:"container mx-auto px-4 py-4 flex items-center justify-between",children:[(0,b.jsxs)("div",{className:"flex items-center gap-3",children:[(0,b.jsx)(s.FileText,{className:"w-6 h-6 text-primary"}),(0,b.jsx)("h1",{className:"text-2xl font-bold",children:"Page Metadata Admin"})]}),(0,b.jsxs)(g.Button,{variant:"outline",onClick:I,"data-testid":"button-logout",children:[(0,b.jsx)(o.LogOut,{className:"w-4 h-4 mr-2"}),"Logout"]})]})}),(0,b.jsxs)("main",{className:"container mx-auto px-4 py-8",children:[(0,b.jsxs)("div",{className:"mb-6 flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h2",{className:"text-xl font-semibold",children:"Manage SEO Metadata"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Control page titles and meta descriptions for all pages"})]}),(0,b.jsxs)(g.Button,{onClick:()=>{z(!0),v(null),C({path:"",title:"",description:""}),x(!0)},"data-testid":"button-add-metadata",children:[(0,b.jsx)(p.Plus,{className:"w-4 h-4 mr-2"}),"Add Page Metadata"]})]}),(0,b.jsx)("div",{className:"space-y-4",children:E&&E.length>0?E.map(a=>(0,b.jsx)(h.Card,{"data-testid":`card-metadata-${a.path}`,children:(0,b.jsx)(h.CardHeader,{children:(0,b.jsxs)("div",{className:"flex items-start justify-between",children:[(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsxs)(h.CardTitle,{className:"text-lg flex items-center gap-2",children:[a.path,(0,b.jsxs)(l.Badge,{variant:"outline",className:"text-xs",children:[a.title?.length||0," chars"]})]}),(0,b.jsx)(h.CardDescription,{className:"mt-2",children:(0,b.jsxs)("div",{className:"space-y-1",children:[(0,b.jsx)("p",{className:"font-medium text-foreground",children:a.title}),(0,b.jsxs)("p",{className:"text-sm",children:[a.description,(0,b.jsxs)(l.Badge,{variant:"outline",className:"ml-2 text-xs",children:[a.description?.length||0," chars"]})]})]})})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{z(!1),v(a),C({path:a.path,title:a.title||"",description:a.description||""}),x(!0)},"data-testid":`button-edit-${a.path}`,children:(0,b.jsx)(q.Edit,{className:"w-4 h-4"})}),(0,b.jsx)(g.Button,{variant:"outline",size:"sm",onClick:()=>{var b;return b=a.id,void(confirm("Are you sure you want to delete this page metadata? The page will use default metadata.")&&H.mutate(b))},"data-testid":`button-delete-${a.path}`,children:(0,b.jsx)(r.Trash2,{className:"w-4 h-4"})})]})]})})},a.id)):(0,b.jsx)(h.Card,{children:(0,b.jsxs)(h.CardContent,{className:"py-12 text-center",children:[(0,b.jsx)(s.FileText,{className:"w-12 h-12 mx-auto text-muted-foreground mb-4"}),(0,b.jsx)("p",{className:"text-muted-foreground",children:"No page metadata configured yet."}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground mt-1",children:"Add metadata to override default SEO titles and descriptions."})]})})})]}),(0,b.jsx)(m.Dialog,{open:w,onOpenChange:x,children:(0,b.jsxs)(m.DialogContent,{className:"max-w-2xl",children:[(0,b.jsxs)(m.DialogHeader,{children:[(0,b.jsx)(m.DialogTitle,{children:y?"Add Page Metadata":"Edit Page Metadata"}),(0,b.jsx)(m.DialogDescription,{children:y?"Add custom SEO metadata for a page":"Update SEO metadata for this page"})]}),(0,b.jsxs)("form",{onSubmit:a=>{if(a.preventDefault(),!B.path.trim())return void A({title:"Validation Error",description:"Page path is required",variant:"destructive"});if(B.description&&B.description.length>0){if(B.description.length<120)return void A({title:"Validation Error",description:"Meta description must be at least 120 characters for optimal SEO",variant:"destructive"});if(B.description.length>160)return void A({title:"Validation Error",description:"Meta description must not exceed 160 characters to avoid truncation in search results",variant:"destructive"})}G.mutate(B)},className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"path",children:["Page Path ",(0,b.jsx)("span",{className:"text-destructive",children:"*"})]}),(0,b.jsx)(i.Input,{id:"path",value:B.path,onChange:a=>C({...B,path:a.target.value}),placeholder:"/services/drain-cleaning",disabled:!y,"data-testid":"input-path"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"The URL path of the page (e.g., /about, /services/plumbing)"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"title",children:["Page Title",(0,b.jsxs)("span",{className:"text-xs text-muted-foreground ml-2",children:["(",B.title.length," characters)"]})]}),(0,b.jsx)(i.Input,{id:"title",value:B.title,onChange:a=>C({...B,title:a.target.value}),placeholder:"Drain Cleaning Services | Economy Plumbing","data-testid":"input-title"}),(0,b.jsx)("p",{className:"text-xs text-muted-foreground",children:"Recommended: 50-60 characters for optimal display"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsxs)(j.Label,{htmlFor:"description",children:["Meta Description",(0,b.jsxs)("span",{className:`text-xs ml-2 ${B.description.length>=120&&B.description.length<=160?"text-green-600":"text-muted-foreground"}`,children:["(",B.description.length," characters)"]})]}),(0,b.jsx)(k.Textarea,{id:"description",value:B.description,onChange:a=>C({...B,description:a.target.value}),placeholder:"Professional drain cleaning services in Austin & Marble Falls. Call (512) 469-5858 for emergency service.",rows:3,"data-testid":"input-description"}),(0,b.jsxs)("p",{className:"text-xs text-muted-foreground",children:["Recommended: 120-160 characters. Include phone number for SEO.",B.description.length>160&&(0,b.jsx)("span",{className:"text-destructive block mt-1",children:"⚠️ Over 160 characters - may be truncated in search results"})]})]})]}),(0,b.jsxs)("div",{className:"flex justify-end gap-3",children:[(0,b.jsx)(g.Button,{type:"button",variant:"outline",onClick:J,"data-testid":"button-cancel",children:"Cancel"}),(0,b.jsx)(g.Button,{type:"submit",disabled:G.isPending,"data-testid":"button-save",children:G.isPending?"Saving...":"Save Metadata"})]})]})]})})]})}a.s(["default",()=>u])}];

//# sourceMappingURL=_d9455c9c._.js.map
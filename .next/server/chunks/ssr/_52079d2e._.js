module.exports=[866718,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,type:c,...e},f)=>(0,b.jsx)("input",{type:c,className:(0,d.cn)("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:f,...e}));e.displayName="Input",a.s(["Input",()=>e])},870430,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(400187),g=a.i(368114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],870430)},370025,a=>{"use strict";var b=a.i(572131),c=a.i(612794),d=a.i(118544),e=a.i(533791),f=a.i(442871),g=class extends e.Subscribable{#a;#b=void 0;#c;#d;constructor(a,b){super(),this.#a=a,this.setOptions(b),this.bindMethods(),this.#e()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(a){let b=this.options;this.options=this.#a.defaultMutationOptions(a),(0,f.shallowEqualObjects)(this.options,b)||this.#a.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#c,observer:this}),b?.mutationKey&&this.options.mutationKey&&(0,f.hashKey)(b.mutationKey)!==(0,f.hashKey)(this.options.mutationKey)?this.reset():this.#c?.state.status==="pending"&&this.#c.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#c?.removeObserver(this)}onMutationUpdate(a){this.#e(),this.#f(a)}getCurrentResult(){return this.#b}reset(){this.#c?.removeObserver(this),this.#c=void 0,this.#e(),this.#f()}mutate(a,b){return this.#d=b,this.#c?.removeObserver(this),this.#c=this.#a.getMutationCache().build(this.#a,this.options),this.#c.addObserver(this),this.#c.execute(a)}#e(){let a=this.#c?.state??(0,c.getDefaultState)();this.#b={...a,isPending:"pending"===a.status,isSuccess:"success"===a.status,isError:"error"===a.status,isIdle:"idle"===a.status,mutate:this.mutate,reset:this.reset}}#f(a){d.notifyManager.batch(()=>{if(this.#d&&this.hasListeners()){let b=this.#b.variables,c=this.#b.context;a?.type==="success"?(this.#d.onSuccess?.(a.data,b,c),this.#d.onSettled?.(a.data,null,b,c)):a?.type==="error"&&(this.#d.onError?.(a.error,b,c),this.#d.onSettled?.(void 0,a.error,b,c))}this.listeners.forEach(a=>{a(this.#b)})})}},h=a.i(937927),i=a.i(916592);function j(a,c){let e=(0,h.useQueryClient)(c),[f]=b.useState(()=>new g(e,a));b.useEffect(()=>{f.setOptions(a)},[f,a]);let j=b.useSyncExternalStore(b.useCallback(a=>f.subscribe(d.notifyManager.batchCalls(a)),[f]),()=>f.getCurrentResult(),()=>f.getCurrentResult()),k=b.useCallback((a,b)=>{f.mutate(a,b).catch(i.noop)},[f]);if(j.error&&(0,i.shouldThrowError)(f.options.throwOnError,[j.error]))throw j.error;return{...j,mutate:k,mutateAsync:j.mutate}}a.s(["useMutation",()=>j],370025)},429246,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(368114);let e=c.forwardRef(({className:a,...c},e)=>(0,b.jsx)("textarea",{className:(0,d.cn)("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",a),ref:e,...c}));e.displayName="Textarea",a.s(["Textarea",()=>e])},816201,a=>{"use strict";let b=(0,a.i(170106).default)("CircleCheckBig",[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);a.s(["CheckCircle",()=>b],816201)},392843,a=>{"use strict";var b=a.i(572131),c=a.i(872752),d=b[" useId ".trim().toString()]||(()=>void 0),e=0;function f(a){let[f,g]=b.useState(d());return(0,c.useLayoutEffect)(()=>{a||g(a=>a??String(e++))},[a]),a||(f?`radix-${f}`:"")}a.s(["useId",()=>f])},507827,a=>{"use strict";var b=a.i(572131);a.i(187924);var c=b.createContext(void 0);function d(a){let d=b.useContext(c);return a||d||"ltr"}a.s(["useDirection",()=>d])},3688,a=>{"use strict";var b=a.i(572131),c=a.i(872752);function d(a){let[d,e]=b.useState(void 0);return(0,c.useLayoutEffect)(()=>{if(a){e({width:a.offsetWidth,height:a.offsetHeight});let b=new ResizeObserver(b=>{let c,d;if(!Array.isArray(b)||!b.length)return;let f=b[0];if("borderBoxSize"in f){let a=f.borderBoxSize,b=Array.isArray(a)?a[0]:a;c=b.inlineSize,d=b.blockSize}else c=a.offsetWidth,d=a.offsetHeight;e({width:c,height:d})});return b.observe(a,{box:"border-box"}),()=>b.unobserve(a)}e(void 0)},[a]),d}a.s(["useSize",()=>d])},77994,a=>{"use strict";var b=a.i(572131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},533441,a=>{"use strict";let b=(0,a.i(170106).default)("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);a.s(["Check",()=>b],533441)},355442,a=>{"use strict";let b=(0,a.i(170106).default)("Quote",[["path",{d:"M16 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"rib7q0"}],["path",{d:"M5 3a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2 1 1 0 0 1 1 1v1a2 2 0 0 1-2 2 1 1 0 0 0-1 1v2a1 1 0 0 0 1 1 6 6 0 0 0 6-6V5a2 2 0 0 0-2-2z",key:"1ymkrd"}]]);a.s(["Quote",()=>b],355442)},821374,a=>{"use strict";let b=(0,a.i(170106).default)("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);a.s(["Star",()=>b],821374)},732860,a=>{"use strict";let b=(0,a.i(170106).default)("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);a.s(["ArrowRight",()=>b],732860)},410712,a=>{"use strict";var b=a.i(187924),c=a.i(433217),d=a.i(821374),e=a.i(355442),f=a.i(732860),g=a.i(717387),h=a.i(572131),i=a.i(750104),j=a.i(746872),k=a.i(872752),l=a.i(30553),m="Avatar",[n,o]=(0,i.createContextScope)(m),[p,q]=n(m),r=h.forwardRef((a,c)=>{let{__scopeAvatar:d,...e}=a,[f,g]=h.useState("idle");return(0,b.jsx)(p,{scope:d,imageLoadingStatus:f,onImageLoadingStatusChange:g,children:(0,b.jsx)(l.Primitive.span,{...e,ref:c})})});r.displayName=m;var s="AvatarImage",t=h.forwardRef((a,c)=>{let{__scopeAvatar:d,src:e,onLoadingStatusChange:f=()=>{},...g}=a,i=q(s,d),m=function(a,{referrerPolicy:b,crossOrigin:c}){let d=h.useSyncExternalStore(x,()=>!0,()=>!1),e=h.useRef(null),f=d?(e.current||(e.current=new window.Image),e.current):null,[g,i]=h.useState(()=>w(f,a));return(0,k.useLayoutEffect)(()=>{i(w(f,a))},[f,a]),(0,k.useLayoutEffect)(()=>{let a=a=>()=>{i(a)};if(!f)return;let d=a("loaded"),e=a("error");return f.addEventListener("load",d),f.addEventListener("error",e),b&&(f.referrerPolicy=b),"string"==typeof c&&(f.crossOrigin=c),()=>{f.removeEventListener("load",d),f.removeEventListener("error",e)}},[f,c,b]),g}(e,g),n=(0,j.useCallbackRef)(a=>{f(a),i.onImageLoadingStatusChange(a)});return(0,k.useLayoutEffect)(()=>{"idle"!==m&&n(m)},[m,n]),"loaded"===m?(0,b.jsx)(l.Primitive.img,{...g,ref:c,src:e}):null});t.displayName=s;var u="AvatarFallback",v=h.forwardRef((a,c)=>{let{__scopeAvatar:d,delayMs:e,...f}=a,g=q(u,d),[i,j]=h.useState(void 0===e);return h.useEffect(()=>{if(void 0!==e){let a=window.setTimeout(()=>j(!0),e);return()=>window.clearTimeout(a)}},[e]),i&&"loaded"!==g.imageLoadingStatus?(0,b.jsx)(l.Primitive.span,{...f,ref:c}):null});function w(a,b){return a?b?(a.src!==b&&(a.src=b),a.complete&&a.naturalWidth>0?"loaded":"loading"):"error":"idle"}function x(){return()=>{}}v.displayName=u;var y=a.i(368114);let z=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)(r,{ref:d,className:(0,y.cn)(`
      after:content-[''] after:block after:absolute after:inset-0 after:rounded-full after:pointer-events-none after:border after:border-black/10 dark:after:border-white/10
      relative flex h-10 w-10 shrink-0 overflow-hidden rounded-full`,a),...c}));z.displayName=r.displayName;let A=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)(t,{ref:d,className:(0,y.cn)("aspect-square h-full w-full",a),...c}));A.displayName=t.displayName;let B=h.forwardRef(({className:a,...c},d)=>(0,b.jsx)(v,{ref:d,className:(0,y.cn)("flex h-full w-full items-center justify-center rounded-full bg-muted",a),...c}));B.displayName=v.displayName;var C=a.i(591119),D=a.i(786304),E=a.i(614228);function F({category:a,minRating:i=4,title:j="What Our Customers Say",maxReviews:k=3}){let[l,m]=(0,h.useState)(!1),n=(0,h.useRef)(null);(0,h.useEffect)(()=>{let a=new IntersectionObserver(b=>{b.forEach(b=>{b.isIntersecting&&(m(!0),a.disconnect())})},{rootMargin:"200px"});return n.current&&a.observe(n.current),()=>a.disconnect()},[]);let o=new URLSearchParams;a&&o.set("category",a),o.set("minRating",i.toString());let p=o.toString()?`?${o.toString()}`:"",{data:q,isLoading:r}=(0,c.useQuery)({queryKey:[`/api/reviews${p}`],staleTime:18e5,enabled:l}),s=new URLSearchParams;s.set("minRating",i.toString());let t=`?${s.toString()}`,{data:u}=(0,c.useQuery)({queryKey:[`/api/reviews${t}`],staleTime:18e5,enabled:l&&void 0!==q&&q.length<3}),{data:v}=(0,c.useQuery)({queryKey:["/api/reviews"],staleTime:18e5,enabled:l&&void 0!==u&&u.length<3}),w=q||[];if(w.length<3&&u&&u.length>=3?w=u:w.length<3&&v&&v.length>w.length&&(w=[...v].sort((a,b)=>b.rating-a.rating)),!l)return(0,b.jsxs)("section",{ref:n,className:"relative py-20 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[(0,b.jsxs)("div",{className:"text-center mb-16",children:[(0,b.jsx)(D.Badge,{variant:"outline",className:"mb-4 text-primary border-primary/20",children:"Customer Testimonials"}),(0,b.jsx)("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:j}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-4",children:[Array.from({length:5}).map((a,c)=>(0,b.jsx)(d.Star,{className:"w-6 h-6 fill-primary text-primary"},c)),(0,b.jsx)("span",{className:"ml-2 text-lg font-semibold",children:"5.0 Rating"})]})]}),(0,b.jsx)("div",{className:"grid gap-8 md:grid-cols-3",children:[1,2,3].map(a=>(0,b.jsxs)(C.Card,{className:"p-8 hover-elevate",children:[(0,b.jsx)("div",{className:"h-32 bg-muted/30 rounded mb-4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-muted/30 rounded w-3/4 mb-2 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-muted/30 rounded w-1/2 animate-pulse"})]},a))})]})]});if(r)return(0,b.jsxs)("section",{ref:n,className:"relative py-20 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[(0,b.jsxs)("div",{className:"text-center mb-16",children:[(0,b.jsx)(D.Badge,{variant:"outline",className:"mb-4 text-primary border-primary/20",children:"Customer Testimonials"}),(0,b.jsx)("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:j}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-4",children:[Array.from({length:5}).map((a,c)=>(0,b.jsx)(d.Star,{className:"w-6 h-6 fill-primary text-primary"},c)),(0,b.jsx)("span",{className:"ml-2 text-lg font-semibold",children:"5.0 Rating"})]})]}),(0,b.jsx)("div",{className:"grid gap-8 md:grid-cols-3",children:[1,2,3].map(a=>(0,b.jsxs)(C.Card,{className:"p-8 hover-elevate",children:[(0,b.jsx)("div",{className:"h-32 bg-muted rounded mb-4 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-3/4 mb-2 animate-pulse"}),(0,b.jsx)("div",{className:"h-4 bg-muted rounded w-1/2 animate-pulse"})]},a))})]})]});if(!w||0===w.length)return null;let x=w.slice(0,k),y=w.length>0?(w.reduce((a,b)=>a+b.rating,0)/w.length).toFixed(1):"5.0";return(0,b.jsxs)(b.Fragment,{children:[x.map(a=>(0,b.jsx)("script",{type:"application/ld+json",dangerouslySetInnerHTML:{__html:JSON.stringify((0,E.createReviewSchema)(a))}},a.id)),(0,b.jsxs)("section",{ref:n,className:"relative py-20 overflow-hidden",children:[(0,b.jsx)("div",{className:"absolute inset-0 bg-gradient-to-br from-primary/5 via-transparent to-accent/5"}),(0,b.jsxs)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 relative",children:[(0,b.jsxs)("div",{className:"text-center mb-16",children:[(0,b.jsx)(D.Badge,{variant:"outline",className:"mb-4 text-primary border-primary/20","data-testid":"badge-testimonials",children:"Customer Testimonials"}),(0,b.jsx)("h2",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-primary to-accent bg-clip-text text-transparent",children:j}),(0,b.jsxs)("div",{className:"flex items-center justify-center gap-1 mb-4",children:[Array.from({length:5}).map((a,c)=>(0,b.jsx)(d.Star,{className:"w-6 h-6 fill-primary text-primary drop-shadow-sm","data-testid":`star-header-${c}`},c)),(0,b.jsxs)("span",{className:"ml-2 text-lg font-semibold","data-testid":"text-avg-rating",children:[y," Rating"]})]}),(0,b.jsx)("p",{className:"text-muted-foreground text-lg max-w-2xl mx-auto",children:"Trusted by hundreds of homeowners across Central Texas"})]}),(0,b.jsx)("div",{className:"grid gap-8 md:grid-cols-2 lg:grid-cols-3 mb-12",children:x.map(a=>{let c=function(a){switch(a){case"dataforseo":case"google_places":case"gmb_api":return{icon:g.SiGoogle,name:"Google",color:"text-blue-600",bgColor:"bg-blue-50 dark:bg-blue-950/30"};case"facebook":return{icon:g.SiFacebook,name:"Facebook",color:"text-blue-700",bgColor:"bg-blue-50 dark:bg-blue-950/30"};case"yelp":return{icon:g.SiYelp,name:"Yelp",color:"text-red-600",bgColor:"bg-red-50 dark:bg-red-950/30"};case"custom_review":case"email_link":case"website":return{icon:d.Star,name:"Verified Customer",color:"text-primary",bgColor:"bg-primary/10"};default:return{icon:d.Star,name:"Review",color:"text-primary",bgColor:"bg-primary/10"}}}(a.source),f=c.icon;return(0,b.jsxs)(C.Card,{className:"relative p-8 hover-elevate transition-all duration-300 border-border/50 group","data-testid":`review-${a.id}`,children:[(0,b.jsx)("div",{className:"absolute -top-4 -left-4 w-12 h-12 bg-primary/10 rounded-full flex items-center justify-center",children:(0,b.jsx)(e.Quote,{className:"w-6 h-6 text-primary"})}),(0,b.jsx)("div",{className:"absolute -top-3 -right-3",children:(0,b.jsxs)(D.Badge,{variant:"secondary",className:`${c.bgColor} ${c.color} border-0 gap-1.5 px-3 py-1`,children:[(0,b.jsx)(f,{className:"w-3.5 h-3.5"}),c.name]})}),(0,b.jsx)("div",{className:"flex items-center gap-1 mb-4",children:Array.from({length:5}).map((c,e)=>(0,b.jsx)(d.Star,{className:`w-5 h-5 ${e<a.rating?"fill-primary text-primary":"fill-muted-foreground/20 text-muted-foreground/20"}`,"data-testid":`star-${a.id}-${e}`},e))}),(0,b.jsxs)("p",{className:"text-foreground leading-relaxed mb-6 line-clamp-6",children:['"',a.text,'"']}),(0,b.jsxs)("div",{className:"flex items-center gap-4 pt-4 border-t border-border/50",children:[(0,b.jsxs)(z,{className:"h-12 w-12 ring-2 ring-primary/10",children:[a.profilePhotoUrl&&"Anonymous"!==a.authorName&&(0,b.jsx)(A,{src:a.profilePhotoUrl,alt:a.authorName,loading:"lazy"}),(0,b.jsx)(B,{className:"bg-primary/10 text-primary font-semibold",children:"Anonymous"===a.authorName?"GC":a.authorName.split(" ").map(a=>a[0]).join("").toUpperCase()})]}),(0,b.jsxs)("div",{className:"flex-1",children:[(0,b.jsx)("h3",{className:"font-semibold text-foreground",children:"Anonymous"===a.authorName?"Google Customer":a.authorName}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:a.relativeTime})]})]})]},a.id)})}),(0,b.jsx)("div",{className:"text-center",children:(0,b.jsxs)("a",{href:"https://www.google.com/maps/search/?api=1&query=Economy+Plumbing+Services+Austin",target:"_blank",rel:"noopener noreferrer",className:"inline-flex items-center gap-2 px-8 py-4 bg-gradient-to-r from-primary to-primary/90 text-primary-foreground rounded-md font-semibold hover-elevate active-elevate-2 transition-all shadow-lg shadow-primary/20","data-testid":"link-all-reviews",children:[(0,b.jsx)(d.Star,{className:"w-5 h-5 fill-current"}),"Read All Google Reviews",(0,b.jsx)(f.ArrowRight,{className:"w-5 h-5"})]})})]})]})]})}a.s(["default",()=>F],410712)}];

//# sourceMappingURL=_52079d2e._.js.map
{"version":3,"sources":["turbopack:///[project]/app/admin/tracking/page.tsx"],"sourcesContent":["'use client';\n\nimport { useEffect, useState } from \"react\";\nimport { useRouter } from 'next/navigation';\nimport { useQuery, useMutation } from \"@tanstack/react-query\";\nimport { Button } from \"@/components/ui/button\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Textarea } from \"@/components/ui/textarea\";\nimport { Switch } from \"@/components/ui/switch\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Dialog, DialogContent, DialogDescription, DialogHeader, DialogTitle, DialogTrigger } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { apiRequest, queryClient } from \"@/lib/queryClient\";\nimport { LogOut, Phone, Plus, Edit, Trash2 } from \"lucide-react\";\nimport { useToast } from \"@/hooks/use-toast\";\n\n// Comprehensive list of channel types for tracking\nconst CHANNEL_TYPES = [\n  { category: \"None/Custom\", options: [\n    { value: \"\", label: \"None (Custom Channel)\" },\n  ]},\n  { category: \"Default\", options: [\n    { value: \"default\", label: \"Default/Organic Traffic\" },\n  ]},\n  { category: \"Paid Advertising\", options: [\n    { value: \"googlebot\", label: \"Google Ads (+ Googlebot)\" },\n    { value: \"bingbot\", label: \"Bing Ads (+ Bingbot)\" },\n    { value: \"facebookbot\", label: \"Facebook/Instagram Ads (+ FB Crawler)\" },\n    { value: \"youtube\", label: \"YouTube Ads\" },\n    { value: \"tiktok\", label: \"TikTok Ads\" },\n    { value: \"linkedin\", label: \"LinkedIn Ads\" },\n    { value: \"pinterest\", label: \"Pinterest Ads\" },\n    { value: \"twitter\", label: \"Twitter/X Ads\" },\n  ]},\n  { category: \"Local Directories & Review Sites\", options: [\n    { value: \"yelp\", label: \"Yelp\" },\n    { value: \"nextdoor\", label: \"Nextdoor\" },\n    { value: \"thumbtack\", label: \"Thumbtack\" },\n    { value: \"angi\", label: \"Angi (Angie's List)\" },\n    { value: \"homeadvisor\", label: \"HomeAdvisor\" },\n    { value: \"porch\", label: \"Porch\" },\n  ]},\n  { category: \"Search Engine Crawlers (SSR)\", options: [\n    { value: \"googlebot\", label: \"ü§ñ Googlebot (Google Crawler)\" },\n    { value: \"bingbot\", label: \"ü§ñ Bingbot (Bing Crawler)\" },\n    { value: \"yahoo\", label: \"ü§ñ Yahoo Slurp (Yahoo Crawler)\" },\n    { value: \"duckduckgo\", label: \"ü§ñ DuckDuckBot\" },\n    { value: \"baidu\", label: \"ü§ñ Baiduspider (China)\" },\n    { value: \"yandex\", label: \"ü§ñ Yandexbot (Russia)\" },\n  ]},\n  { category: \"Social Media Crawlers (SSR)\", options: [\n    { value: \"facebookbot\", label: \"ü§ñ Facebook Crawler (Link Previews)\" },\n    { value: \"twitterbot\", label: \"ü§ñ Twitterbot (Card Previews)\" },\n    { value: \"linkedinbot\", label: \"ü§ñ LinkedInbot (Link Previews)\" },\n    { value: \"pinterestbot\", label: \"ü§ñ Pinterestbot\" },\n    { value: \"whatsapp\", label: \"ü§ñ WhatsApp Preview\" },\n    { value: \"telegram\", label: \"ü§ñ Telegram Preview\" },\n    { value: \"slack\", label: \"ü§ñ Slackbot (Link Previews)\" },\n    { value: \"discord\", label: \"ü§ñ Discordbot (Link Previews)\" },\n  ]},\n  { category: \"SEO & Analytics Crawlers\", options: [\n    { value: \"seranking\", label: \"ü§ñ SE Ranking Crawler\" },\n    { value: \"ahrefsbot\", label: \"ü§ñ Ahrefsbot\" },\n    { value: \"semrushbot\", label: \"ü§ñ SEMrushbot\" },\n    { value: \"mj12bot\", label: \"ü§ñ MJ12bot (Majestic)\" },\n    { value: \"dotbot\", label: \"ü§ñ DotBot (Moz)\" },\n  ]},\n  { category: \"Other Sources\", options: [\n    { value: \"email\", label: \"Email Marketing\" },\n    { value: \"sms\", label: \"SMS Marketing\" },\n    { value: \"print\", label: \"Print Advertising\" },\n    { value: \"radio\", label: \"Radio Advertising\" },\n    { value: \"tv\", label: \"TV Advertising\" },\n    { value: \"direct\", label: \"Direct Traffic\" },\n    { value: \"referral\", label: \"Referral Traffic\" },\n    { value: \"custom\", label: \"Custom Source\" },\n  ]},\n];\n\ninterface TrackingNumber {\n  id: string;\n  channelKey: string;\n  channelName: string;\n  displayNumber: string;\n  rawNumber: string;\n  telLink: string;\n  detectionRules: string;\n  isActive: boolean;\n  isDefault: boolean;\n  sortOrder: number;\n}\n\nexport default function TrackingNumbersAdmin() {\n  const router = useRouter();\n  const [editingNumber, setEditingNumber] = useState<TrackingNumber | null>(null);\n  const [isDialogOpen, setIsDialogOpen] = useState(false);\n  const [isCustomChannelKey, setIsCustomChannelKey] = useState(false);\n  const { toast } = useToast();\n\n  // Check auth status\n  const { data: authData } = useQuery({\n    queryKey: ['/api/admin/check'],\n  });\n\n  useEffect(() => {\n    if (authData && !authData.isAdmin) {\n      router.push(\"/admin/login\");\n    }\n  }, [authData, router]);\n\n  // Fetch tracking numbers (admin - includes inactive)\n  const { data: trackingData, isLoading } = useQuery<{ trackingNumbers: TrackingNumber[] }>({\n    queryKey: ['/api/admin/tracking-numbers'],\n  });\n\n  // Update mutation\n  const updateMutation = useMutation({\n    mutationFn: async ({ id, updates }: { id: string; updates: Partial<TrackingNumber> }) => {\n      return await apiRequest(\"PUT\", `/api/admin/tracking-numbers/${id}`, updates);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Tracking Number Updated\",\n        description: \"The tracking number has been updated successfully.\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/tracking-numbers'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/tracking-numbers'] });\n      setIsDialogOpen(false);\n      setEditingNumber(null);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Update Failed\",\n        description: error.message || \"An error occurred\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  // Delete mutation\n  const deleteMutation = useMutation({\n    mutationFn: async (id: string) => {\n      return await apiRequest(\"DELETE\", `/api/admin/tracking-numbers/${id}`);\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Tracking Number Deleted\",\n        description: \"The tracking number has been deleted successfully.\",\n      });\n      queryClient.invalidateQueries({ queryKey: ['/api/admin/tracking-numbers'] });\n      queryClient.invalidateQueries({ queryKey: ['/api/tracking-numbers'] });\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Delete Failed\",\n        description: error.message || \"An error occurred\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const handleLogout = async () => {\n    await apiRequest(\"POST\", \"/api/admin/logout\");\n    router.push(\"/admin/login\");\n  };\n\n  const handleEdit = (number: TrackingNumber) => {\n    setEditingNumber(number);\n    // Check if this is a custom channel key (not in predefined list)\n    const allPredefinedKeys = CHANNEL_TYPES.flatMap(cat => cat.options.map(opt => opt.value));\n    const isCustom = !allPredefinedKeys.includes(number.channelKey);\n    setIsCustomChannelKey(isCustom);\n    setIsDialogOpen(true);\n  };\n\n  const handleDelete = (id: string) => {\n    if (confirm(\"Are you sure you want to delete this tracking number?\")) {\n      deleteMutation.mutate(id);\n    }\n  };\n\n  const handleToggleActive = (number: TrackingNumber) => {\n    updateMutation.mutate({\n      id: number.id,\n      updates: { isActive: !number.isActive }\n    });\n  };\n\n  const handleSave = () => {\n    if (!editingNumber) return;\n\n    updateMutation.mutate({\n      id: editingNumber.id,\n      updates: {\n        channelKey: editingNumber.channelKey, // ‚úÖ NOW SAVES THE CHANNEL TYPE!\n        channelName: editingNumber.channelName,\n        displayNumber: editingNumber.displayNumber,\n        rawNumber: editingNumber.rawNumber,\n        telLink: editingNumber.telLink,\n        detectionRules: editingNumber.detectionRules,\n        isActive: editingNumber.isActive,\n        isDefault: editingNumber.isDefault,\n        sortOrder: editingNumber.sortOrder,\n      }\n    });\n  };\n\n  if (!authData?.isAdmin) {\n    return null;\n  }\n\n  const trackingNumbers = trackingData?.trackingNumbers || [];\n\n  return (\n    <div className=\"min-h-screen bg-background p-6\">\n      <div className=\"max-w-6xl mx-auto space-y-6\">\n        {/* Header */}\n        <div className=\"flex items-center justify-between\">\n          <div>\n            <h1 className=\"text-3xl font-bold\">Tracking Numbers Admin</h1>\n            <p className=\"text-muted-foreground mt-2\">\n              Manage marketing channel phone numbers and detection rules\n            </p>\n          </div>\n          <div className=\"flex gap-2\">\n            <Button variant=\"outline\" onClick={() => router.push(\"/admin\")}>\n              Back to Admin\n            </Button>\n            <Button variant=\"outline\" onClick={handleLogout}>\n              <LogOut className=\"w-4 h-4 mr-2\" />\n              Logout\n            </Button>\n          </div>\n        </div>\n\n        {/* Tracking Numbers List */}\n        <div className=\"grid gap-4\">\n          {isLoading ? (\n            <Card>\n              <CardContent className=\"py-6\">\n                <p className=\"text-center text-muted-foreground\">Loading tracking numbers...</p>\n              </CardContent>\n            </Card>\n          ) : (\n            trackingNumbers.map((number) => (\n              <Card key={number.id}>\n                <CardHeader>\n                  <div className=\"flex items-center justify-between\">\n                    <div className=\"flex items-center gap-3\">\n                      <Phone className=\"w-5 h-5 text-primary\" />\n                      <div>\n                        <CardTitle className=\"text-lg flex items-center gap-2\">\n                          {number.channelName}\n                          {number.channelKey.startsWith('email-') && (\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              ‚úâÔ∏è Email Campaign\n                            </Badge>\n                          )}\n                          {number.channelKey.startsWith('sms-') && (\n                            <Badge variant=\"secondary\" className=\"text-xs\">\n                              üì± SMS Campaign\n                            </Badge>\n                          )}\n                        </CardTitle>\n                        <CardDescription className=\"mt-1\">\n                          Channel Key: {number.channelKey}\n                        </CardDescription>\n                      </div>\n                    </div>\n                    <div className=\"flex items-center gap-2\">\n                      {number.isDefault && (\n                        <Badge variant=\"default\">Default</Badge>\n                      )}\n                      {number.isActive ? (\n                        <Badge variant=\"outline\" className=\"bg-green-50 text-green-700 border-green-200\">Active</Badge>\n                      ) : (\n                        <Badge variant=\"outline\" className=\"bg-gray-100 text-gray-600\">Inactive</Badge>\n                      )}\n                    </div>\n                  </div>\n                </CardHeader>\n                <CardContent>\n                  <div className=\"grid gap-4 sm:grid-cols-2\">\n                    <div>\n                      <Label className=\"text-sm font-medium text-muted-foreground\">Display Number</Label>\n                      <p className=\"mt-1 text-lg font-semibold\">{number.displayNumber}</p>\n                    </div>\n                    <div>\n                      <Label className=\"text-sm font-medium text-muted-foreground\">Tel Link</Label>\n                      <p className=\"mt-1 font-mono text-sm\">{number.telLink}</p>\n                    </div>\n                    <div className=\"sm:col-span-2\">\n                      <Label className=\"text-sm font-medium text-muted-foreground\">Detection Rules</Label>\n                      <pre className=\"mt-1 text-xs bg-muted p-2 rounded-md overflow-x-auto\">\n                        {JSON.stringify(JSON.parse(number.detectionRules), null, 2)}\n                      </pre>\n                    </div>\n                  </div>\n                  <div className=\"flex items-center gap-2 mt-4 pt-4 border-t\">\n                    <Button\n                      size=\"sm\"\n                      variant=\"outline\"\n                      onClick={() => handleEdit(number)}\n                      data-testid={`button-edit-${number.channelKey}`}\n                    >\n                      <Edit className=\"w-4 h-4 mr-2\" />\n                      Edit\n                    </Button>\n                    <Button\n                      size=\"sm\"\n                      variant={number.isActive ? \"outline\" : \"default\"}\n                      onClick={() => handleToggleActive(number)}\n                      data-testid={`button-toggle-${number.channelKey}`}\n                    >\n                      {number.isActive ? \"Deactivate\" : \"Activate\"}\n                    </Button>\n                    {!number.isDefault && (\n                      <Button\n                        size=\"sm\"\n                        variant=\"destructive\"\n                        onClick={() => handleDelete(number.id)}\n                        data-testid={`button-delete-${number.channelKey}`}\n                      >\n                        <Trash2 className=\"w-4 h-4 mr-2\" />\n                        Delete\n                      </Button>\n                    )}\n                  </div>\n                </CardContent>\n              </Card>\n            ))\n          )}\n        </div>\n\n        {/* Edit Dialog */}\n        <Dialog open={isDialogOpen} onOpenChange={setIsDialogOpen}>\n          <DialogContent className=\"max-w-2xl\">\n            <DialogHeader>\n              <DialogTitle>Edit Tracking Number</DialogTitle>\n              <DialogDescription>\n                Update tracking number details and detection rules\n              </DialogDescription>\n            </DialogHeader>\n            {editingNumber && (\n              <div className=\"grid gap-4 py-4\">\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"channelType\">Channel Type</Label>\n                  <Select\n                    value={isCustomChannelKey ? \"\" : editingNumber.channelKey}\n                    onValueChange={(value) => {\n                      if (value === \"\") {\n                        // Selected \"None (Custom)\" - enable custom mode\n                        setIsCustomChannelKey(true);\n                      } else {\n                        // Selected a predefined option - set it and lock\n                        setEditingNumber({ ...editingNumber, channelKey: value });\n                        setIsCustomChannelKey(false);\n                      }\n                    }}\n                  >\n                    <SelectTrigger data-testid=\"select-channelType\">\n                      <SelectValue placeholder=\"Select channel type...\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {CHANNEL_TYPES.map((category) => (\n                        <optgroup key={category.category} label={category.category}>\n                          {category.options.map((option) => (\n                            <SelectItem key={option.value} value={option.value}>\n                              {option.label}\n                            </SelectItem>\n                          ))}\n                        </optgroup>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                  <p className=\"text-xs text-muted-foreground\">\n                    ü§ñ = Bot/Crawler (will get this number when crawling your site for SEO)\n                  </p>\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"channelKey\">\n                    Channel Key {isCustomChannelKey ? \"(Custom - Enter Manually)\" : \"(Auto-filled)\"}\n                  </Label>\n                  <Input\n                    id=\"channelKey\"\n                    value={editingNumber.channelKey}\n                    onChange={(e) => setEditingNumber({ ...editingNumber, channelKey: e.target.value })}\n                    data-testid=\"input-channelKey\"\n                    placeholder=\"e.g., doorhanger, b2bcard, custom_source\"\n                    disabled={!isCustomChannelKey}\n                    className={!isCustomChannelKey ? \"bg-muted\" : \"\"}\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    {!isCustomChannelKey\n                      ? \"Select 'None (Custom Channel)' from dropdown to edit manually\" \n                      : \"Enter any custom channel key (e.g., doorhanger, radio_ad, etc.)\"}\n                  </p>\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"channelName\">Channel Display Name</Label>\n                  <Input\n                    id=\"channelName\"\n                    value={editingNumber.channelName}\n                    onChange={(e) => setEditingNumber({ ...editingNumber, channelName: e.target.value })}\n                    data-testid=\"input-channelName\"\n                    placeholder=\"e.g., Google Ads, Bingbot Crawler\"\n                  />\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"displayNumber\">Display Number</Label>\n                  <Input\n                    id=\"displayNumber\"\n                    value={editingNumber.displayNumber}\n                    onChange={(e) => setEditingNumber({ ...editingNumber, displayNumber: e.target.value })}\n                    data-testid=\"input-displayNumber\"\n                  />\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"telLink\">Tel Link</Label>\n                  <Input\n                    id=\"telLink\"\n                    value={editingNumber.telLink}\n                    onChange={(e) => setEditingNumber({ ...editingNumber, telLink: e.target.value })}\n                    data-testid=\"input-telLink\"\n                  />\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"detectionRules\">Detection Rules (JSON)</Label>\n                  <Textarea\n                    id=\"detectionRules\"\n                    value={editingNumber.detectionRules}\n                    onChange={(e) => setEditingNumber({ ...editingNumber, detectionRules: e.target.value })}\n                    rows={6}\n                    className=\"font-mono text-sm\"\n                    data-testid=\"input-detectionRules\"\n                  />\n                  <p className=\"text-xs text-muted-foreground\">\n                    Format: {\"{\"}\"urlParams\":[\"gclid\"],\"utmSources\":[\"google\"],\"referrerIncludes\":[\"google.com\"]{\"}\"}\n                  </p>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <Switch\n                    id=\"isActive\"\n                    checked={editingNumber.isActive}\n                    onCheckedChange={(checked) => setEditingNumber({ ...editingNumber, isActive: checked })}\n                    data-testid=\"switch-isActive\"\n                  />\n                  <Label htmlFor=\"isActive\">Active</Label>\n                </div>\n                <div className=\"flex items-center space-x-2\">\n                  <Switch\n                    id=\"isDefault\"\n                    checked={editingNumber.isDefault}\n                    onCheckedChange={(checked) => setEditingNumber({ ...editingNumber, isDefault: checked })}\n                    data-testid=\"switch-isDefault\"\n                  />\n                  <Label htmlFor=\"isDefault\">Default</Label>\n                </div>\n                <div className=\"grid gap-2\">\n                  <Label htmlFor=\"sortOrder\">Sort Order</Label>\n                  <Input\n                    id=\"sortOrder\"\n                    type=\"number\"\n                    value={editingNumber.sortOrder}\n                    onChange={(e) => setEditingNumber({ ...editingNumber, sortOrder: parseInt(e.target.value) })}\n                    data-testid=\"input-sortOrder\"\n                  />\n                </div>\n                <div className=\"flex justify-end gap-2 pt-4\">\n                  <Button variant=\"outline\" onClick={() => setIsDialogOpen(false)}>\n                    Cancel\n                  </Button>\n                  <Button onClick={handleSave} data-testid=\"button-save\">\n                    Save Changes\n                  </Button>\n                </div>\n              </div>\n            )}\n          </DialogContent>\n        </Dialog>\n      </div>\n    </div>\n  );\n}\n"],"names":[],"mappings":"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"}
module.exports=[870430,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(30553),e=c.forwardRef((a,c)=>(0,b.jsx)(d.Primitive.label,{...a,ref:c,onMouseDown:b=>{b.target.closest("button, input, select, textarea")||(a.onMouseDown?.(b),!b.defaultPrevented&&b.detail>1&&b.preventDefault())}}));e.displayName="Label";var f=a.i(400187),g=a.i(368114);let h=(0,f.cva)("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),i=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(e,{ref:d,className:(0,g.cn)(h(),a),...c}));i.displayName=e.displayName,a.s(["Label",()=>i],870430)},77994,a=>{"use strict";var b=a.i(572131);function c(a){let c=b.useRef({value:a,previous:a});return b.useMemo(()=>(c.current.value!==a&&(c.current.previous=c.current.value,c.current.value=a),c.current.previous),[a])}a.s(["usePrevious",()=>c])},563658,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(507554),e=a.i(470121),f=a.i(750104),g=a.i(225152),h=a.i(77994),i=a.i(3688),j=a.i(30553),k="Switch",[l,m]=(0,f.createContextScope)(k),[n,o]=l(k),p=c.forwardRef((a,f)=>{let{__scopeSwitch:h,name:i,checked:k,defaultChecked:l,required:m,disabled:o,value:p="on",onCheckedChange:q,form:r,...u}=a,[v,w]=c.useState(null),x=(0,e.useComposedRefs)(f,a=>w(a)),y=c.useRef(!1),z=!v||r||!!v.closest("form"),[A=!1,B]=(0,g.useControllableState)({prop:k,defaultProp:l,onChange:q});return(0,b.jsxs)(n,{scope:h,checked:A,disabled:o,children:[(0,b.jsx)(j.Primitive.button,{type:"button",role:"switch","aria-checked":A,"aria-required":m,"data-state":t(A),"data-disabled":o?"":void 0,disabled:o,value:p,...u,ref:x,onClick:(0,d.composeEventHandlers)(a.onClick,a=>{B(a=>!a),z&&(y.current=a.isPropagationStopped(),y.current||a.stopPropagation())})}),z&&(0,b.jsx)(s,{control:v,bubbles:!y.current,name:i,value:p,checked:A,required:m,disabled:o,form:r,style:{transform:"translateX(-100%)"}})]})});p.displayName=k;var q="SwitchThumb",r=c.forwardRef((a,c)=>{let{__scopeSwitch:d,...e}=a,f=o(q,d);return(0,b.jsx)(j.Primitive.span,{"data-state":t(f.checked),"data-disabled":f.disabled?"":void 0,...e,ref:c})});r.displayName=q;var s=a=>{let{control:d,checked:e,bubbles:f=!0,...g}=a,j=c.useRef(null),k=(0,h.usePrevious)(e),l=(0,i.useSize)(d);return c.useEffect(()=>{let a=j.current,b=Object.getOwnPropertyDescriptor(window.HTMLInputElement.prototype,"checked").set;if(k!==e&&b){let c=new Event("click",{bubbles:f});b.call(a,e),a.dispatchEvent(c)}},[k,e,f]),(0,b.jsx)("input",{type:"checkbox","aria-hidden":!0,defaultChecked:e,...g,tabIndex:-1,ref:j,style:{...a.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function t(a){return a?"checked":"unchecked"}var u=a.i(368114);let v=c.forwardRef(({className:a,...c},d)=>(0,b.jsx)(p,{className:(0,u.cn)("peer inline-flex h-6 w-11 shrink-0 cursor-pointer items-center rounded-full border-2 border-transparent transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 focus-visible:ring-offset-background disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=unchecked]:bg-input",a),...c,ref:d,children:(0,b.jsx)(r,{className:(0,u.cn)("pointer-events-none block h-5 w-5 rounded-full bg-background shadow-lg ring-0 transition-transform data-[state=checked]:translate-x-5 data-[state=unchecked]:translate-x-0")})}));v.displayName=p.displayName,a.s(["Switch",()=>v],563658)},81502,a=>{"use strict";var b=a.i(187924),c=a.i(572131),d=a.i(50944),e=a.i(433217),f=a.i(370025),g=a.i(699570),h=a.i(591119),i=a.i(866718),j=a.i(870430),k=a.i(563658),l=a.i(668929),m=a.i(220005);let n=(0,a.i(170106).default)("Save",[["path",{d:"M15.2 3a2 2 0 0 1 1.4.6l3.8 3.8a2 2 0 0 1 .6 1.4V19a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2z",key:"1c8476"}],["path",{d:"M17 21v-7a1 1 0 0 0-1-1H8a1 1 0 0 0-1 1v7",key:"1ydtos"}],["path",{d:"M7 3v4a1 1 0 0 0 1 1h7",key:"t51u73"}]]);var o=a.i(478793);function p(){let a=(0,d.useRouter)(),{toast:p}=(0,o.useToast)(),[q,r]=(0,c.useState)({}),{data:s}=(0,e.useQuery)({queryKey:["/api/admin/check"]});(0,c.useEffect)(()=>{s&&!s.isAdmin&&a.push("/admin/login")},[s,a]);let{data:t,isLoading:u}=(0,e.useQuery)({queryKey:["/api/admin/settings"],queryFn:async()=>{let a=await fetch("/api/admin/settings");if(!a.ok)throw Error("Failed to fetch settings");return a.json()}});(0,c.useEffect)(()=>{t?.settings&&r(t.settings)},[t]);let v=(0,f.useMutation)({mutationFn:async a=>await (0,l.apiRequest)("PATCH","/api/admin/settings",a),onSuccess:()=>{p({title:"Settings Updated",description:"System settings have been saved successfully."}),l.queryClient.invalidateQueries({queryKey:["/api/admin/settings"]})},onError:a=>{p({title:"Update Failed",description:a.message||"An error occurred",variant:"destructive"})}}),w=async()=>{await (0,l.apiRequest)("POST","/api/admin/logout"),a.push("/admin/login")};return s?.isAdmin?(0,b.jsx)("div",{className:"min-h-screen bg-background p-6",children:(0,b.jsxs)("div",{className:"max-w-4xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between flex-wrap gap-2",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold","data-testid":"heading-settings",children:"System Settings"}),(0,b.jsx)("p",{className:"text-muted-foreground mt-1",children:"Configure site-wide settings and preferences"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsx)(g.Button,{variant:"outline",onClick:()=>a.push("/admin"),"data-testid":"button-back",children:"Back to Admin"}),(0,b.jsxs)(g.Button,{variant:"outline",onClick:w,"data-testid":"button-logout",children:[(0,b.jsx)(m.LogOut,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Company Information"}),(0,b.jsx)(h.CardDescription,{children:"Basic company details and contact information"})]}),(0,b.jsx)(h.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"company_name",children:"Company Name"}),(0,b.jsx)(i.Input,{id:"company_name",value:q.company_name||"",onChange:a=>r({...q,company_name:a.target.value}),placeholder:"Economy Plumbing Services","data-testid":"input-company-name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"company_phone",children:"Company Phone"}),(0,b.jsx)(i.Input,{id:"company_phone",value:q.company_phone||"",onChange:a=>r({...q,company_phone:a.target.value}),placeholder:"(555) 555-5555","data-testid":"input-company-phone"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"company_email",children:"Company Email"}),(0,b.jsx)(i.Input,{id:"company_email",type:"email",value:q.company_email||"",onChange:a=>r({...q,company_email:a.target.value}),placeholder:"info@example.com","data-testid":"input-company-email"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"notification_email",children:"Notification Email"}),(0,b.jsx)(i.Input,{id:"notification_email",type:"email",value:q.notification_email||"",onChange:a=>r({...q,notification_email:a.target.value}),placeholder:"admin@example.com","data-testid":"input-notification-email"})]})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Marketing Settings"}),(0,b.jsx)(h.CardDescription,{children:"Email campaigns and tracking configuration"})]}),(0,b.jsx)(h.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"email_campaign_from_name",children:"Email From Name"}),(0,b.jsx)(i.Input,{id:"email_campaign_from_name",value:q.email_campaign_from_name||"",onChange:a=>r({...q,email_campaign_from_name:a.target.value}),placeholder:"Economy Plumbing","data-testid":"input-email-from-name"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"default_tracking_number",children:"Default Tracking Number"}),(0,b.jsx)(i.Input,{id:"default_tracking_number",value:q.default_tracking_number||"",onChange:a=>r({...q,default_tracking_number:a.target.value}),placeholder:"(555) 555-5555","data-testid":"input-default-tracking"})]})]})})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Feature Toggles"}),(0,b.jsx)(h.CardDescription,{children:"Enable or disable automated features"})]}),(0,b.jsxs)(h.CardContent,{className:"space-y-4",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"review_request_enabled",children:"Review Request Campaign"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Automatically send review requests to customers"})]}),(0,b.jsx)(k.Switch,{id:"review_request_enabled",checked:q.review_request_enabled??!0,onCheckedChange:a=>r({...q,review_request_enabled:a}),"data-testid":"switch-review-requests"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"referral_nurture_enabled",children:"Referral Nurture Campaign"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Send referral nurture emails to satisfied customers"})]}),(0,b.jsx)(k.Switch,{id:"referral_nurture_enabled",checked:q.referral_nurture_enabled??!0,onCheckedChange:a=>r({...q,referral_nurture_enabled:a}),"data-testid":"switch-referral-nurture"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"ai_blog_generation_enabled",children:"AI Blog Generation"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Enable AI-powered blog post generation"})]}),(0,b.jsx)(k.Switch,{id:"ai_blog_generation_enabled",checked:q.ai_blog_generation_enabled??!0,onCheckedChange:a=>r({...q,ai_blog_generation_enabled:a}),"data-testid":"switch-ai-blog"})]}),(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"google_drive_sync_enabled",children:"Google Drive Sync"}),(0,b.jsx)("p",{className:"text-sm text-muted-foreground",children:"Sync photos from Google Drive"})]}),(0,b.jsx)(k.Switch,{id:"google_drive_sync_enabled",checked:q.google_drive_sync_enabled??!1,onCheckedChange:a=>r({...q,google_drive_sync_enabled:a}),"data-testid":"switch-google-drive"})]})]})]}),(0,b.jsxs)(h.Card,{children:[(0,b.jsxs)(h.CardHeader,{children:[(0,b.jsx)(h.CardTitle,{children:"Pricing Configuration"}),(0,b.jsx)(h.CardDescription,{children:"Set prices for services and memberships"})]}),(0,b.jsx)(h.CardContent,{className:"space-y-4",children:(0,b.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"referral_credit_amount",children:"Referral Credit Amount ($)"}),(0,b.jsx)(i.Input,{id:"referral_credit_amount",type:"number",value:q.referral_credit_amount||"",onChange:a=>r({...q,referral_credit_amount:parseFloat(a.target.value)||0}),placeholder:"50","data-testid":"input-referral-credit"})]}),(0,b.jsxs)("div",{children:[(0,b.jsx)(j.Label,{htmlFor:"membership_price",children:"VIP Membership Price ($)"}),(0,b.jsx)(i.Input,{id:"membership_price",type:"number",value:q.membership_price||"",onChange:a=>r({...q,membership_price:parseFloat(a.target.value)||0}),placeholder:"199","data-testid":"input-membership-price"})]})]})})]}),(0,b.jsx)("div",{className:"flex justify-end",children:(0,b.jsxs)(g.Button,{onClick:()=>{v.mutate(q)},disabled:v.isPending||u,"data-testid":"button-save",children:[(0,b.jsx)(n,{className:"h-4 w-4 mr-2"}),v.isPending?"Saving...":"Save Settings"]})})]})}):null}a.s(["default",()=>p],81502)}];

//# sourceMappingURL=_55089b05._.js.map
module.exports=[433918,a=>{"use strict";var b,c=a.i(187924),d=a.i(293554),e=a.i(433217),f=a.i(572131),g=a.i(341212);function h(a,b){var c=Object.keys(a);if(Object.getOwnPropertySymbols){var d=Object.getOwnPropertySymbols(a);b&&(d=d.filter(function(b){return Object.getOwnPropertyDescriptor(a,b).enumerable})),c.push.apply(c,d)}return c}function i(a){for(var b=1;b<arguments.length;b++){var c=null!=arguments[b]?arguments[b]:{};b%2?h(Object(c),!0).forEach(function(b){k(a,b,c[b])}):Object.getOwnPropertyDescriptors?Object.defineProperties(a,Object.getOwnPropertyDescriptors(c)):h(Object(c)).forEach(function(b){Object.defineProperty(a,b,Object.getOwnPropertyDescriptor(c,b))})}return a}function j(a){return(j="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol&&a!==Symbol.prototype?"symbol":typeof a})(a)}function k(a,b,c){return b in a?Object.defineProperty(a,b,{value:c,enumerable:!0,configurable:!0,writable:!0}):a[b]=c,a}function l(a,b){return function(a){if(Array.isArray(a))return a}(a)||function(a,b){var c,d,e=a&&("undefined"!=typeof Symbol&&a[Symbol.iterator]||a["@@iterator"]);if(null!=e){var f=[],g=!0,h=!1;try{for(e=e.call(a);!(g=(c=e.next()).done)&&(f.push(c.value),!b||f.length!==b);g=!0);}catch(a){h=!0,d=a}finally{try{g||null==e.return||e.return()}finally{if(h)throw d}}return f}}(a,b)||function(a,b){if(a){if("string"==typeof a)return m(a,b);var c=Object.prototype.toString.call(a).slice(8,-1);if("Object"===c&&a.constructor&&(c=a.constructor.name),"Map"===c||"Set"===c)return Array.from(a);if("Arguments"===c||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(c))return m(a,b)}}(a,b)||function(){throw TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function m(a,b){(null==b||b>a.length)&&(b=a.length);for(var c=0,d=Array(b);c<b;c++)d[c]=a[c];return d}var n=function(a,b,c){var d=!!c,e=f.default.useRef(c);f.default.useEffect(function(){e.current=c},[c]),f.default.useEffect(function(){if(!d||!a)return function(){};var c=function(){e.current&&e.current.apply(e,arguments)};return a.on(b,c),function(){a.off(b,c)}},[d,b,a,e])},o=function(a){var b=f.default.useRef(a);return f.default.useEffect(function(){b.current=a},[a]),b.current},p=function(a){return null!==a&&"object"===j(a)},q="[object Object]",r=function a(b,c){if(!p(b)||!p(c))return b===c;var d=Array.isArray(b);if(d!==Array.isArray(c))return!1;var e=Object.prototype.toString.call(b)===q;if(e!==(Object.prototype.toString.call(c)===q))return!1;if(!e&&!d)return b===c;var f=Object.keys(b),g=Object.keys(c);if(f.length!==g.length)return!1;for(var h={},i=0;i<f.length;i+=1)h[f[i]]=!0;for(var j=0;j<g.length;j+=1)h[g[j]]=!0;var k=Object.keys(h);return k.length===f.length&&k.every(function(d){return a(b[d],c[d])})},s=function(a,b,c){return p(a)?Object.keys(a).reduce(function(d,e){var f=!p(b)||!r(a[e],b[e]);return c.includes(e)?(f&&console.warn("Unsupported prop change: options.".concat(e," is not a mutable property.")),d):f?i(i({},d||{}),{},k({},e,a[e])):d},null):null},t="Invalid prop `stripe` supplied to `Elements`. We recommend using the `loadStripe` utility from `@stripe/stripe-js`. See https://stripe.com/docs/stripe-js/react#elements-props-stripe for details.",u=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(null===a||p(a)&&"function"==typeof a.elements&&"function"==typeof a.createToken&&"function"==typeof a.createPaymentMethod&&"function"==typeof a.confirmCardPayment)return a;throw Error(b)},v=function(a){var b=arguments.length>1&&void 0!==arguments[1]?arguments[1]:t;if(p(a)&&"function"==typeof a.then)return{tag:"async",stripePromise:Promise.resolve(a).then(function(a){return u(a,b)})};var c=u(a,b);return null===c?{tag:"empty"}:{tag:"sync",stripe:c}},w=function(a){a&&a._registerWrapper&&a.registerAppInfo&&(a._registerWrapper({name:"react-stripe-js",version:"5.0.0"}),a.registerAppInfo({name:"react-stripe-js",version:"5.0.0",url:"https://stripe.com/docs/stripe-js/react"}))},x=f.default.createContext(null);x.displayName="ElementsContext";var y=function(a,b){if(!a)throw Error("Could not find Elements context; You need to wrap the part of your app that ".concat(b," in an <Elements> provider."));return a},z=function(a){var b=a.stripe,c=a.options,d=a.children,e=f.default.useMemo(function(){return v(b)},[b]),g=l(f.default.useState(function(){return{stripe:"sync"===e.tag?e.stripe:null,elements:"sync"===e.tag?e.stripe.elements(c):null}}),2),h=g[0],i=g[1];f.default.useEffect(function(){var a=!0,b=function(a){i(function(b){return b.stripe?b:{stripe:a,elements:a.elements(c)}})};return"async"!==e.tag||h.stripe?"sync"!==e.tag||h.stripe||b(e.stripe):e.stripePromise.then(function(c){c&&a&&b(c)}),function(){a=!1}},[e,h,c]);var j=o(b);f.default.useEffect(function(){null!==j&&j!==b&&console.warn("Unsupported prop change on Elements: You cannot change the `stripe` prop after setting it.")},[j,b]);var k=o(c);return f.default.useEffect(function(){if(h.elements){var a=s(c,k,["clientSecret","fonts"]);a&&h.elements.update(a)}},[c,k,h.elements]),f.default.useEffect(function(){w(h.stripe)},[h.stripe]),f.default.createElement(x.Provider,{value:h},d)};z.propTypes={stripe:g.default.any,options:g.default.object};g.default.func.isRequired;var A=f.default.createContext(null);A.displayName="CheckoutContext",g.default.any,g.default.shape({clientSecret:g.default.oneOfType([g.default.string,g.default.instanceOf(Promise)]).isRequired,elementsOptions:g.default.object}).isRequired;var B=function(a){var b=f.default.useContext(A),c=f.default.useContext(x);if(!b)return y(c,a);if(!c)return b;throw Error("You cannot wrap the part of your app that ".concat(a," in both <CheckoutProvider> and <Elements> providers."))},C=["mode"],D=function(a,b){var c="".concat(a.charAt(0).toUpperCase()+a.slice(1),"Element"),d=b?function(a){B("mounts <".concat(c,">"));var b=a.id,d=a.className;return f.default.createElement("div",{id:b,className:d})}:function(b){var d,e=b.id,g=b.className,h=b.options,i=void 0===h?{}:h,j=b.onBlur,k=b.onFocus,m=b.onReady,p=b.onChange,q=b.onEscape,r=b.onClick,t=b.onLoadError,u=b.onLoaderStart,v=b.onNetworksChange,w=b.onConfirm,x=b.onCancel,y=b.onShippingAddressChange,z=b.onShippingRateChange,A=b.onSavedPaymentMethodRemove,D=b.onSavedPaymentMethodUpdate,E=B("mounts <".concat(c,">")),F="elements"in E?E.elements:null,G="checkoutState"in E?E.checkoutState:null,H=(null==G?void 0:G.type)==="success"||(null==G?void 0:G.type)==="loading"?G.sdk:null,I=l(f.default.useState(null),2),J=I[0],K=I[1],L=f.default.useRef(null),M=f.default.useRef(null);n(J,"blur",j),n(J,"focus",k),n(J,"escape",q),n(J,"click",r),n(J,"loaderror",t),n(J,"loaderstart",u),n(J,"networkschange",v),n(J,"confirm",w),n(J,"cancel",x),n(J,"shippingaddresschange",y),n(J,"shippingratechange",z),n(J,"savedpaymentmethodremove",A),n(J,"savedpaymentmethodupdate",D),n(J,"change",p),m&&(d="expressCheckout"===a?m:function(){m(J)}),n(J,"ready",d),f.default.useLayoutEffect(function(){if(null===L.current&&null!==M.current&&(F||H)){var b=null;if(H)switch(a){case"payment":b=H.createPaymentElement(i);break;case"address":if("mode"in i){var d=i.mode,e=function(a,b){if(null==a)return{};var c,d,e=function(a,b){if(null==a)return{};var c,d,e={},f=Object.keys(a);for(d=0;d<f.length;d++)c=f[d],b.indexOf(c)>=0||(e[c]=a[c]);return e}(a,b);if(Object.getOwnPropertySymbols){var f=Object.getOwnPropertySymbols(a);for(d=0;d<f.length;d++)c=f[d],!(b.indexOf(c)>=0)&&Object.prototype.propertyIsEnumerable.call(a,c)&&(e[c]=a[c])}return e}(i,C);if("shipping"===d)b=H.createShippingAddressElement(e);else if("billing"===d)b=H.createBillingAddressElement(e);else throw Error("Invalid options.mode. mode must be 'billing' or 'shipping'.")}else throw Error("You must supply options.mode. mode must be 'billing' or 'shipping'.");break;case"expressCheckout":b=H.createExpressCheckoutElement(i);break;case"currencySelector":b=H.createCurrencySelectorElement();break;case"taxId":b=H.createTaxIdElement(i);break;default:throw Error("Invalid Element type ".concat(c,". You must use either the <PaymentElement />, <AddressElement options={{mode: 'shipping'}} />, <AddressElement options={{mode: 'billing'}} />, or <ExpressCheckoutElement />."))}else F&&(b=F.create(a,i));L.current=b,K(b),b&&b.mount(M.current)}},[F,H,i]);var N=o(i);return f.default.useEffect(function(){if(L.current){var a=s(i,N,["paymentRequest"]);a&&"update"in L.current&&L.current.update(a)}},[i,N]),f.default.useLayoutEffect(function(){return function(){if(L.current&&"function"==typeof L.current.destroy)try{L.current.destroy(),L.current=null}catch(a){}}},[]),f.default.createElement("div",{id:e,className:g,ref:M})};return d.propTypes={id:g.default.string,className:g.default.string,onChange:g.default.func,onBlur:g.default.func,onFocus:g.default.func,onReady:g.default.func,onEscape:g.default.func,onClick:g.default.func,onLoadError:g.default.func,onLoaderStart:g.default.func,onNetworksChange:g.default.func,onConfirm:g.default.func,onCancel:g.default.func,onShippingAddressChange:g.default.func,onShippingRateChange:g.default.func,onSavedPaymentMethodRemove:g.default.func,onSavedPaymentMethodUpdate:g.default.func,options:g.default.object},d.displayName=c,d.__elementType=a,d},E=f.default.createContext(null);E.displayName="EmbeddedCheckoutProviderContext";D("auBankAccount",!0),D("card",!0),D("cardNumber",!0),D("cardExpiry",!0),D("cardCvc",!0),D("iban",!0);var F=D("payment",!0);D("expressCheckout",!0),D("paymentRequestButton",!0),D("linkAuthentication",!0),D("address",!0),D("shippingAddress",!0),D("paymentMethodMessaging",!0),D("taxId",!0);var G="clover";"".concat("https://js.stripe.com","/").concat(G,"/stripe.js");var H=function(a,b){a&&a._registerWrapper&&a._registerWrapper({name:"stripe-js",version:"8.0.0",startTime:b})},I=null,J=function(a,b,c){if(null===a)return null;var d,e=b[0].match(/^pk_test/),f=3===(d=a.version)?"v3":d;e&&f!==G&&console.warn("Stripe.js@".concat(f," was loaded on the page, but @stripe/stripe-js@").concat("8.0.0"," expected Stripe.js@").concat(G,". This may result in unexpected behavior. For more information, see https://docs.stripe.com/sdks/stripejs-versioning"));var g=a.apply(void 0,b);return H(g,c),g},K=!1,L=function(){return b?b:b=(null!==I?I:(I=new Promise(function(a,b){a(null)})).catch(function(a){return I=null,Promise.reject(a)})).catch(function(a){return b=null,Promise.reject(a)})};Promise.resolve().then(function(){return L()}).catch(function(a){K||console.warn(a)});var M=function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];K=!0;var d=Date.now();return L().then(function(a){return J(a,b,d)})},N=a.i(695245),O=a.i(159501),P=a.i(88780),Q=a.i(920238),R=a.i(356283),S=a.i(591119),T=a.i(699570),U=a.i(816201),V=a.i(596221);let W=(0,a.i(170106).default)("TestTube",[["path",{d:"M14.5 2v17.5c0 1.4-1.1 2.5-2.5 2.5c-1.4 0-2.5-1.1-2.5-2.5V2",key:"125lnx"}],["path",{d:"M8.5 2h7",key:"csnxdl"}],["path",{d:"M14.5 16h-5",key:"1ox875"}]]);var X=a.i(267900),Y=a.i(681010),Z=a.i(929423),$=a.i(668929),_=a.i(478793),aa=a.i(441921),ab=a.i(866718),ac=a.i(48468),ad=a.i(315055);let ae={get url(){return`file://${a.P("app/store/checkout/[slug]/page.tsx")}`}},af=P.z.object({customerType:P.z.literal("residential"),locationName:P.z.string().min(2,"Name is required"),street:P.z.string().min(3,"Street address is required"),city:P.z.string().min(2,"City is required"),state:P.z.string().min(2,"State is required"),zip:P.z.string().min(5,"ZIP code is required"),billingName:P.z.string().min(2,"Billing name is required"),billingStreet:P.z.string().min(3,"Billing street is required"),billingCity:P.z.string().min(2,"Billing city is required"),billingState:P.z.string().min(2,"Billing state is required"),billingZip:P.z.string().min(5,"Billing ZIP is required"),phone:P.z.string().min(10,"Phone number is required"),email:P.z.string().email("Valid email is required"),sameAsBilling:P.z.boolean().optional()}),ag=P.z.object({customerType:P.z.literal("commercial"),companyName:P.z.string().min(2,"Company name is required"),locationName:P.z.string().min(2,"Location name is required"),contactPersonName:P.z.string().min(2,"Contact person name is required"),locationPhone:P.z.string().min(10,"Location phone is required"),extension:P.z.string().optional(),street:P.z.string().min(3,"Location street is required"),city:P.z.string().min(2,"Location city is required"),state:P.z.string().min(2,"Location state is required"),zip:P.z.string().min(5,"Location ZIP is required"),billingName:P.z.string().min(2,"Billing contact name is required"),billingStreet:P.z.string().min(3,"Billing street is required"),billingCity:P.z.string().min(2,"Billing city is required"),billingState:P.z.string().min(2,"Billing state is required"),billingZip:P.z.string().min(5,"Billing ZIP is required"),phone:P.z.string().min(10,"Billing phone is required"),email:P.z.string().email("Email is required")}),ah=P.z.discriminatedUnion("customerType",[af,ag]);function ai({product:a,isTestMode:b,customerInfo:e}){var g;let h=B("calls useStripe()").stripe,i=(g="calls useElements()",y(f.default.useContext(x),g)).elements,{toast:j}=(0,_.useToast)(),[,k]=(0,d.useLocation)(),[l,m]=(0,f.useState)(!1),n=async c=>{if(c.preventDefault(),!h||!i)return;m(!0);let d={name:"residential"===e.customerType?e.locationName:e.companyName,email:e.email,phone:e.phone,address:{line1:e.billingStreet||e.street,city:e.billingCity||e.city,state:e.billingState||e.state,postal_code:e.billingZip||e.zip,country:"US"}},f={name:"residential"===e.customerType?e.locationName:e.companyName,phone:e.phone,address:{line1:e.street,city:e.city,state:e.state,postal_code:e.zip,country:"US"}},{error:g}=await h.confirmPayment({elements:i,confirmParams:{return_url:`${window.location.origin}/store/checkout/success?product=${a.slug}${b?"&test=true":""}`,payment_method_data:{billing_details:d},shipping:f}});g&&(j({title:"Payment Failed",description:g.message,variant:"destructive"}),m(!1))};return(0,c.jsxs)("form",{onSubmit:n,className:"space-y-6",children:[(0,c.jsx)(F,{}),(0,c.jsx)(T.Button,{type:"submit",className:"w-full",size:"lg",disabled:!h||l,"data-testid":"button-complete-purchase",children:l?(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(V.Loader2,{className:"w-4 h-4 mr-2 animate-spin"}),b?"Processing Test Payment...":"Processing..."]}):(0,c.jsxs)(c.Fragment,{children:[b&&(0,c.jsx)(W,{className:"w-4 h-4 mr-2"}),b?`Test Purchase ${a.name}`:`Purchase ${a.name}`]})})]})}function aj(){let{slug:a}=(0,d.useParams)(),{toast:b}=(0,_.useToast)(),[g,h]=(0,f.useState)("info"),[i,j]=(0,f.useState)(""),[k,l]=(0,f.useState)(null),[m,n]=(0,f.useState)(null),o=(0,f.useMemo)(()=>new URLSearchParams(window.location.search).has("testmode"),[]),p=(0,f.useMemo)(()=>(function(a){if(a){if(!ae.env.VITE_TESTING_STRIPE_PUBLIC_KEY)throw Error("Missing required Stripe test key: VITE_TESTING_STRIPE_PUBLIC_KEY");return M(ae.env.VITE_TESTING_STRIPE_PUBLIC_KEY)}if(!ae.env.VITE_STRIPE_PUBLIC_KEY)throw Error("Missing required Stripe key: VITE_STRIPE_PUBLIC_KEY");return M(ae.env.VITE_STRIPE_PUBLIC_KEY)})(o),[o]),{data:q,isLoading:r}=(0,e.useQuery)({queryKey:["/api/products",a]}),{data:s}=(0,e.useQuery)({queryKey:["/api/servicetitan/customer",m],enabled:!!m}),t=q?.slug==="commercial-vip",u=(0,N.useForm)({resolver:(0,O.zodResolver)(ah),defaultValues:{customerType:t?"commercial":"residential",sameAsBilling:!1}});(0,f.useEffect)(()=>{(async()=>{try{let a=await fetch("/api/portal/session");if(a.ok){let b=await a.json();b.customerId&&n(b.customerId.toString())}}catch(a){console.log("[Checkout] No active portal session")}})()},[]),(0,f.useEffect)(()=>{if(s?.customer){let a=s.customer,c=a.type?.toLowerCase()==="commercial";if(!(a.address?.street&&a.address?.city&&a.address?.state&&a.address?.zip))return void console.log("[Checkout] Customer profile incomplete - skipping auto-fill");c?(u.setValue("customerType","commercial"),a.name&&u.setValue("companyName",a.name),a.address.street&&u.setValue("locationName",a.address.street),a.name&&u.setValue("contactPersonName",a.name),a.phone&&u.setValue("phone",a.phone),a.email&&u.setValue("email",a.email),a.address.street&&u.setValue("street",a.address.street),a.address.city&&u.setValue("city",a.address.city),a.address.state&&u.setValue("state",a.address.state),a.address.zip&&u.setValue("zip",a.address.zip),a.name&&u.setValue("billingName",a.name),a.address.street&&u.setValue("billingStreet",a.address.street),a.address.city&&u.setValue("billingCity",a.address.city),a.address.state&&u.setValue("billingState",a.address.state),a.address.zip&&u.setValue("billingZip",a.address.zip)):(u.setValue("customerType","residential"),a.name&&u.setValue("locationName",a.name),a.phone&&u.setValue("phone",a.phone),a.email&&u.setValue("email",a.email),a.address.street&&u.setValue("street",a.address.street),a.address.city&&u.setValue("city",a.address.city),a.address.state&&u.setValue("state",a.address.state),a.address.zip&&u.setValue("zip",a.address.zip),a.name&&u.setValue("billingName",a.name),a.address.street&&u.setValue("billingStreet",a.address.street),a.address.city&&u.setValue("billingCity",a.address.city),a.address.state&&u.setValue("billingState",a.address.state),a.address.zip&&u.setValue("billingZip",a.address.zip),u.setValue("sameAsBilling",!0)),b({title:"Info pre-filled",description:"Your account information has been automatically filled in. Just add payment details to complete your purchase."})}},[s,u,b]);let v=u.watch("customerType"),w=u.watch("sameAsBilling");(0,f.useEffect)(()=>{if("residential"===v&&w){let a=u.getValues("locationName"),b=u.getValues("street"),c=u.getValues("city"),d=u.getValues("state"),e=u.getValues("zip");u.setValue("billingName",a),u.setValue("billingStreet",b),u.setValue("billingCity",c),u.setValue("billingState",d),u.setValue("billingZip",e)}},[w,v,u]);let x=async a=>{l(a);try{let b=o?"/api/create-payment-intent/test":"/api/create-payment-intent",c=await (0,$.apiRequest)("POST",b,{productId:q.id,customerInfo:a}),d=await c.json();j(d.clientSecret),h("payment")}catch(c){let a="Failed to initialize checkout. Please try again.";if(c instanceof Response)try{let b=await c.json();b.message&&(a=b.message)}catch{}b({title:"Error",description:a,variant:"destructive"})}};if(r||!q)return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Z.SEOHead,{title:"Checkout | Economy Plumbing Services",description:"Complete your VIP membership purchase for Economy Plumbing Services in Austin & Marble Falls, Texas.",canonical:`https://www.plumbersthatcare.com/store/checkout/${a}`}),(0,c.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,c.jsx)(Q.default,{}),(0,c.jsx)("main",{className:"flex-1 flex items-center justify-center",children:(0,c.jsx)(V.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}),(0,c.jsx)(R.default,{})]})]});let y=q.features||[],A=`$${(q.price/100).toFixed(2)}`;return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(Z.SEOHead,{title:`${q.name} Checkout | Economy Plumbing`,description:`Purchase ${q.name} for ${A}. Priority service, discounts & peace of mind. Austin & Marble Falls. Call (512) 368-9159!`,canonical:`https://www.plumbersthatcare.com/store/checkout/${a}`}),(0,c.jsxs)("div",{className:"min-h-screen flex flex-col",children:[(0,c.jsx)(Q.default,{}),o&&(0,c.jsx)("div",{className:"bg-yellow-500 dark:bg-yellow-600 text-black dark:text-white py-3 px-4",children:(0,c.jsxs)("div",{className:"max-w-7xl mx-auto flex items-center justify-center gap-2",children:[(0,c.jsx)(W,{className:"w-5 h-5"}),(0,c.jsx)("p",{className:"font-semibold text-center",children:"TEST MODE - Use card 4242 4242 4242 4242 - No real charges will be made"})]})}),(0,c.jsx)("main",{className:"flex-1 py-16 lg:py-20",children:(0,c.jsxs)("div",{className:"max-w-6xl mx-auto px-4 sm:px-6 lg:px-8",children:[(0,c.jsxs)("div",{className:"text-center mb-12",children:[(0,c.jsx)("h1",{className:"text-4xl font-bold mb-4",children:"Complete Your Purchase"}),(0,c.jsx)("p",{className:"text-lg text-muted-foreground",children:"info"===g?"Step 1: Your Information":"Step 2: Payment"})]}),(0,c.jsxs)("div",{className:"grid lg:grid-cols-3 gap-8",children:[(0,c.jsxs)(S.Card,{className:"p-6 h-fit",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-4",children:"Order Summary"}),q.image&&(0,c.jsx)("div",{className:"mb-6 flex justify-center",children:(0,c.jsx)("img",{src:q.image,alt:q.name,className:"w-32 h-32 object-contain",loading:"eager"})}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsxs)("div",{children:[(0,c.jsx)("h3",{className:"text-xl font-semibold",children:q.name}),(0,c.jsx)("p",{className:"text-muted-foreground text-sm mt-1",children:q.description})]}),y.length>0&&(0,c.jsxs)("div",{children:[(0,c.jsx)("h4",{className:"font-semibold mb-2",children:"What's Included:"}),(0,c.jsx)("ul",{className:"space-y-2",children:y.map((a,b)=>(0,c.jsxs)("li",{className:"flex items-start gap-2 text-sm",children:[(0,c.jsx)(U.CheckCircle,{className:"w-4 h-4 text-primary flex-shrink-0 mt-0.5"}),(0,c.jsx)("span",{children:a})]},b))})]}),(0,c.jsx)("div",{className:"pt-4 border-t",children:(0,c.jsxs)("div",{className:"flex justify-between items-center text-lg font-bold",children:[(0,c.jsx)("span",{children:"Total:"}),(0,c.jsx)("span",{className:"text-2xl text-primary",children:A})]})})]})]}),(0,c.jsx)("div",{className:"lg:col-span-2",children:"info"===g?(0,c.jsxs)(S.Card,{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6",children:"Customer Information"}),(0,c.jsx)(aa.Form,{...u,children:(0,c.jsxs)("form",{onSubmit:u.handleSubmit(x),className:"space-y-6",children:[!t&&(0,c.jsx)(aa.FormField,{control:u.control,name:"customerType",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Customer Type"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsxs)(ac.RadioGroup,{onValueChange:a.onChange,defaultValue:a.value,className:"flex gap-4",children:[(0,c.jsxs)("div",{className:"flex items-center space-x-2 flex-1 border rounded-lg p-4 cursor-pointer hover-elevate",children:[(0,c.jsx)(ac.RadioGroupItem,{value:"residential",id:"residential","data-testid":"radio-residential"}),(0,c.jsxs)("label",{htmlFor:"residential",className:"flex items-center gap-2 cursor-pointer flex-1",children:[(0,c.jsx)(Y.Home,{className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Residential"})]})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2 flex-1 border rounded-lg p-4 cursor-pointer hover-elevate",children:[(0,c.jsx)(ac.RadioGroupItem,{value:"commercial",id:"commercial","data-testid":"radio-commercial"}),(0,c.jsxs)("label",{htmlFor:"commercial",className:"flex items-center gap-2 cursor-pointer flex-1",children:[(0,c.jsx)(X.Building2,{className:"w-5 h-5"}),(0,c.jsx)("span",{children:"Commercial"})]})]})]})}),(0,c.jsx)(aa.FormMessage,{})]})}),"residential"===v&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:"Location Information"}),(0,c.jsx)(aa.FormField,{control:u.control,name:"locationName",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Name"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"John Doe","data-testid":"input-location-name"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"street",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Street Address"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"123 Main St","data-testid":"input-street"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsx)(aa.FormField,{control:u.control,name:"city",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"City"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"Austin","data-testid":"input-city"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"state",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"State"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"TX","data-testid":"input-state"})}),(0,c.jsx)(aa.FormMessage,{})]})})]}),(0,c.jsx)(aa.FormField,{control:u.control,name:"zip",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"ZIP Code"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"78701","data-testid":"input-zip"})}),(0,c.jsx)(aa.FormMessage,{})]})})]}),(0,c.jsxs)("div",{className:"flex items-center space-x-2",children:[(0,c.jsx)(ad.Checkbox,{id:"sameAsBilling",checked:w,onCheckedChange:a=>u.setValue("sameAsBilling",a),"data-testid":"checkbox-same-as-billing"}),(0,c.jsx)("label",{htmlFor:"sameAsBilling",className:"text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70 cursor-pointer",children:"Billing address same as location"})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:"Billing Information"}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingName",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing Name"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"John Doe","data-testid":"input-billing-name"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingStreet",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing Street"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"123 Main St","data-testid":"input-billing-street"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsx)(aa.FormField,{control:u.control,name:"billingCity",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing City"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"Austin","data-testid":"input-billing-city"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingState",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing State"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"TX","data-testid":"input-billing-state"})}),(0,c.jsx)(aa.FormMessage,{})]})})]}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingZip",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing ZIP"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"78701","data-testid":"input-billing-zip"})}),(0,c.jsx)(aa.FormMessage,{})]})})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:"Contact Information"}),(0,c.jsx)(aa.FormField,{control:u.control,name:"phone",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Phone Number"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,type:"tel",placeholder:"(512) 555-1234","data-testid":"input-phone"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"email",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Email Address"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,type:"email",placeholder:"john@example.com","data-testid":"input-email"})}),(0,c.jsx)(aa.FormMessage,{})]})})]})]}),"commercial"===v&&(0,c.jsxs)(c.Fragment,{children:[(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:"Company Information"}),(0,c.jsx)(aa.FormField,{control:u.control,name:"companyName",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Company Name"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"ABC Company Inc","data-testid":"input-company-name"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"locationName",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Location Name"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"Downtown Office","data-testid":"input-location-name"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"contactPersonName",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Contact Person Name"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"Jane Smith","data-testid":"input-contact-person"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,c.jsx)(aa.FormField,{control:u.control,name:"locationPhone",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Location Phone"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,type:"tel",placeholder:"(512) 555-1234","data-testid":"input-location-phone"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"extension",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Extension (optional)"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"123","data-testid":"input-extension"})}),(0,c.jsx)(aa.FormMessage,{})]})})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:"Location Address"}),(0,c.jsx)(aa.FormField,{control:u.control,name:"street",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Street Address"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"123 Business Blvd","data-testid":"input-street"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,c.jsx)(aa.FormField,{control:u.control,name:"city",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"City"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"Austin","data-testid":"input-city"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"state",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"State"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"TX","data-testid":"input-state"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"zip",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"ZIP"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"78701","data-testid":"input-zip"})}),(0,c.jsx)(aa.FormMessage,{})]})})]})]}),(0,c.jsxs)("div",{className:"space-y-4",children:[(0,c.jsx)("h3",{className:"font-semibold text-lg",children:"Billing Information"}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingName",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing Contact Name"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"John Doe","data-testid":"input-billing-name"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingStreet",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing Street"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"456 Payment Ave","data-testid":"input-billing-street"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,c.jsx)(aa.FormField,{control:u.control,name:"billingCity",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing City"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"Austin","data-testid":"input-billing-city"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingState",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing State"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"TX","data-testid":"input-billing-state"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"billingZip",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing ZIP"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,placeholder:"78701","data-testid":"input-billing-zip"})}),(0,c.jsx)(aa.FormMessage,{})]})})]}),(0,c.jsx)(aa.FormField,{control:u.control,name:"phone",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Billing Phone"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,type:"tel",placeholder:"(512) 555-5678","data-testid":"input-phone"})}),(0,c.jsx)(aa.FormMessage,{})]})}),(0,c.jsx)(aa.FormField,{control:u.control,name:"email",render:({field:a})=>(0,c.jsxs)(aa.FormItem,{children:[(0,c.jsx)(aa.FormLabel,{children:"Email Address"}),(0,c.jsx)(aa.FormControl,{children:(0,c.jsx)(ab.Input,{...a,type:"email",placeholder:"billing@company.com","data-testid":"input-email"})}),(0,c.jsx)(aa.FormMessage,{})]})})]})]}),(0,c.jsx)(T.Button,{type:"submit",className:"w-full",size:"lg","data-testid":"button-continue-to-payment",children:"Continue to Payment"})]})})]}):(0,c.jsxs)(S.Card,{className:"p-6",children:[(0,c.jsx)("h2",{className:"text-2xl font-bold mb-6",children:o?"Test Payment Details":"Payment Details"}),o&&(0,c.jsxs)("div",{className:"mb-6 p-4 bg-blue-50 dark:bg-blue-950 rounded-lg border border-blue-200 dark:border-blue-800",children:[(0,c.jsx)("p",{className:"text-sm font-semibold text-blue-900 dark:text-blue-100 mb-2",children:"Use these test cards:"}),(0,c.jsxs)("ul",{className:"text-sm text-blue-800 dark:text-blue-200 space-y-1",children:[(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"Success:"})," 4242 4242 4242 4242"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"3D Secure:"})," 4000 0025 0000 3155"]}),(0,c.jsxs)("li",{children:[(0,c.jsx)("strong",{children:"Declined:"})," 4000 0000 0000 9995"]})]}),(0,c.jsx)("p",{className:"text-xs text-blue-700 dark:text-blue-300 mt-2",children:"Use any future expiry date, any CVC, any ZIP"})]}),i?(0,c.jsx)(z,{stripe:p,options:{clientSecret:i},children:(0,c.jsx)(ai,{product:q,isTestMode:o,customerInfo:k})}):(0,c.jsx)("div",{className:"flex items-center justify-center py-12",children:(0,c.jsx)(V.Loader2,{className:"w-8 h-8 animate-spin text-primary"})}),(0,c.jsxs)("div",{className:"mt-4 flex justify-between items-center",children:[(0,c.jsx)(T.Button,{variant:"ghost",onClick:()=>h("info"),"data-testid":"button-back-to-info",children:"â† Back to Information"}),(0,c.jsx)("p",{className:"text-xs text-muted-foreground",children:o?"Test mode - Powered by Stripe Test Environment":"Your payment is secure and encrypted with Stripe"})]})]})})]})]})}),(0,c.jsx)(R.default,{})]})]})}a.s(["default",()=>aj],433918)}];

//# sourceMappingURL=app_store_checkout_%5Bslug%5D_page_tsx_a51a710a._.js.map
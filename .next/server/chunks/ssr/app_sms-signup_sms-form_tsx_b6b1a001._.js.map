{"version":3,"sources":["turbopack:///[project]/app/sms-signup/sms-form.tsx"],"sourcesContent":["/**\n * SMS Signup Form Client Component\n */\n\n'use client';\n\nimport { useState } from 'react';\nimport { useForm } from 'react-hook-form';\nimport { zodResolver } from '@hookform/resolvers/zod';\nimport { z } from 'zod';\nimport { Button } from '@/components/ui/button';\nimport {\n  Form,\n  FormControl,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from '@/components/ui/form';\nimport { Input } from '@/components/ui/input';\nimport { useToast } from '@/hooks/use-toast';\nimport { apiRequest } from '@/lib/queryClient';\n\nconst smsSignupSchema = z.object({\n  phone: z.string().min(10, 'Please enter a valid phone number'),\n  firstName: z.string().min(1, 'First name is required'),\n  lastName: z.string().min(1, 'Last name is required'),\n});\n\ntype SMSSignupFormData = z.infer<typeof smsSignupSchema>;\n\nexport function SMSForm() {\n  const { toast } = useToast();\n  const [isSubmitting, setIsSubmitting] = useState(false);\n\n  const form = useForm<SMSSignupFormData>({\n    resolver: zodResolver(smsSignupSchema),\n    defaultValues: {\n      phone: '',\n      firstName: '',\n      lastName: '',\n    },\n  });\n\n  const onSubmit = async (data: SMSSignupFormData) => {\n    setIsSubmitting(true);\n    try {\n      await apiRequest('/api/sms/subscribe', {\n        method: 'POST',\n        body: JSON.stringify(data),\n      });\n\n      toast({\n        title: 'Successfully Subscribed!',\n        description: 'You\\'ll start receiving text alerts from Economy Plumbing.',\n      });\n\n      form.reset();\n    } catch (error) {\n      toast({\n        variant: 'destructive',\n        title: 'Subscription Failed',\n        description: 'Please try again or call us at (512) 368-9159.',\n      });\n    } finally {\n      setIsSubmitting(false);\n    }\n  };\n\n  return (\n    <Form {...form}>\n      <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-6\">\n        <FormField\n          control={form.control}\n          name=\"phone\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Phone Number</FormLabel>\n              <FormControl>\n                <Input \n                  {...field} \n                  type=\"tel\"\n                  data-testid=\"input-phone\"\n                  placeholder=\"(512) 555-1234\"\n                  className=\"text-lg\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"firstName\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>First Name</FormLabel>\n              <FormControl>\n                <Input \n                  {...field} \n                  data-testid=\"input-first-name\"\n                  placeholder=\"John\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <FormField\n          control={form.control}\n          name=\"lastName\"\n          render={({ field }) => (\n            <FormItem>\n              <FormLabel>Last Name</FormLabel>\n              <FormControl>\n                <Input \n                  {...field} \n                  data-testid=\"input-last-name\"\n                  placeholder=\"Doe\"\n                />\n              </FormControl>\n              <FormMessage />\n            </FormItem>\n          )}\n        />\n\n        <div className=\"bg-muted/30 p-4 rounded-lg text-sm\">\n          <p className=\"mb-2\">\n            By signing up, you agree to receive text messages from Economy Plumbing Services. \n            Message and data rates may apply. Message frequency varies.\n          </p>\n          <p>\n            Reply STOP to unsubscribe or HELP for help at any time.\n          </p>\n        </div>\n\n        <Button \n          type=\"submit\"\n          data-testid=\"button-submit-sms-signup\"\n          className=\"w-full text-lg\"\n          size=\"lg\"\n          disabled={isSubmitting}\n        >\n          {isSubmitting ? 'Signing Up...' : 'Sign Me Up'}\n        </Button>\n      </form>\n    </Form>\n  );\n}\n"],"names":[],"mappings":"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"}
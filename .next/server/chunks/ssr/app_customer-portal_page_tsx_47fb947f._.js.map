{"version":3,"sources":["turbopack:///[project]/app/customer-portal/page.tsx","turbopack:///[project]/src/components/ReferralModal.tsx","turbopack:///[project]/node_modules/@radix-ui/react-aspect-ratio/dist/index.mjs","turbopack:///[project]/src/components/ui/aspect-ratio.tsx","turbopack:///[project]/node_modules/lucide-react/src/icons/calendar-clock.ts","turbopack:///[project]/node_modules/lucide-react/src/icons/briefcase.ts"],"sourcesContent":["'use client';\n\nimport { useState, useEffect } from \"react\";\nimport { useQuery } from \"@tanstack/react-query\";\nimport { queryClient } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport { SEOHead } from \"@/components/SEO/SEOHead\";\nimport Header from \"@/components/Header\";\nimport Footer from \"@/components/Footer\";\nimport { Card, CardContent, CardDescription, CardHeader, CardTitle } from \"@/components/ui/card\";\nimport { Button } from \"@/components/ui/button\";\nimport { Input } from \"@/components/ui/input\";\nimport { Label } from \"@/components/ui/label\";\nimport { Badge } from \"@/components/ui/badge\";\nimport { Skeleton } from \"@/components/ui/skeleton\";\nimport { Dialog, DialogContent, DialogDescription, DialogFooter, DialogHeader, DialogTitle } from \"@/components/ui/dialog\";\nimport { Select, SelectContent, SelectItem, SelectTrigger, SelectValue } from \"@/components/ui/select\";\nimport { AspectRatio } from \"@/components/ui/aspect-ratio\";\nimport { openScheduler } from \"@/lib/scheduler\";\nimport { usePhoneConfig } from \"@/hooks/usePhoneConfig\";\nimport { ReferralModal } from \"@/components/ReferralModal\";\nimport { \n  User,\n  Users,\n  Calendar,\n  FileText,\n  DollarSign,\n  Clock,\n  CheckCircle,\n  AlertCircle,\n  Phone as PhoneIcon,\n  Phone,\n  Mail,\n  Hash,\n  Gift,\n  Heart,\n  Crown,\n  Star,\n  Shield,\n  Wrench,\n  MapPin,\n  Home,\n  MessageSquare,\n  Share2,\n  Copy,\n  Check,\n  TrendingUp,\n  CalendarClock,\n  Edit2,\n  Building2,\n  Briefcase\n} from \"lucide-react\";\nimport { SiFacebook, SiX } from \"react-icons/si\";\n\ninterface ServiceTitanContact {\n  id: number;\n  type: string;\n  value: string;\n  memo?: string;\n  phoneSettings?: {\n    phoneNumber: string;\n    doNotText: boolean;\n  };\n}\n\ninterface ServiceTitanCustomer {\n  id: number;\n  name: string;\n  email: string;\n  phoneNumber: string;\n  contacts?: ServiceTitanContact[];\n  address?: {\n    street: string;\n    city: string;\n    state: string;\n    zip: string;\n  };\n}\n\ninterface ServiceTitanAppointment {\n  id: number;\n  start: string;\n  end: string;\n  status: string;\n  arrivalWindowStart?: string;\n  arrivalWindowEnd?: string;\n  jobType: string;\n  jobNumber?: string;\n  summary?: string;\n  businessUnitName?: string;\n}\n\ninterface ServiceTitanInvoice {\n  id: number;\n  invoiceNumber: string;\n  total: number;\n  balance: number;\n  status: string;\n  createdOn: string;\n  dueDate?: string;\n  jobNumber?: string;\n  summary?: string;\n}\n\ninterface ServiceTitanMembership {\n  id: number;\n  membershipType: string;\n  status: string;\n  isExpired?: boolean;\n  startDate: string;\n  expirationDate?: string;\n  renewalDate?: string;\n  balance: number;\n  totalValue: number;\n  description: string;\n}\n\ninterface ServiceTitanEstimate {\n  id: number;\n  estimateNumber: string;\n  total: number;\n  status: string;\n  createdOn: string;\n  expiresOn?: string;\n  jobId?: number;\n  jobNumber?: string;\n  summary: string;\n  items?: any[];\n}\n\ninterface CustomerData {\n  customer: ServiceTitanCustomer;\n  appointments: ServiceTitanAppointment[];\n  invoices: ServiceTitanInvoice[];\n  memberships: ServiceTitanMembership[];\n  estimates: ServiceTitanEstimate[];\n}\n\ninterface CustomerAccount {\n  id: number;\n  name: string;\n  type: string;\n  address?: string;\n}\n\nexport default function CustomerPortal() {\n  const [lookupValue, setLookupValue] = useState(\"\");\n  const [lookupType, setLookupType] = useState<\"phone\" | \"email\">(\"email\");\n  const [customerId, setCustomerId] = useState<string | null>(null);\n  const [lookupError, setLookupError] = useState<string | null>(null);\n  const [lookupSuccess, setLookupSuccess] = useState<string | null>(null);\n  const [isSearching, setIsSearching] = useState(false);\n  const [copied, setCopied] = useState(false);\n  const [showReferralModal, setShowReferralModal] = useState(false);\n  \n  // Multi-account support\n  const [availableAccounts, setAvailableAccounts] = useState<CustomerAccount[]>([]);\n  const [availableCustomerIds, setAvailableCustomerIds] = useState<number[]>([]);\n  const [showAccountSelection, setShowAccountSelection] = useState(false);\n  \n  // Verification state\n  const [verificationStep, setVerificationStep] = useState<'lookup' | 'verify-code' | 'phone-lookup' | 'phone-email-found' | 'select-account' | 'authenticated'>('lookup');\n  const [verificationCode, setVerificationCode] = useState(\"\");\n  const [verificationMessage, setVerificationMessage] = useState(\"\");\n  const [isVerifying, setIsVerifying] = useState(false);\n  \n  // Phone-based login state\n  const [phoneLoginNumber, setPhoneLoginNumber] = useState(\"\");\n  const [maskedEmail, setMaskedEmail] = useState(\"\");\n  const [lookupToken, setLookupToken] = useState(\"\");\n  const [isLookingUp, setIsLookingUp] = useState(false);\n  const [isSendingLink, setIsSendingLink] = useState(false);\n  \n  // Reschedule state\n  const [rescheduleDialogOpen, setRescheduleDialogOpen] = useState(false);\n  const [appointmentToReschedule, setAppointmentToReschedule] = useState<ServiceTitanAppointment | null>(null);\n  const [newAppointmentDate, setNewAppointmentDate] = useState(\"\");\n  const [newAppointmentWindow, setNewAppointmentWindow] = useState(\"\");\n  const [isRescheduling, setIsRescheduling] = useState(false);\n  \n  // Edit contact info state\n  const [editContactsOpen, setEditContactsOpen] = useState(false);\n  const [editEmail, setEditEmail] = useState(\"\");\n  const [editPhone, setEditPhone] = useState(\"\");\n  const [isUpdatingContacts, setIsUpdatingContacts] = useState(false);\n  \n  // Delete contact state\n  const [deleteContactDialogOpen, setDeleteContactDialogOpen] = useState(false);\n  const [contactToDelete, setContactToDelete] = useState<{ id: number; type: string; value: string } | null>(null);\n  const [isDeletingContact, setIsDeletingContact] = useState(false);\n  \n  // Edit address state\n  const [editAddressOpen, setEditAddressOpen] = useState(false);\n  const [editStreet, setEditStreet] = useState(\"\");\n  const [editCity, setEditCity] = useState(\"\");\n  const [editState, setEditState] = useState(\"\");\n  const [editZip, setEditZip] = useState(\"\");\n  const [isUpdatingAddress, setIsUpdatingAddress] = useState(false);\n  const [locationId, setLocationId] = useState<number | null>(null);\n  \n  // Email Us modal state\n  const [emailUsOpen, setEmailUsOpen] = useState(false);\n  const [emailUsSubject, setEmailUsSubject] = useState(\"\");\n  const [emailUsMessage, setEmailUsMessage] = useState(\"\");\n  const [emailUsName, setEmailUsName] = useState(\"\");\n  const [emailUsEmail, setEmailUsEmail] = useState(\"\");\n  const [emailUsPhone, setEmailUsPhone] = useState(\"\");\n  const [isSendingEmail, setIsSendingEmail] = useState(false);\n  \n  // Review modal state\n  const [reviewModalOpen, setReviewModalOpen] = useState(false);\n  const [reviewRating, setReviewRating] = useState(0);\n  const [reviewFeedback, setReviewFeedback] = useState(\"\");\n  const [isSubmittingReview, setIsSubmittingReview] = useState(false);\n  \n  // Estimate detail modal state\n  const [estimateDetailOpen, setEstimateDetailOpen] = useState(false);\n  const [selectedEstimate, setSelectedEstimate] = useState<ServiceTitanEstimate | null>(null);\n  \n  const phoneConfig = usePhoneConfig();\n  const { toast } = useToast();\n\n  const { data: customerData, isLoading, error } = useQuery<CustomerData>({\n    queryKey: ['/api/servicetitan/customer', customerId],\n    enabled: !!customerId,\n  });\n\n  // Fetch referrals for this customer\n  const { data: referralsData } = useQuery<{ referrals: any[] }>({\n    queryKey: ['/api/referrals/customer', customerId],\n    enabled: !!customerId,\n  });\n\n  // Fetch referral code and link for this customer\n  const { data: referralLinkData } = useQuery<{\n    code: string;\n    url: string;\n    clicks: number;\n    conversions: number;\n  }>({\n    queryKey: ['/api/referrals/code', customerId],\n    enabled: !!customerId,\n  });\n\n  // Fetch arrival windows from ServiceTitan\n  const { data: arrivalWindowsData } = useQuery<{\n    windows: Array<{ start: string; end: string; label: string }>;\n  }>({\n    queryKey: ['/api/servicetitan/arrival-windows'],\n  });\n\n  // Fetch customer stats (service count and percentile ranking)\n  const { data: customerStats } = useQuery<{\n    serviceCount: number;\n    topPercentile: number;\n  }>({\n    queryKey: ['/api/portal/customer-stats', customerId],\n    enabled: !!customerId,\n  });\n\n  // Fetch ALL locations for this customer (multi-location support)\n  const { data: locationsData } = useQuery<{\n    locations: Array<{\n      id: number;\n      name?: string;\n      address: {\n        street: string;\n        city: string;\n        state: string;\n        zip: string;\n      };\n    }>;\n  }>({\n    queryKey: ['/api/portal/customer-locations', customerId],\n    enabled: !!customerId,\n  });\n\n  // Fetch email communication history\n  const { data: emailHistoryData } = useQuery<{\n    emails: Array<{\n      id: string;\n      subject: string | null;\n      campaignName: string | null;\n      sentAt: string;\n      openedAt: string | null;\n      clickedAt: string | null;\n      status: string | null;\n    }>;\n  }>({\n    queryKey: ['/api/portal/customer', customerId, 'emails'],\n    enabled: !!customerId,\n  });\n\n  const timeWindows = arrivalWindowsData?.windows || [];\n  const customerLocations = locationsData?.locations || [];\n\n  // Separate upcoming and completed appointments\n  const upcomingAppointments = customerData?.appointments.filter(apt => {\n    const isUpcoming = new Date(apt.start) > new Date();\n    const isNotCompleted = !['Done', 'Completed', 'Cancelled'].includes(apt.status);\n    return isUpcoming && isNotCompleted;\n  }) || [];\n\n  const completedAppointments = customerData?.appointments.filter(apt => {\n    const isPast = new Date(apt.start) <= new Date();\n    const isCompleted = ['Done', 'Completed', 'Cancelled'].includes(apt.status);\n    return isPast || isCompleted;\n  }) || [];\n\n  // Check for magic link token OR server session on page load\n  useEffect(() => {\n    const urlParams = new URLSearchParams(window.location.search);\n    const token = urlParams.get('token');\n    \n    if (token) {\n      // Auto-verify email magic link\n      handleMagicLinkVerification(token);\n    } else {\n      // Check if server has an active session\n      checkExistingSession();\n    }\n  }, []);\n  \n  const checkExistingSession = async () => {\n    try {\n      const response = await fetch('/api/portal/session');\n      if (response.ok) {\n        const data = await response.json();\n        if (data.customerId) {\n          console.log('[Portal] Found active session, auto-logging in...');\n          setCustomerId(data.customerId.toString());\n          setAvailableCustomerIds(data.availableCustomerIds || [data.customerId]);\n          setVerificationStep('authenticated');\n        }\n      }\n    } catch (error) {\n      console.log('[Portal] No active session found');\n    }\n  };\n\n  const handleMagicLinkVerification = async (token: string) => {\n    setIsVerifying(true);\n    try {\n      const response = await fetch('/api/portal/auth/verify-code', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          contactValue: '', // Token-based verification doesn't need contact value\n          code: token,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Invalid or expired magic link');\n      }\n\n      const result = await response.json();\n      \n      // Check if multiple accounts exist\n      if (result.customers && result.customers.length > 1) {\n        setAvailableAccounts(result.customers);\n        setAvailableCustomerIds(result.customers.map((c: any) => c.id));\n        setVerificationStep('select-account');\n        setLookupSuccess(\"Please select which account you'd like to access\");\n      } else if (result.customers && result.customers.length === 1) {\n        // Single account - auto-select it\n        const customerIdStr = result.customers[0].id.toString();\n        setCustomerId(customerIdStr);\n        setAvailableCustomerIds([result.customers[0].id]);\n        setVerificationStep('authenticated');\n        setLookupSuccess(\"Welcome to your customer portal!\");\n      } else if (result.customerId) {\n        // Backward compatibility for old response format\n        const customerIdStr = result.customerId.toString();\n        setCustomerId(customerIdStr);\n        setAvailableCustomerIds([result.customerId]);\n        setVerificationStep('authenticated');\n        setLookupSuccess(\"Welcome to your customer portal!\");\n      } else {\n        throw new Error('No customer data returned');\n      }\n      \n      setLookupError(null);\n      \n      // Session is now stored server-side via httpOnly cookie\n      \n      // Clean up URL\n      window.history.replaceState({}, document.title, window.location.pathname);\n    } catch (error: any) {\n      console.error('Magic link verification failed:', error);\n      \n      // Parse the error response\n      const errorMessage = error.message || \"The magic link is invalid or has expired. Please try again.\";\n      setLookupError(errorMessage);\n      setLookupSuccess(null);\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n\n  const handleLookup = async () => {\n    if (!lookupValue.trim()) return;\n    \n    setLookupError(null);\n    setLookupSuccess(null);\n    setIsSearching(true);\n\n    try {\n      // For phone/email, send verification code\n      const verificationType = lookupType === 'phone' ? 'sms' : 'email';\n      \n      const response = await fetch('/api/portal/auth/send-code', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          contactValue: lookupValue,\n          verificationType,\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Customer not found');\n      }\n\n      const result = await response.json();\n      \n      // Move to verification step\n      setVerificationStep('verify-code');\n      setVerificationMessage(result.message);\n      setLookupSuccess(result.message);\n    } catch (err: any) {\n      console.error('Customer lookup failed:', err);\n      setLookupError(err.message || 'We couldn\\'t find an account with that information. Please verify and try again.');\n    } finally {\n      setIsSearching(false);\n    }\n  };\n\n  const handleVerifyCode = async () => {\n    if (!verificationCode.trim()) return;\n    \n    setLookupError(null);\n    setLookupSuccess(null);\n    setIsVerifying(true);\n\n    try {\n      const response = await fetch('/api/portal/auth/verify-code', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          contactValue: lookupValue,\n          code: verificationCode,\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Invalid verification code');\n      }\n\n      const result = await response.json();\n      \n      // Check if multiple accounts exist\n      if (result.customers && result.customers.length > 1) {\n        setAvailableAccounts(result.customers);\n        setAvailableCustomerIds(result.customers.map((c: any) => c.id));\n        setVerificationStep('select-account');\n        setLookupSuccess(\"Please select which account you'd like to access\");\n      } else if (result.customers && result.customers.length === 1) {\n        // Single account - auto-select it\n        const customerIdStr = result.customers[0].id.toString();\n        setCustomerId(customerIdStr);\n        setAvailableCustomerIds([result.customers[0].id]);\n        setVerificationStep('authenticated');\n        setLookupSuccess(\"Welcome to your customer portal!\");\n        \n        // Session is now stored server-side via httpOnly cookie\n      } else if (result.customerId) {\n        // Backward compatibility for old response format\n        const customerIdStr = result.customerId.toString();\n        setCustomerId(customerIdStr);\n        setAvailableCustomerIds([result.customerId]);\n        setVerificationStep('authenticated');\n        setLookupSuccess(\"Welcome to your customer portal!\");\n        \n        // Session is now stored server-side via httpOnly cookie\n      } else {\n        throw new Error('No customer data returned');\n      }\n    } catch (err: any) {\n      console.error('Verification failed:', err);\n      setLookupError(err.message || 'Invalid verification code. Please try again.');\n    } finally {\n      setIsVerifying(false);\n    }\n  };\n\n  const handleSelectAccount = async (accountId: number) => {\n    try {\n      // If we're in the select-account step (initial auth), just set the customer ID\n      if (verificationStep === 'select-account') {\n        setCustomerId(accountId.toString());\n        setVerificationStep('authenticated');\n        setShowAccountSelection(false);\n      } else {\n        // We're switching accounts - call the API\n        const response = await fetch('/api/portal/switch-account', {\n          method: 'POST',\n          headers: { 'Content-Type': 'application/json' },\n          body: JSON.stringify({ customerId: accountId }),\n        });\n\n        if (!response.ok) {\n          throw new Error('Failed to switch account');\n        }\n\n        setCustomerId(accountId.toString());\n        setShowAccountSelection(false);\n        \n        // Invalidate and refetch customer data\n        queryClient.invalidateQueries({ queryKey: ['/api/servicetitan/customer'] });\n      }\n    } catch (error: any) {\n      console.error('Account switch error:', error);\n      setLookupError('Failed to switch account. Please try again.');\n    }\n  };\n\n  const handleSwitchAccount = async () => {\n    // If we have multiple accounts stored in availableCustomerIds, fetch their details\n    if (availableCustomerIds.length > 1) {\n      try {\n        // Fetch account details for all available customer IDs\n        const accountPromises = availableCustomerIds.map(async (id) => {\n          const response = await fetch(`/api/servicetitan/customer/${id}`);\n          const data = await response.json();\n          return {\n            id: data.customer.id,\n            name: data.customer.name,\n            type: 'Residential', // We don't have type in the customer data yet\n            address: data.customer.address ? \n              [data.customer.address.street, data.customer.address.city, data.customer.address.state].filter(Boolean).join(', ') : \n              undefined\n          };\n        });\n\n        const accounts = await Promise.all(accountPromises);\n        setAvailableAccounts(accounts);\n        setShowAccountSelection(true);\n      } catch (error) {\n        console.error('Failed to load account details:', error);\n        setLookupError('Failed to load account details');\n      }\n    }\n  };\n\n  const handleBackToLookup = () => {\n    setVerificationStep('lookup');\n    setVerificationCode(\"\");\n    setLookupError(null);\n    setVerificationMessage(\"\");\n    setPhoneLoginNumber(\"\");\n    setMaskedEmail(\"\");\n    setLookupToken(\"\");\n  };\n\n  // Phone-based login handlers\n  const handlePhoneLookup = async () => {\n    if (!phoneLoginNumber.trim()) return;\n    \n    setLookupError(null);\n    setLookupSuccess(null);\n    setIsLookingUp(true);\n\n    try {\n      const response = await fetch('/api/portal/auth/lookup-by-phone', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({ phone: phoneLoginNumber }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Account not found');\n      }\n\n      const result = await response.json();\n      \n      setMaskedEmail(result.maskedEmail);\n      setLookupToken(result.lookupToken);\n      setVerificationStep('phone-email-found');\n      setLookupSuccess(`We found your account! We'll send a login link to ${result.maskedEmail}`);\n    } catch (err: any) {\n      console.error('Phone lookup failed:', err);\n      setLookupError(err.message || 'We couldn\\'t find an account with that phone number.');\n    } finally {\n      setIsLookingUp(false);\n    }\n  };\n\n  const handleSendPhoneMagicLink = async () => {\n    setLookupError(null);\n    setLookupSuccess(null);\n    setIsSendingLink(true);\n\n    try {\n      const response = await fetch('/api/portal/auth/send-phone-magic-link', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          lookupToken,\n        }),\n      });\n      \n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({}));\n        throw new Error(errorData.error || 'Failed to send login link');\n      }\n\n      const result = await response.json();\n      \n      setLookupSuccess(result.message || `Magic link sent to ${maskedEmail}! Check your email.`);\n      toast({\n        title: \"Check your email!\",\n        description: `We've sent a login link to ${maskedEmail}`,\n      });\n    } catch (err: any) {\n      console.error('Send magic link failed:', err);\n      setLookupError(err.message || 'Failed to send login link. Please try again.');\n    } finally {\n      setIsSendingLink(false);\n    }\n  };\n\n  const handleOpenRescheduleDialog = (appointment: ServiceTitanAppointment) => {\n    setAppointmentToReschedule(appointment);\n    \n    // Pre-fill with current appointment date\n    const appointmentDate = new Date(appointment.start);\n    const dateStr = appointmentDate.toISOString().split('T')[0];\n    setNewAppointmentDate(dateStr);\n    \n    // Pre-select time window based on current appointment's arrival window\n    if (appointment.arrivalWindowStart && appointment.arrivalWindowEnd && timeWindows.length > 0) {\n      const startTime = new Date(appointment.arrivalWindowStart);\n      const endTime = new Date(appointment.arrivalWindowEnd);\n      \n      const startStr = `${startTime.getUTCHours().toString().padStart(2, '0')}:${startTime.getUTCMinutes().toString().padStart(2, '0')}`;\n      const endStr = `${endTime.getUTCHours().toString().padStart(2, '0')}:${endTime.getUTCMinutes().toString().padStart(2, '0')}`;\n      \n      // Find matching window\n      const matchingWindow = timeWindows.find(w => w.start === startStr && w.end === endStr);\n      if (matchingWindow) {\n        setNewAppointmentWindow(`${matchingWindow.start}-${matchingWindow.end}`);\n      } else if (timeWindows.length > 0) {\n        // Default to first window if no match\n        setNewAppointmentWindow(`${timeWindows[0].start}-${timeWindows[0].end}`);\n      }\n    } else if (timeWindows.length > 0) {\n      // Default to first window\n      setNewAppointmentWindow(`${timeWindows[0].start}-${timeWindows[0].end}`);\n    }\n    \n    setRescheduleDialogOpen(true);\n  };\n\n  const handleRescheduleAppointment = async () => {\n    if (!appointmentToReschedule || !newAppointmentDate || !newAppointmentWindow || !customerId) {\n      return;\n    }\n\n    setIsRescheduling(true);\n\n    try {\n      // Parse the selected window (format: \"HH:MM-HH:MM\")\n      const [startTime, endTime] = newAppointmentWindow.split('-');\n      \n      // Find the matching window to get the label\n      const selectedWindow = timeWindows.find(w => `${w.start}-${w.end}` === newAppointmentWindow);\n      \n      if (!selectedWindow) {\n        throw new Error(\"Invalid time window selected\");\n      }\n\n      // Combine date and window times into ISO strings\n      const newStartDateTime = new Date(`${newAppointmentDate}T${startTime}:00`);\n      const newEndDateTime = new Date(`${newAppointmentDate}T${endTime}:00`);\n\n      const response = await fetch('/api/portal/reschedule-appointment', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          appointmentId: appointmentToReschedule.id,\n          newStart: newStartDateTime.toISOString(),\n          newEnd: newEndDateTime.toISOString(),\n          customerId: customerId,\n        }),\n      });\n\n      const result = await response.json();\n\n      if (!response.ok) {\n        throw new Error(result.error || 'Failed to reschedule appointment');\n      }\n\n      // Refresh customer data\n      window.location.reload();\n      \n      setRescheduleDialogOpen(false);\n    } catch (error: any) {\n      console.error('Reschedule error:', error);\n    } finally {\n      setIsRescheduling(false);\n    }\n  };\n\n  const formatCurrency = (amount: number) => {\n    return new Intl.NumberFormat('en-US', {\n      style: 'currency',\n      currency: 'USD',\n    }).format(amount);\n  };\n\n  const formatDate = (dateString: string) => {\n    return new Date(dateString).toLocaleDateString('en-US', {\n      month: 'short',\n      day: 'numeric',\n      year: 'numeric',\n    });\n  };\n\n  const copyReferralLink = async () => {\n    if (!referralLinkData?.url) return;\n    \n    try {\n      await navigator.clipboard.writeText(referralLinkData.url);\n      setCopied(true);\n      setTimeout(() => setCopied(false), 2000);\n    } catch (err) {\n      console.error('Copy failed:', err);\n    }\n  };\n\n  const shareViaFacebook = () => {\n    if (!referralLinkData?.url) return;\n    const url = encodeURIComponent(referralLinkData.url);\n    const text = encodeURIComponent(\"Check out Economy Plumbing Services! They're the best plumbers in Austin. Use my referral link to get started:\");\n    window.open(`https://www.facebook.com/sharer/sharer.php?u=${url}&quote=${text}`, '_blank');\n  };\n\n  const shareViaX = () => {\n    if (!referralLinkData?.url) return;\n    const url = encodeURIComponent(referralLinkData.url);\n    const text = encodeURIComponent(\"Check out Economy Plumbing Services! Best plumbers in Austin ðŸ’§\");\n    window.open(`https://twitter.com/intent/tweet?url=${url}&text=${text}`, '_blank');\n  };\n\n  const shareViaEmail = () => {\n    if (!referralLinkData?.url) return;\n    const subject = encodeURIComponent(\"I recommend Economy Plumbing Services\");\n    const body = encodeURIComponent(`Hi!\\n\\nI wanted to share Economy Plumbing Services with you. They've been great for all my plumbing needs in the Austin area!\\n\\nCheck them out here: ${referralLinkData.url}\\n\\nBest regards`);\n    window.location.href = `mailto:?subject=${subject}&body=${body}`;\n  };\n\n  const shareViaSMS = () => {\n    if (!referralLinkData?.url) return;\n    const text = encodeURIComponent(`Check out Economy Plumbing Services - best plumbers in Austin! ${referralLinkData.url}`);\n    window.location.href = `sms:?&body=${text}`;\n  };\n\n  const handleRequestPDF = async (\n    type: 'invoice' | 'estimate', \n    number: string, \n    id: number, \n    customerInfo: { customerId: number; customerName: string; customerEmail: string }\n  ) => {\n    try {\n      const response = await fetch('/api/portal/request-pdf', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          type,\n          number,\n          id,\n          customerId: customerInfo.customerId,\n          customerName: customerInfo.customerName,\n          customerEmail: customerInfo.customerEmail,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to send request');\n      }\n\n      toast({\n        title: \"PDF Request Received\",\n        description: `We'll email the ${type} PDF to ${customerInfo.customerEmail} by the next business day.`,\n      });\n    } catch (error) {\n      console.error('PDF request failed:', error);\n      toast({\n        title: \"Request Failed\",\n        description: `Unable to send the PDF request. Please try again or contact support.`,\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  // Fetch customer location when needed\n  const fetchCustomerLocation = async () => {\n    if (!customerId) return;\n    \n    try {\n      const response = await fetch(`/api/portal/customer-location/${customerId}`);\n      if (!response.ok) throw new Error('Failed to fetch location');\n      \n      const data = await response.json();\n      if (data.location) {\n        setLocationId(data.location.id);\n        setEditStreet(data.location.address?.street || '');\n        setEditCity(data.location.address?.city || '');\n        setEditState(data.location.address?.state || '');\n        setEditZip(data.location.address?.zip || '');\n      }\n    } catch (error) {\n      console.error('Error fetching location:', error);\n    }\n  };\n\n  const handleEditContacts = () => {\n    if (!customerData) return;\n    setEditEmail(customerData.customer.email || '');\n    setEditPhone(customerData.customer.phoneNumber || '');\n    setEditContactsOpen(true);\n  };\n\n  const handleUpdateContacts = async () => {\n    if (!customerId) return;\n    \n    setIsUpdatingContacts(true);\n    try {\n      const response = await fetch('/api/portal/update-contacts', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          customerId: parseInt(customerId),\n          email: editEmail,\n          phone: editPhone,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update contacts');\n      }\n\n      setEditContactsOpen(false);\n      window.location.reload();\n    } catch (error: any) {\n      console.error('Update contacts error:', error);\n    } finally {\n      setIsUpdatingContacts(false);\n    }\n  };\n\n  const handleLogout = async () => {\n    try {\n      const response = await fetch('/api/portal/logout', {\n        method: 'POST',\n        headers: { 'Content-Type': 'application/json' },\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to logout');\n      }\n\n      // Clear state and redirect to portal home\n      setCustomerId(null);\n      setAvailableCustomerIds([]);\n      setVerificationStep('lookup');\n      setLookupType('phone');\n      setLookupValue('');\n      setVerificationCode('');\n      \n      // Show success message\n      toast({\n        title: \"Signed out\",\n        description: \"You have been successfully signed out.\",\n      });\n    } catch (error) {\n      console.error('Logout error:', error);\n      toast({\n        title: \"Error\",\n        description: \"Failed to sign out. Please try again.\",\n        variant: \"destructive\",\n      });\n    }\n  };\n\n  const handleDeleteContact = async () => {\n    if (!customerId || !contactToDelete) return;\n    \n    setIsDeletingContact(true);\n    try {\n      const response = await fetch('/api/portal/delete-contact', {\n        method: 'DELETE',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          customerId: parseInt(customerId),\n          contactId: contactToDelete.id,\n        }),\n      });\n\n      if (!response.ok) {\n        const errorData = await response.json().catch(() => ({ error: 'Failed to delete contact' }));\n        throw new Error(errorData.error || 'Failed to delete contact');\n      }\n\n      // Show success toast\n      toast({\n        title: \"Contact deleted\",\n        description: `${contactToDelete.type} successfully removed from your account.`,\n      });\n\n      // Close dialog and reset state\n      setDeleteContactDialogOpen(false);\n      setContactToDelete(null);\n\n      // Invalidate customer data query to refresh the UI\n      queryClient.invalidateQueries({ queryKey: ['/api/servicetitan/customer', customerId] });\n    } catch (error: any) {\n      console.error('Delete contact error:', error);\n      \n      // Show error toast\n      toast({\n        title: \"Error deleting contact\",\n        description: error.message || \"Failed to delete contact. Please try again.\",\n        variant: \"destructive\",\n      });\n    } finally {\n      setIsDeletingContact(false);\n    }\n  };\n\n  const handleEditAddress = async () => {\n    if (!customerData) return;\n    \n    // Fetch location first\n    await fetchCustomerLocation();\n    \n    // Pre-fill with current address if available\n    if (customerData.customer.address) {\n      setEditStreet(customerData.customer.address.street || '');\n      setEditCity(customerData.customer.address.city || '');\n      setEditState(customerData.customer.address.state || '');\n      setEditZip(customerData.customer.address.zip || '');\n    }\n    \n    setEditAddressOpen(true);\n  };\n\n  const handleUpdateAddress = async () => {\n    if (!customerId || !locationId) {\n      return;\n    }\n    \n    if (!editStreet || !editCity || !editState || !editZip) {\n      return;\n    }\n    \n    setIsUpdatingAddress(true);\n    try {\n      const response = await fetch('/api/portal/update-address', {\n        method: 'PUT',\n        headers: { 'Content-Type': 'application/json' },\n        body: JSON.stringify({\n          customerId: parseInt(customerId),\n          locationId,\n          street: editStreet,\n          city: editCity,\n          state: editState,\n          zip: editZip,\n        }),\n      });\n\n      if (!response.ok) {\n        throw new Error('Failed to update address');\n      }\n\n      setEditAddressOpen(false);\n      window.location.reload();\n    } catch (error: any) {\n      console.error('Update address error:', error);\n    } finally {\n      setIsUpdatingAddress(false);\n    }\n  };\n\n  const formatTime = (dateString: string) => {\n    return new Date(dateString).toLocaleTimeString('en-US', {\n      hour: 'numeric',\n      minute: '2-digit',\n    });\n  };\n\n  const getStatusBadge = (status: string) => {\n    const statusLower = status.toLowerCase();\n    if (statusLower.includes('scheduled') || statusLower.includes('pending')) {\n      return <Badge variant=\"secondary\" data-testid={`badge-status-${status}`}><Clock className=\"w-3 h-3 mr-1\" />{status}</Badge>;\n    }\n    if (statusLower.includes('completed') || statusLower.includes('paid')) {\n      return <Badge data-testid={`badge-status-${status}`}><CheckCircle className=\"w-3 h-3 mr-1\" />{status}</Badge>;\n    }\n    if (statusLower.includes('cancelled') || statusLower.includes('overdue')) {\n      return <Badge variant=\"destructive\" data-testid={`badge-status-${status}`}><AlertCircle className=\"w-3 h-3 mr-1\" />{status}</Badge>;\n    }\n    return <Badge variant=\"outline\" data-testid={`badge-status-${status}`}>{status}</Badge>;\n  };\n\n  const getExpirationBadge = (estimate: any) => {\n    if (!estimate.expirationStatus) return null;\n    \n    if (estimate.expirationStatus === 'expired') {\n      return (\n        <Badge variant=\"destructive\" className=\"text-xs\">\n          <AlertCircle className=\"w-3 h-3 mr-1\" />\n          Expired\n        </Badge>\n      );\n    }\n    if (estimate.expirationStatus === 'expiring_soon') {\n      return (\n        <Badge variant=\"secondary\" className=\"text-xs bg-yellow-500/10 text-yellow-600 dark:text-yellow-400\">\n          <Clock className=\"w-3 h-3 mr-1\" />\n          Expires in {estimate.daysUntilExpiration} days\n        </Badge>\n      );\n    }\n    // Valid - show days remaining if less than 30\n    if (estimate.daysUntilExpiration < 30) {\n      return (\n        <Badge variant=\"outline\" className=\"text-xs\">\n          Valid for {estimate.daysUntilExpiration} days\n        </Badge>\n      );\n    }\n    return null;\n  };\n\n  return (\n    <>\n      <SEOHead\n        title=\"Customer Portal - Economy Plumbing Services\"\n        description=\"Access your service history, appointments, and invoices. View your Economy Plumbing Services account information and upcoming appointments.\"\n      />\n      <Header \n        isPortalAuthenticated={verificationStep === 'authenticated'} \n        onPortalLogout={handleLogout} \n      />\n\n      <main className=\"min-h-screen py-12 px-4\">\n        <div className=\"max-w-6xl mx-auto\">\n          <div className=\"text-center mb-12\">\n            <h1 className=\"text-4xl md:text-5xl font-bold mb-4\">\n              {verificationStep === 'authenticated' && customerData ? (() => {\n                const hour = new Date().getHours();\n                const day = new Date().getDay();\n                const month = new Date().getMonth();\n                const serviceCount = customerStats?.serviceCount || 0;\n                const firstName = customerData.customer.name?.split(' ')[0] || 'there';\n                \n                // Build a pool of possible greetings\n                const greetings: string[] = [];\n                \n                // Time-based greetings\n                if (hour < 12) {\n                  greetings.push(`Good morning, ${firstName}!`);\n                  greetings.push(`Rise and shine, ${firstName}!`);\n                  greetings.push(`Morning, ${firstName}! Ready to tackle the day?`);\n                } else if (hour < 17) {\n                  greetings.push(`Good afternoon, ${firstName}!`);\n                  greetings.push(`Hey ${firstName}, hope your day is going well!`);\n                  greetings.push(`Afternoon, ${firstName}!`);\n                } else {\n                  greetings.push(`Good evening, ${firstName}!`);\n                  greetings.push(`Evening, ${firstName}!`);\n                  greetings.push(`Hey ${firstName}, winding down for the day?`);\n                }\n                \n                // Day-specific greetings\n                if (day === 1) {\n                  greetings.push(`Happy Monday, ${firstName}!`);\n                  greetings.push(`Monday motivation, ${firstName}!`);\n                } else if (day === 5) {\n                  greetings.push(`TGIF, ${firstName}!`);\n                  greetings.push(`Happy Friday, ${firstName}!`);\n                } else if (day === 0 || day === 6) {\n                  greetings.push(`Happy weekend, ${firstName}!`);\n                  greetings.push(`Enjoying your weekend, ${firstName}?`);\n                }\n                \n                // Loyalty-based greetings\n                if (serviceCount > 20) {\n                  greetings.push(`Welcome back, ${firstName}! You're practically family!`);\n                  greetings.push(`Hey ${firstName}, our VIP customer!`);\n                  greetings.push(`${firstName}, always great to see you!`);\n                } else if (serviceCount > 10) {\n                  greetings.push(`Welcome back, ${firstName}! Thanks for your loyalty!`);\n                  greetings.push(`Great to see you again, ${firstName}!`);\n                } else if (serviceCount > 5) {\n                  greetings.push(`Welcome back, ${firstName}!`);\n                  greetings.push(`Good to see you, ${firstName}!`);\n                } else if (serviceCount === 0) {\n                  greetings.push(`Welcome, ${firstName}! Excited to serve you!`);\n                  greetings.push(`Hello ${firstName}! Let's get started!`);\n                } else {\n                  greetings.push(`Welcome back, ${firstName}!`);\n                  greetings.push(`Hello again, ${firstName}!`);\n                }\n                \n                // Seasonal greetings\n                if (month === 11) {\n                  greetings.push(`Happy holidays, ${firstName}!`);\n                  greetings.push(`Season's greetings, ${firstName}!`);\n                } else if (month === 0) {\n                  greetings.push(`Happy New Year, ${firstName}!`);\n                } else if (month === 6 || month === 7) {\n                  greetings.push(`Enjoying the summer, ${firstName}?`);\n                  greetings.push(`Stay cool, ${firstName}!`);\n                } else if (month === 2 || month === 3) {\n                  greetings.push(`Happy spring, ${firstName}!`);\n                } else if (month === 9 || month === 10) {\n                  greetings.push(`Happy fall, ${firstName}!`);\n                }\n                \n                // General encouraging greetings\n                greetings.push(`Hey ${firstName}! How can we help today?`);\n                greetings.push(`${firstName}, great to have you here!`);\n                greetings.push(`Welcome, ${firstName}!`);\n                greetings.push(`Hello ${firstName}! What brings you here today?`);\n                greetings.push(`${firstName}, we're here to help!`);\n                \n                // Pick a random greeting from the pool\n                const randomIndex = Math.floor(Math.random() * greetings.length);\n                return greetings[randomIndex];\n              })() : 'Customer Portal'}\n            </h1>\n            <p className=\"text-xl text-muted-foreground max-w-2xl mx-auto\">\n              {verificationStep === 'authenticated' ? \n                'Your service history, appointments, and account details' :\n                'Access your service history, appointments, and invoices'\n              }\n            </p>\n          </div>\n\n          {!customerId ? (\n            verificationStep === 'lookup' ? (\n              <Card className=\"max-w-md mx-auto\">\n                <CardHeader>\n                  <CardTitle>Find Your Account</CardTitle>\n                  <CardDescription>\n                    Enter your email address to access your account\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"lookup-input\">\n                      Email Address\n                    </Label>\n                    <Input\n                      id=\"lookup-input\"\n                      type=\"email\"\n                      placeholder=\"your@email.com\"\n                      value={lookupValue}\n                      onChange={(e) => setLookupValue(e.target.value)}\n                      onKeyDown={(e) => e.key === 'Enter' && handleLookup()}\n                      data-testid=\"input-lookup\"\n                    />\n                  </div>\n\n                  <Button\n                    onClick={handleLookup}\n                    className=\"w-full\"\n                    disabled={!lookupValue.trim() || isSearching}\n                    data-testid=\"button-lookup-submit\"\n                  >\n                    {isSearching ? 'Searching...' : 'Access My Account'}\n                  </Button>\n\n                  <div className=\"relative\">\n                    <div className=\"absolute inset-0 flex items-center\">\n                      <span className=\"w-full border-t\" />\n                    </div>\n                    <div className=\"relative flex justify-center text-xs uppercase\">\n                      <span className=\"bg-background px-2 text-muted-foreground\">\n                        Or\n                      </span>\n                    </div>\n                  </div>\n\n                  <Button\n                    variant=\"outline\"\n                    onClick={() => setVerificationStep('phone-lookup')}\n                    className=\"w-full\"\n                    data-testid=\"button-phone-login\"\n                  >\n                    <Phone className=\"w-4 h-4 mr-2\" />\n                    Login with Phone Number\n                  </Button>\n\n                  {lookupSuccess && (\n                    <div className=\"bg-green-500/10 border border-green-500/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-500 flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-green-700 dark:text-green-400\">\n                          <p className=\"font-medium mb-1\">Success</p>\n                          <p>{lookupSuccess}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {lookupError && (\n                    <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-destructive\">\n                          <p className=\"font-medium mb-1\">Error</p>\n                          <p>{lookupError}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            ) : verificationStep === 'phone-lookup' ? (\n              <Card className=\"max-w-md mx-auto\">\n                <CardHeader>\n                  <CardTitle>Login with Phone Number</CardTitle>\n                  <CardDescription>\n                    Enter your phone number and we'll send a login link to your email\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"phone-lookup-input\">\n                      Phone Number\n                    </Label>\n                    <Input\n                      id=\"phone-lookup-input\"\n                      type=\"tel\"\n                      placeholder=\"(512) 555-1234\"\n                      value={phoneLoginNumber}\n                      onChange={(e) => setPhoneLoginNumber(e.target.value)}\n                      onKeyDown={(e) => e.key === 'Enter' && handlePhoneLookup()}\n                      data-testid=\"input-phone-lookup\"\n                    />\n                  </div>\n\n                  <Button\n                    onClick={handlePhoneLookup}\n                    className=\"w-full\"\n                    disabled={!phoneLoginNumber.trim() || isLookingUp}\n                    data-testid=\"button-phone-lookup-submit\"\n                  >\n                    {isLookingUp ? 'Looking up...' : 'Find My Account'}\n                  </Button>\n\n                  <Button\n                    variant=\"ghost\"\n                    onClick={handleBackToLookup}\n                    className=\"w-full\"\n                    data-testid=\"button-back-to-email\"\n                  >\n                    Back to Email Login\n                  </Button>\n\n                  {lookupSuccess && (\n                    <div className=\"bg-green-500/10 border border-green-500/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-500 flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-green-700 dark:text-green-400\">\n                          <p className=\"font-medium mb-1\">Success</p>\n                          <p>{lookupSuccess}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {lookupError && (\n                    <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-destructive\">\n                          <p className=\"font-medium mb-1\">Error</p>\n                          <p>{lookupError}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            ) : verificationStep === 'phone-email-found' ? (\n              <Card className=\"max-w-md mx-auto\">\n                <CardHeader>\n                  <CardTitle>Account Found!</CardTitle>\n                  <CardDescription>\n                    We'll send a login link to your email address\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"bg-primary/10 border border-primary/20 rounded-lg p-4\">\n                    <div className=\"flex items-start gap-3\">\n                      <Mail className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                      <div>\n                        <p className=\"font-medium mb-1\">Email Address</p>\n                        <p className=\"text-sm text-muted-foreground\">\n                          {maskedEmail}\n                        </p>\n                        <p className=\"text-xs text-muted-foreground mt-2\">\n                          For security, we've hidden part of your email address\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n\n                  <Button\n                    onClick={handleSendPhoneMagicLink}\n                    className=\"w-full\"\n                    disabled={isSendingLink}\n                    data-testid=\"button-send-phone-magic-link\"\n                  >\n                    {isSendingLink ? 'Sending...' : 'Send Login Link'}\n                  </Button>\n\n                  <Button\n                    variant=\"ghost\"\n                    onClick={handleBackToLookup}\n                    className=\"w-full\"\n                    data-testid=\"button-back-from-phone\"\n                  >\n                    Use Different Method\n                  </Button>\n\n                  {lookupSuccess && (\n                    <div className=\"bg-green-500/10 border border-green-500/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-500 flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-green-700 dark:text-green-400\">\n                          <p className=\"font-medium mb-1\">Success</p>\n                          <p>{lookupSuccess}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {lookupError && (\n                    <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-destructive\">\n                          <p className=\"font-medium mb-1\">Error</p>\n                          <p>{lookupError}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            ) : verificationStep === 'verify-code' ? (\n              <Card className=\"max-w-md mx-auto\">\n                <CardHeader>\n                  <CardTitle>Enter Verification Code</CardTitle>\n                  <CardDescription>\n                    {verificationMessage}\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-4\">\n                  <div className=\"space-y-2\">\n                    <Label htmlFor=\"verification-code\">\n                      {lookupType === 'phone' ? '6-Digit Code' : 'Check your email for the access link'}\n                    </Label>\n                    {lookupType === 'phone' && (\n                      <>\n                        <Input\n                          id=\"verification-code\"\n                          type=\"text\"\n                          placeholder=\"123456\"\n                          value={verificationCode}\n                          onChange={(e) => setVerificationCode(e.target.value.replace(/\\D/g, '').slice(0, 6))}\n                          onKeyDown={(e) => e.key === 'Enter' && handleVerifyCode()}\n                          maxLength={6}\n                          data-testid=\"input-verification-code\"\n                        />\n                        <p className=\"text-xs text-muted-foreground\">\n                          Enter the 6-digit code sent to {lookupValue}\n                        </p>\n                      </>\n                    )}\n                    {lookupType === 'email' && (\n                      <div className=\"bg-primary/10 border border-primary/20 rounded-lg p-4\">\n                        <div className=\"flex items-start gap-3\">\n                          <Mail className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                          <div>\n                            <p className=\"font-medium mb-1\">Check your email</p>\n                            <p className=\"text-sm text-muted-foreground\">\n                              We sent a secure access link to {lookupValue}. Click the link in the email to access your portal.\n                            </p>\n                          </div>\n                        </div>\n                      </div>\n                    )}\n                  </div>\n\n                  {lookupType === 'phone' && (\n                    <Button\n                      onClick={handleVerifyCode}\n                      className=\"w-full\"\n                      disabled={verificationCode.length !== 6 || isVerifying}\n                      data-testid=\"button-verify-code\"\n                    >\n                      {isVerifying ? 'Verifying...' : 'Verify Code'}\n                    </Button>\n                  )}\n\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleBackToLookup}\n                    className=\"w-full\"\n                    data-testid=\"button-back-to-lookup\"\n                  >\n                    Try Another Method\n                  </Button>\n\n                  {lookupSuccess && (\n                    <div className=\"bg-green-500/10 border border-green-500/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <CheckCircle className=\"w-5 h-5 text-green-600 dark:text-green-500 flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-green-700 dark:text-green-400\">\n                          <p className=\"font-medium mb-1\">Success</p>\n                          <p>{lookupSuccess}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n\n                  {lookupError && (\n                    <div className=\"bg-destructive/10 border border-destructive/20 rounded-lg p-4 text-sm\">\n                      <div className=\"flex items-start gap-3\">\n                        <AlertCircle className=\"w-5 h-5 text-destructive flex-shrink-0 mt-0.5\" />\n                        <div className=\"text-destructive\">\n                          <p className=\"font-medium mb-1\">Error</p>\n                          <p>{lookupError}</p>\n                        </div>\n                      </div>\n                    </div>\n                  )}\n                </CardContent>\n              </Card>\n            ) : verificationStep === 'select-account' ? (\n              <Card className=\"max-w-2xl mx-auto\">\n                <CardHeader>\n                  <CardTitle>Select Your Account</CardTitle>\n                  <CardDescription>\n                    We found multiple accounts associated with your contact information. Please select which account you'd like to access.\n                  </CardDescription>\n                </CardHeader>\n                <CardContent className=\"space-y-3\">\n                  {availableAccounts.map((account) => (\n                    <Card\n                      key={account.id}\n                      className=\"hover-elevate active-elevate-2 cursor-pointer\"\n                      onClick={() => handleSelectAccount(account.id)}\n                      data-testid={`account-option-${account.id}`}\n                    >\n                      <CardContent className=\"p-4\">\n                        <div className=\"flex items-start gap-3\">\n                          {account.type === 'Commercial' ? (\n                            <Users className=\"w-6 h-6 text-primary flex-shrink-0 mt-0.5\" />\n                          ) : (\n                            <Home className=\"w-6 h-6 text-primary flex-shrink-0 mt-0.5\" />\n                          )}\n                          <div className=\"flex-1\">\n                            <div className=\"flex items-center gap-2 mb-1\">\n                              <p className=\"font-semibold\">{account.name}</p>\n                              <Badge variant=\"secondary\" className=\"text-xs\">\n                                {account.type}\n                              </Badge>\n                            </div>\n                            {account.address && (\n                              <p className=\"text-sm text-muted-foreground flex items-start gap-1\">\n                                <MapPin className=\"w-3 h-3 flex-shrink-0 mt-0.5\" />\n                                {account.address}\n                              </p>\n                            )}\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ))}\n\n                  <Button\n                    variant=\"outline\"\n                    onClick={handleBackToLookup}\n                    className=\"w-full mt-4\"\n                    data-testid=\"button-back-to-lookup-from-select\"\n                  >\n                    Back\n                  </Button>\n                </CardContent>\n              </Card>\n            ) : null\n          ) : (\n            <div className=\"space-y-6\">\n              {isLoading ? (\n                <div className=\"relative\">\n                  {/* Full-screen loading overlay */}\n                  <div className=\"fixed inset-0 bg-background/80 backdrop-blur-sm z-50 flex items-center justify-center\">\n                    <div className=\"text-center space-y-4 p-8 max-w-md\">\n                      <div className=\"animate-spin rounded-full h-16 w-16 border-4 border-primary border-t-transparent mx-auto\"></div>\n                      <div className=\"space-y-2\">\n                        <h3 className=\"text-xl font-semibold\">Loading Your Account</h3>\n                        <p className=\"text-muted-foreground\">\n                          We're fetching your service history, appointments, and account details...\n                        </p>\n                      </div>\n                    </div>\n                  </div>\n                  \n                  {/* Background skeleton structure for visual reference */}\n                  <div className=\"space-y-6 opacity-30 pointer-events-none\">\n                    <Card>\n                      <CardHeader className=\"flex flex-row items-center justify-between\">\n                        <div className=\"flex items-center gap-3\">\n                          <Skeleton className=\"h-8 w-8 rounded-full\" />\n                          <div>\n                            <Skeleton className=\"h-6 w-32 mb-2\" />\n                            <Skeleton className=\"h-4 w-24\" />\n                          </div>\n                        </div>\n                        <div className=\"flex gap-2\">\n                          <Skeleton className=\"h-10 w-32\" />\n                          <Skeleton className=\"h-10 w-28\" />\n                          <Skeleton className=\"h-10 w-24\" />\n                        </div>\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"space-y-4\">\n                          <Skeleton className=\"h-4 w-32\" />\n                          <div className=\"grid md:grid-cols-2 gap-4\">\n                            <Skeleton className=\"h-20\" />\n                            <Skeleton className=\"h-20\" />\n                          </div>\n                          <Skeleton className=\"h-4 w-32 mt-6\" />\n                          <div className=\"space-y-2\">\n                            <Skeleton className=\"h-20\" />\n                            <Skeleton className=\"h-20\" />\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                    \n                    <div className=\"grid md:grid-cols-2 gap-6\">\n                      <Card>\n                        <CardHeader>\n                          <Skeleton className=\"h-6 w-48\" />\n                          <Skeleton className=\"h-4 w-32 mt-2\" />\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"space-y-4\">\n                            <Skeleton className=\"h-32\" />\n                            <Skeleton className=\"h-32\" />\n                          </div>\n                        </CardContent>\n                      </Card>\n                      \n                      <Card>\n                        <CardHeader>\n                          <Skeleton className=\"h-6 w-40\" />\n                          <Skeleton className=\"h-4 w-28 mt-2\" />\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"space-y-4\">\n                            <Skeleton className=\"h-32\" />\n                            <Skeleton className=\"h-32\" />\n                          </div>\n                        </CardContent>\n                      </Card>\n                    </div>\n                    \n                    <Card>\n                      <CardHeader>\n                        <Skeleton className=\"h-6 w-36\" />\n                        <Skeleton className=\"h-4 w-48 mt-2\" />\n                      </CardHeader>\n                      <CardContent>\n                        <div className=\"grid md:grid-cols-2 gap-4\">\n                          <Skeleton className=\"h-40\" />\n                          <Skeleton className=\"h-40\" />\n                        </div>\n                      </CardContent>\n                    </Card>\n                  </div>\n                </div>\n              ) : error ? (\n                <Card>\n                  <CardContent className=\"pt-6\">\n                    <div className=\"text-center mb-6\">\n                      <AlertCircle className=\"w-12 h-12 mx-auto mb-4 text-destructive\" />\n                      <h3 className=\"text-xl font-semibold mb-2\">Error Loading Data</h3>\n                      <p className=\"text-muted-foreground mb-4\">\n                        We couldn't load your account information. Please try again.\n                      </p>\n                      <Button onClick={() => setCustomerId(null)} data-testid=\"button-try-again\">\n                        Try Again\n                      </Button>\n                    </div>\n                  </CardContent>\n                </Card>\n              ) : customerData ? (\n                <>\n                  <Card>\n                    <CardHeader className=\"flex flex-row items-center justify-between gap-4 flex-wrap\">\n                      <div className=\"flex items-center gap-3\">\n                        <User className=\"w-8 h-8 text-primary\" />\n                        <div>\n                          <CardTitle>{customerData.customer.name}</CardTitle>\n                          <CardDescription>Customer Account</CardDescription>\n                        </div>\n                      </div>\n                      <div className=\"flex gap-2 flex-wrap\">\n                        <Button\n                          onClick={openScheduler}\n                          data-testid=\"button-schedule-appointment\"\n                        >\n                          <Calendar className=\"w-4 h-4 mr-2\" />\n                          Schedule Appointment\n                        </Button>\n                        <Button\n                          asChild\n                          variant=\"outline\"\n                          data-testid=\"button-call\"\n                        >\n                          <a href={`tel:${phoneConfig.tel}`}>\n                            <PhoneIcon className=\"w-4 h-4 mr-2\" />\n                            Call {phoneConfig.display}\n                          </a>\n                        </Button>\n                        <Button\n                          asChild\n                          variant=\"outline\"\n                          data-testid=\"button-text\"\n                        >\n                          <a href={`sms:${phoneConfig.tel}`}>\n                            <MessageSquare className=\"w-4 h-4 mr-2\" />\n                            Text Us\n                          </a>\n                        </Button>\n                        <Button\n                          variant=\"outline\"\n                          data-testid=\"button-email-us\"\n                          onClick={() => {\n                            // Pre-fill form with customer data\n                            setEmailUsName(customerData?.customer?.name || \"\");\n                            setEmailUsEmail(customerData?.customer?.email || \"\");\n                            setEmailUsPhone(customerData?.customer?.phoneNumber || \"\");\n                            setEmailUsSubject(\"\");\n                            setEmailUsMessage(\"\");\n                            setEmailUsOpen(true);\n                          }}\n                        >\n                          <Mail className=\"w-4 h-4 mr-2\" />\n                          Email Us\n                        </Button>\n                        {availableCustomerIds.length > 1 && (\n                          <Button\n                            variant=\"outline\"\n                            onClick={handleSwitchAccount}\n                            data-testid=\"button-switch-account\"\n                          >\n                            <Users className=\"w-4 h-4 mr-2\" />\n                            Switch Account\n                          </Button>\n                        )}\n                      </div>\n                    </CardHeader>\n                    <CardContent>\n                      <div className=\"space-y-4\">\n                        <div className=\"flex items-center justify-between mb-2\">\n                          <h3 className=\"text-sm font-semibold\">Contact Information</h3>\n                          <Button\n                            variant=\"ghost\"\n                            size=\"sm\"\n                            onClick={handleEditContacts}\n                            data-testid=\"button-edit-contacts\"\n                          >\n                            Edit\n                          </Button>\n                        </div>\n                        \n                        {customerData.customer.contacts && customerData.customer.contacts.length > 0 ? (\n                          <div className=\"space-y-3\">\n                            {customerData.customer.contacts.map((contact, index) => {\n                              const isEmail = contact.type === 'Email';\n                              const isPhone = contact.type === 'Phone' || contact.type === 'MobilePhone';\n                              \n                              if (!isEmail && !isPhone) return null;\n                              \n                              return (\n                                <div key={contact.id} className=\"flex items-start gap-3 p-3 bg-muted/50 rounded-lg\">\n                                  {isEmail ? (\n                                    <Mail className=\"w-4 h-4 text-primary flex-shrink-0 mt-0.5\" />\n                                  ) : (\n                                    <PhoneIcon className=\"w-4 h-4 text-primary flex-shrink-0 mt-0.5\" />\n                                  )}\n                                  <div className=\"flex-1 min-w-0\">\n                                    <p className=\"text-xs text-muted-foreground mb-0.5\">\n                                      {contact.type === 'MobilePhone' ? 'Mobile' : contact.type}\n                                    </p>\n                                    <p className=\"font-medium break-all\" data-testid={`contact-${contact.type.toLowerCase()}-${index}`}>\n                                      {contact.value}\n                                    </p>\n                                    {contact.memo && contact.memo !== 'email' && contact.memo !== 'Phone' && contact.memo !== 'mobile' && (\n                                      <p className=\"text-xs text-muted-foreground mt-0.5\">\n                                        {contact.memo}\n                                      </p>\n                                    )}\n                                  </div>\n                                  <Button\n                                    variant=\"ghost\"\n                                    size=\"sm\"\n                                    onClick={() => {\n                                      setContactToDelete({\n                                        id: contact.id,\n                                        type: contact.type,\n                                        value: contact.value\n                                      });\n                                      setDeleteContactDialogOpen(true);\n                                    }}\n                                    data-testid={`button-delete-contact-${contact.id}`}\n                                    className=\"flex-shrink-0 text-destructive hover:text-destructive\"\n                                  >\n                                    Delete\n                                  </Button>\n                                </div>\n                              );\n                            })}\n                          </div>\n                        ) : (\n                          <div className=\"grid md:grid-cols-2 gap-4\">\n                            <div>\n                              <p className=\"text-sm text-muted-foreground mb-1\">Phone</p>\n                              <p className=\"font-medium\" data-testid=\"text-customer-phone\">{customerData.customer.phoneNumber || 'Not provided'}</p>\n                            </div>\n                            <div>\n                              <p className=\"text-sm text-muted-foreground mb-1\">Email</p>\n                              <p className=\"font-medium\" data-testid=\"text-customer-email\">{customerData.customer.email || 'Not provided'}</p>\n                            </div>\n                          </div>\n                        )}\n                      </div>\n                    </CardContent>\n                  </Card>\n\n                  {/* 4 Dashboard Cards - Quick Stats */}\n                  <div className=\"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4\">\n                    {/* VIP Status Card - FIRST POSITION with visual variants */}\n                    <AspectRatio ratio={1 / 1}>\n                      {(() => {\n                        const membership = customerData.memberships && customerData.memberships.length > 0 ? customerData.memberships[0] : null;\n                        const membershipTypeName = membership?.membershipType?.toLowerCase() || '';\n                        \n                        // Determine variant based on membership type\n                        let variant = {\n                          bgClass: 'bg-background',\n                          borderClass: 'border-primary/20',\n                          iconClass: 'text-primary',\n                          icon: Crown,\n                          name: 'VIP'\n                        };\n                        \n                        if (membershipTypeName.includes('platinum')) {\n                          variant = {\n                            bgClass: 'bg-gradient-to-br from-purple-50 to-slate-50 dark:from-purple-950/20 dark:to-slate-950/20',\n                            borderClass: 'border-purple-300/50 dark:border-purple-700/50',\n                            iconClass: 'text-purple-600 dark:text-purple-400',\n                            icon: Crown,\n                            name: 'Platinum'\n                          };\n                        } else if (membershipTypeName.includes('silver')) {\n                          variant = {\n                            bgClass: 'bg-gradient-to-br from-slate-50 to-gray-50 dark:from-slate-900/20 dark:to-gray-900/20',\n                            borderClass: 'border-slate-300/50 dark:border-slate-600/50',\n                            iconClass: 'text-slate-600 dark:text-slate-400',\n                            icon: Shield,\n                            name: 'Silver'\n                          };\n                        } else if (membershipTypeName.includes('rental')) {\n                          variant = {\n                            bgClass: 'bg-gradient-to-br from-blue-50 to-cyan-50 dark:from-blue-950/20 dark:to-cyan-950/20',\n                            borderClass: 'border-blue-300/50 dark:border-blue-700/50',\n                            iconClass: 'text-blue-600 dark:text-blue-400',\n                            icon: Building2,\n                            name: 'Rental'\n                          };\n                        } else if (membershipTypeName.includes('commercial')) {\n                          variant = {\n                            bgClass: 'bg-gradient-to-br from-slate-900 to-slate-800 dark:from-slate-950 dark:to-slate-900',\n                            borderClass: 'border-amber-400/50 dark:border-amber-500/50',\n                            iconClass: 'text-amber-500 dark:text-amber-400',\n                            icon: Briefcase,\n                            name: 'Commercial'\n                          };\n                        }\n                        \n                        const IconComponent = variant.icon;\n                        const isExpired = membership?.isExpired || false;\n                        const isActive = membership && !isExpired;\n                        \n                        return (\n                          <Card className={`hover-elevate w-full h-full overflow-hidden cursor-pointer border-2 ${variant.borderClass} ${variant.bgClass}`} data-testid=\"card-vip-status\" onClick={() => {\n                            const element = document.getElementById('vip-membership-section');\n                            element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                          }}>\n                            <CardContent className=\"p-4 flex flex-col items-center justify-center text-center w-full h-full relative\">\n                              <IconComponent className={`w-8 h-8 mb-2 ${variant.iconClass}`} />\n                              {isActive ? (\n                                <>\n                                  <div className=\"text-base font-bold mb-1\">\n                                    {variant.name} Member\n                                  </div>\n                                  <p className=\"text-xs text-muted-foreground mb-1 truncate w-full px-2\">\n                                    {membership.membershipType}\n                                  </p>\n                                  {membership.expirationDate && (\n                                    <p className=\"text-xs text-muted-foreground mb-1\">\n                                      Until {new Date(membership.expirationDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}\n                                    </p>\n                                  )}\n                                  <Badge variant=\"default\" className=\"text-xs mt-1\">Active</Badge>\n                                </>\n                              ) : isExpired && membership ? (\n                                <>\n                                  <div className=\"text-base font-bold mb-1\">\n                                    Membership Expired\n                                  </div>\n                                  <p className=\"text-xs text-muted-foreground mb-1 truncate w-full px-2\">\n                                    {membership.membershipType}\n                                  </p>\n                                  {membership.expirationDate && (\n                                    <p className=\"text-xs text-muted-foreground mb-1\">\n                                      Expired {new Date(membership.expirationDate).toLocaleDateString('en-US', { month: 'short', year: 'numeric' })}\n                                    </p>\n                                  )}\n                                  <Button size=\"sm\" variant=\"default\" className=\"text-xs mt-1\" onClick={(e) => {\n                                    e.stopPropagation();\n                                    window.open('/vip-membership', '_blank');\n                                  }}>\n                                    Renew Now\n                                  </Button>\n                                </>\n                              ) : (\n                                <>\n                                  <div className=\"text-base font-bold mb-1\">\n                                    Not a Member\n                                  </div>\n                                  <p className=\"text-xs text-muted-foreground mb-2\">\n                                    Join our VIP Program\n                                  </p>\n                                  <Button size=\"sm\" variant=\"default\" className=\"text-xs\" onClick={(e) => {\n                                    e.stopPropagation();\n                                    window.open('/vip-membership', '_blank');\n                                  }}>\n                                    Start Membership\n                                  </Button>\n                                </>\n                              )}\n                              <p className=\"text-xs text-primary mt-2 absolute bottom-2\">View Details â†’</p>\n                            </CardContent>\n                          </Card>\n                        );\n                      })()}\n                    </AspectRatio>\n\n                    {/* Loyal Customer Card - Service History with Enhanced Messaging */}\n                    {customerStats && (\n                      <AspectRatio ratio={1 / 1}>\n                        {(() => {\n                          // Handle 0 services case first\n                          if (customerStats.serviceCount === 0 || customerStats.topPercentile === null) {\n                            return (\n                              <Card className=\"hover-elevate w-full h-full overflow-hidden cursor-pointer\" data-testid=\"card-service-history\" onClick={() => {\n                                const element = document.getElementById('job-history-section');\n                                element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                              }}>\n                                <CardContent className=\"p-4 flex flex-col items-center justify-center text-center w-full h-full relative\">\n                                  <Home className=\"w-8 h-8 text-primary mb-2\" />\n                                  <div className=\"text-base font-bold mb-1\">\n                                    Welcome!\n                                  </div>\n                                  <p className=\"text-xs text-muted-foreground mb-2\">\n                                    New to Economy Plumbing\n                                  </p>\n                                  <Badge variant=\"secondary\" className=\"text-xs mb-1\">\n                                    ðŸŽ‰ First Time Customer\n                                  </Badge>\n                                  <p className=\"text-xs text-muted-foreground mt-1 px-2 line-clamp-3\">\n                                    We're excited to serve you! Schedule your first service or call us at (512) 259-7222 for any plumbing needs.\n                                  </p>\n                                  <p className=\"text-xs text-primary mt-2 absolute bottom-2\">Get Started â†’</p>\n                                </CardContent>\n                              </Card>\n                            );\n                          }\n                          \n                          // Flip the percentile: show how many they're BETTER than (not how many are better than them)\n                          const betterThanPercentile = Math.min(99, 100 - customerStats.topPercentile); // Cap at 99%\n                          \n                          // Determine message tier and styling based on performance\n                          let message = '';\n                          let icon = Heart;\n                          let badgeVariant: \"default\" | \"secondary\" | \"outline\" = \"default\";\n                          let emoji = 'â­';\n                          \n                          if (customerStats.topPercentile <= 5) {\n                            // Elite tier - Top 5%\n                            message = `You're in our elite ${customerStats.topPercentile}%! You've had more services than ${betterThanPercentile}% of our customers. Thank you for being such a loyal customer!`;\n                            icon = Star;\n                            emoji = 'ðŸŒŸ';\n                            badgeVariant = \"default\";\n                          } else if (customerStats.topPercentile <= 25) {\n                            // Great tier - Top 25%\n                            message = `You've had more services than ${betterThanPercentile}% of our customers. We really appreciate your business!`;\n                            icon = Heart;\n                            emoji = 'â­';\n                            badgeVariant = \"default\";\n                          } else if (customerStats.topPercentile <= 50) {\n                            // Good tier - Top 50%\n                            message = `Thank you for choosing us! You've had more services than ${betterThanPercentile}% of our customers.`;\n                            icon = Heart;\n                            emoji = 'âœ“';\n                            badgeVariant = \"secondary\";\n                          } else {\n                            // Encourage more engagement\n                            message = `We're here when you need us! Remember, we offer maintenance plans, emergency services, and more. Give us a call anytime at (512) 259-7222!`;\n                            icon = Phone;\n                            emoji = 'ðŸ“ž';\n                            badgeVariant = \"outline\";\n                          }\n                          \n                          const IconComponent = icon;\n                          \n                          return (\n                            <Card className=\"hover-elevate w-full h-full overflow-hidden cursor-pointer\" data-testid=\"card-service-history\" onClick={() => {\n                              const element = document.getElementById('job-history-section');\n                              element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                            }}>\n                              <CardContent className=\"p-4 flex flex-col items-center justify-center text-center w-full h-full relative\">\n                                <IconComponent className=\"w-8 h-8 text-primary mb-2\" />\n                                <div className=\"text-base font-bold mb-1\">\n                                  {customerStats.topPercentile <= 5 ? 'Elite Customer!' : \n                                   customerStats.topPercentile <= 25 ? 'Valued Customer!' :\n                                   customerStats.topPercentile <= 50 ? 'Thank You!' : 'We Miss You!'}\n                                </div>\n                                <p className=\"text-xs text-muted-foreground mb-2\">\n                                  {customerStats.serviceCount} service{customerStats.serviceCount === 1 ? '' : 's'} with us\n                                </p>\n                                {customerStats.topPercentile <= 50 && (\n                                  <Badge variant={badgeVariant} className=\"text-xs mb-1\">\n                                    {emoji} Better than {betterThanPercentile}%\n                                  </Badge>\n                                )}\n                                <p className=\"text-xs text-muted-foreground mt-1 px-2 line-clamp-3\">\n                                  {message}\n                                </p>\n                                <p className=\"text-xs text-primary mt-2 absolute bottom-2\">View History â†’</p>\n                              </CardContent>\n                            </Card>\n                          );\n                        })()}\n                      </AspectRatio>\n                    )}\n\n                    {/* Referrals Card - Show Account Credit */}\n                    <AspectRatio ratio={1 / 1}>\n                      <Card className=\"hover-elevate w-full h-full overflow-hidden cursor-pointer\" data-testid=\"card-referrals\" onClick={() => {\n                        const element = document.getElementById('referral-section');\n                        element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                      }}>\n                        <CardContent className=\"p-4 flex flex-col items-center justify-center text-center w-full h-full relative\">\n                          <Share2 className=\"w-8 h-8 text-primary mb-2\" />\n                          {(() => {\n                            const creditedReferrals = referralsData?.referrals.filter((r: any) => r.status === 'credited') || [];\n                            const totalCredit = creditedReferrals.reduce((sum: number, r: any) => sum + (r.creditAmount || 0), 0);\n                            return (\n                              <>\n                                <div className=\"text-2xl font-bold text-primary mb-1\" data-testid=\"text-account-credit\">\n                                  {formatCurrency(totalCredit / 100)}\n                                </div>\n                                <p className=\"text-xs text-muted-foreground mb-1\">\n                                  Account Credit\n                                </p>\n                                <p className=\"text-xs text-muted-foreground\">\n                                  {referralsData?.referrals.length || 0} referral{referralsData?.referrals.length === 1 ? '' : 's'}\n                                </p>\n                              </>\n                            );\n                          })()}\n                          <p className=\"text-xs text-primary mt-2 absolute bottom-2\">View Details â†’</p>\n                        </CardContent>\n                      </Card>\n                    </AspectRatio>\n\n                    {/* Upcoming Appointments Card - Show Next Appointment Details */}\n                    <AspectRatio ratio={1 / 1}>\n                      <Card className=\"hover-elevate w-full h-full overflow-hidden cursor-pointer\" data-testid=\"card-upcoming-appointments\" onClick={() => {\n                        const element = document.getElementById('appointments-section');\n                        element?.scrollIntoView({ behavior: 'smooth', block: 'start' });\n                      }}>\n                        <CardContent className=\"p-4 flex flex-col items-center justify-center text-center w-full h-full relative\">\n                          <Calendar className=\"w-8 h-8 text-primary mb-2\" />\n                          {upcomingAppointments.length > 0 ? (\n                            <>\n                              <div className=\"text-base font-bold mb-1\" data-testid=\"text-next-appointment-date\">\n                                {new Date(upcomingAppointments[0].start).toLocaleDateString('en-US', { month: 'short', day: 'numeric' })}\n                              </div>\n                              <p className=\"text-xs text-muted-foreground mb-1\">\n                                {formatTime(upcomingAppointments[0].start)}\n                              </p>\n                              {upcomingAppointments[0].businessUnitName && (\n                                <p className=\"text-xs text-muted-foreground truncate w-full px-1\">\n                                  {upcomingAppointments[0].businessUnitName}\n                                </p>\n                              )}\n                              {upcomingAppointments.length > 1 && (\n                                <Badge variant=\"secondary\" className=\"text-xs mt-1\">\n                                  +{upcomingAppointments.length - 1} more\n                                </Badge>\n                              )}\n                            </>\n                          ) : (\n                            <>\n                              <div className=\"text-base font-bold mb-1\">\n                                None Scheduled\n                              </div>\n                              <p className=\"text-xs text-muted-foreground\">\n                                No upcoming appointments\n                              </p>\n                            </>\n                          )}\n                          <p className=\"text-xs text-primary mt-2 absolute bottom-2\">View All â†’</p>\n                        </CardContent>\n                      </Card>\n                    </AspectRatio>\n                  </div>\n\n                  {/* Savings Calculator - Show value to members and missed savings to non-members */}\n                  {(() => {\n                    // Calculate total from paid invoices\n                    const paidInvoices = customerData.invoices.filter(inv => \n                      inv.status.toLowerCase().includes('paid') || inv.status.toLowerCase().includes('complete')\n                    );\n                    const totalPaid = paidInvoices.reduce((sum, inv) => sum + inv.total, 0);\n                    \n                    // VIP members typically get 15% off\n                    const memberSavingsRate = 0.15;\n                    const estimatedSavings = totalPaid * memberSavingsRate;\n                    \n                    const isVIPMember = customerData.memberships && customerData.memberships.length > 0;\n                    \n                    // Only show if there's meaningful data\n                    if (totalPaid < 100) return null;\n                    \n                    return (\n                      <Card className={`border-2 ${isVIPMember ? 'border-primary/30 bg-gradient-to-br from-primary/10 via-primary/5 to-background' : 'border-amber-500/30 bg-gradient-to-br from-amber-500/10 via-amber-500/5 to-background'}`}>\n                        <CardHeader>\n                          <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n                            <div className=\"flex items-center gap-3\">\n                              <div className={`w-12 h-12 rounded-full flex items-center justify-center ${isVIPMember ? 'bg-primary/20' : 'bg-amber-500/20'}`}>\n                                <TrendingUp className={`w-6 h-6 ${isVIPMember ? 'text-primary' : 'text-amber-600 dark:text-amber-500'}`} />\n                              </div>\n                              <div>\n                                <CardTitle className=\"text-2xl\">\n                                  {isVIPMember ? (\n                                    <span className=\"text-primary\">You've Saved {formatCurrency(estimatedSavings)}</span>\n                                  ) : (\n                                    <span className=\"text-amber-600 dark:text-amber-500\">Save {formatCurrency(estimatedSavings)}</span>\n                                  )}\n                                </CardTitle>\n                                <CardDescription className=\"mt-1\">\n                                  {isVIPMember ? 'with your VIP membership' : 'by becoming a VIP member'}\n                                </CardDescription>\n                              </div>\n                            </div>\n                            {!isVIPMember && (\n                              <Badge variant=\"outline\" className=\"text-amber-600 border-amber-500/50 dark:text-amber-500\">\n                                Opportunity\n                              </Badge>\n                            )}\n                          </div>\n                        </CardHeader>\n                        <CardContent className=\"space-y-4\">\n                          <div className=\"flex items-center justify-between p-4 bg-background/50 rounded-lg border\">\n                            <div>\n                              <p className=\"text-sm text-muted-foreground\">Total Services</p>\n                              <p className=\"text-2xl font-bold\" data-testid=\"text-total-paid\">{formatCurrency(totalPaid)}</p>\n                            </div>\n                            <DollarSign className=\"w-8 h-8 text-muted-foreground/30\" />\n                          </div>\n                          \n                          {isVIPMember ? (\n                            <div className=\"space-y-3\">\n                              <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                                As a VIP member, you've enjoyed <strong className=\"text-primary\">member-only discounts</strong> on every service call, plus priority scheduling, no trip charges, and waived diagnostic fees.\n                              </p>\n                              <div className=\"flex items-center gap-2 p-3 bg-primary/10 rounded-lg border border-primary/20\">\n                                <CheckCircle className=\"w-5 h-5 text-primary flex-shrink-0\" />\n                                <p className=\"text-sm font-medium\">\n                                  Your membership is saving you money on every visit!\n                                </p>\n                              </div>\n                            </div>\n                          ) : (\n                            <div className=\"space-y-3\">\n                              <p className=\"text-sm text-muted-foreground leading-relaxed\">\n                                Based on your service history, you could save approximately <strong className=\"text-amber-600 dark:text-amber-500\">{formatCurrency(estimatedSavings)}</strong> per year as a VIP member, plus enjoy priority scheduling, no trip charges, and waived diagnostic fees.\n                              </p>\n                              <p className=\"text-xs text-muted-foreground italic\">\n                                *Estimated savings based on typical 15% member discount applied to your historical spending\n                              </p>\n                              <Button\n                                asChild\n                                className=\"w-full bg-amber-600 hover:bg-amber-700 text-white dark:bg-amber-500 dark:hover:bg-amber-600\"\n                                size=\"lg\"\n                                data-testid=\"button-join-vip-savings\"\n                              >\n                                <a href=\"/membership-benefits\">\n                                  <Crown className=\"w-4 h-4 mr-2\" />\n                                  Start Saving with VIP Membership\n                                </a>\n                              </Button>\n                            </div>\n                          )}\n                        </CardContent>\n                      </Card>\n                    );\n                  })()}\n\n                  {/* VIP Membership Status - Shows real data from ServiceTitan */}\n                  <div id=\"vip-membership-section\">\n                  {customerData.memberships && customerData.memberships.length > 0 ? (\n                    <Card className=\"border-primary/20 bg-gradient-to-br from-primary/5 to-background\">\n                      <CardHeader>\n                        <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n                          <div className=\"flex items-center gap-2\">\n                            <Crown className=\"w-6 h-6 text-primary\" />\n                            <div>\n                              <CardTitle>VIP Member</CardTitle>\n                              <CardDescription className=\"mt-1\">\n                                {customerData.memberships[0].membershipType}\n                              </CardDescription>\n                            </div>\n                          </div>\n                          <Badge variant=\"default\" className=\"text-xs bg-primary\">\n                            {customerData.memberships[0].status}\n                          </Badge>\n                        </div>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div className=\"grid gap-3\">\n                          {customerData.memberships[0].startDate && (\n                            <div className=\"flex items-center justify-between text-sm\">\n                              <span className=\"text-muted-foreground\">Member Since</span>\n                              <span className=\"font-medium\">\n                                {new Date(customerData.memberships[0].startDate).toLocaleDateString('en-US', { \n                                  month: 'short', \n                                  year: 'numeric' \n                                })}\n                              </span>\n                            </div>\n                          )}\n                          {customerData.memberships[0].expirationDate && (\n                            <div className=\"flex items-center justify-between text-sm\">\n                              <span className=\"text-muted-foreground\">Expires</span>\n                              <span className=\"font-medium\">\n                                {new Date(customerData.memberships[0].expirationDate).toLocaleDateString('en-US', { \n                                  month: 'short', \n                                  day: 'numeric',\n                                  year: 'numeric' \n                                })}\n                              </span>\n                            </div>\n                          )}\n                          {customerData.memberships[0].renewalDate && (\n                            <div className=\"flex items-center justify-between text-sm\">\n                              <span className=\"text-muted-foreground\">Next Renewal</span>\n                              <span className=\"font-medium\">\n                                {new Date(customerData.memberships[0].renewalDate).toLocaleDateString('en-US', { \n                                  month: 'short', \n                                  day: 'numeric',\n                                  year: 'numeric' \n                                })}\n                              </span>\n                            </div>\n                          )}\n                        </div>\n\n                        {/* Member Benefits */}\n                        <div className=\"pt-3 border-t\">\n                          <p className=\"text-xs font-medium text-muted-foreground mb-2\">Your Benefits</p>\n                          <div className=\"grid gap-2\">\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <DollarSign className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                              <span>Savings on EVERY service call</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <Star className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                              <span>Priority same-day service</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <Shield className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                              <span>No trip charges</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <Wrench className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                              <span>Annual plumbing inspection included</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <Clock className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                              <span>After-hours service at regular rates</span>\n                            </div>\n                            <div className=\"flex items-center gap-2 text-sm\">\n                              <CheckCircle className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                              <span>Waived diagnostic fees</span>\n                            </div>\n                          </div>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  ) : (\n                    <Card className=\"border-primary/20 bg-gradient-to-br from-primary/5 to-background\">\n                      <CardHeader>\n                        <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n                          <div className=\"flex items-center gap-2\">\n                            <Crown className=\"w-6 h-6 text-primary\" />\n                            <div>\n                              <CardTitle>VIP Membership</CardTitle>\n                              <CardDescription className=\"mt-1\">\n                                Not a VIP member yet\n                              </CardDescription>\n                            </div>\n                          </div>\n                          <Badge variant=\"outline\" className=\"text-xs\">\n                            Available\n                          </Badge>\n                        </div>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <p className=\"text-sm text-muted-foreground\">\n                          Join our VIP Membership program and save on every service call, plus enjoy priority same-day service, no trip charges, and more!\n                        </p>\n\n                        {/* Member Benefits Preview */}\n                        <div className=\"grid gap-2\">\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <DollarSign className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                            <span className=\"text-muted-foreground\">Savings on EVERY service call</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <Star className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                            <span className=\"text-muted-foreground\">Priority same-day service</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <Shield className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                            <span className=\"text-muted-foreground\">No trip charges</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <Wrench className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                            <span className=\"text-muted-foreground\">Annual plumbing inspection</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <Clock className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                            <span className=\"text-muted-foreground\">After-hours service at regular rates</span>\n                          </div>\n                          <div className=\"flex items-center gap-2 text-sm\">\n                            <CheckCircle className=\"w-4 h-4 text-primary flex-shrink-0\" />\n                            <span className=\"text-muted-foreground\">Waived diagnostic fees</span>\n                          </div>\n                        </div>\n\n                        <div className=\"pt-2 border-t\">\n                          <Button\n                            asChild\n                            className=\"w-full\"\n                            data-testid=\"button-vip-membership\"\n                          >\n                            <a href=\"/vip-membership\">\n                              <Crown className=\"w-4 h-4 mr-2\" />\n                              Learn About VIP Membership\n                            </a>\n                          </Button>\n                        </div>\n                      </CardContent>\n                    </Card>\n                  )}\n                  </div>\n\n                  {/* Service Locations */}\n                  {customerLocations.length > 0 && (\n                    <Card>\n                      <CardHeader>\n                        <div className=\"flex items-center gap-2\">\n                          <MapPin className=\"w-6 h-6 text-primary\" />\n                          <CardTitle>Service Locations ({customerLocations.length})</CardTitle>\n                        </div>\n                        <CardDescription>\n                          {customerLocations.length === 1 \n                            ? \"Your service address\" \n                            : \"All your service addresses\"}\n                        </CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-3\">\n                        {customerLocations.map((location, index) => (\n                          <div\n                            key={location.id}\n                            className=\"flex items-start gap-3 p-4 bg-muted/30 rounded-lg border\"\n                            data-testid={`location-card-${location.id}`}\n                          >\n                            <Home className=\"w-5 h-5 text-primary flex-shrink-0 mt-1\" />\n                            <div className=\"flex-1\">\n                              {location.name && (\n                                <p className=\"text-xs text-muted-foreground mb-1\">\n                                  {location.name}\n                                </p>\n                              )}\n                              <p className=\"font-medium\" data-testid={`text-location-street-${location.id}`}>\n                                {location.address.street}\n                              </p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                {location.address.city}, {location.address.state} {location.address.zip}\n                              </p>\n                              {index === 0 && customerLocations.length > 1 && (\n                                <Badge variant=\"secondary\" className=\"mt-2 text-xs\">\n                                  Primary\n                                </Badge>\n                              )}\n                            </div>\n                            {/* Address editing disabled - addresses cannot be changed for security */}\n                          </div>\n                        ))}\n                        <p className=\"text-xs text-muted-foreground text-center pt-2\">\n                          Service addresses are managed by our team for security\n                        </p>\n                      </CardContent>\n                    </Card>\n                  )}\n\n                  {/* Open Estimates - Backend already filters for unsold estimates */}\n                  {(() => {\n                    // Backend now filters for unsold estimates (where soldOn is null)\n                    const openEstimates = customerData.estimates || [];\n\n                    if (openEstimates.length === 0) return null;\n\n                    return (\n                      <Card>\n                        <CardHeader>\n                          <div className=\"flex items-center gap-2\">\n                            <FileText className=\"w-6 h-6 text-primary\" />\n                            <CardTitle>Open Estimates</CardTitle>\n                          </div>\n                          <CardDescription>\n                            Your pending estimates and quotes (valid for 30 days)\n                          </CardDescription>\n                        </CardHeader>\n                        <CardContent>\n                          <div className=\"overflow-x-auto pb-2\">\n                            <div className=\"flex gap-4 min-w-max\">\n                              {openEstimates.map((estimate) => (\n                                <Card\n                                  key={estimate.id}\n                                  className=\"w-80 flex-shrink-0 hover-elevate active-elevate-2 cursor-pointer\"\n                                  onClick={() => {\n                                    setSelectedEstimate(estimate);\n                                    setEstimateDetailOpen(true);\n                                  }}\n                                  data-testid={`estimate-card-${estimate.id}`}\n                                >\n                                  <CardContent className=\"p-4\">\n                                    <div className=\"flex items-start justify-between gap-2 mb-3\">\n                                      <div className=\"flex-1\">\n                                        <h4 className=\"font-semibold\">Estimate #{estimate.estimateNumber}</h4>\n                                        {estimate.summary && (\n                                          <p className=\"text-sm text-muted-foreground line-clamp-1\">{estimate.summary}</p>\n                                        )}\n                                      </div>\n                                      <div className=\"flex flex-col gap-1 items-end\">\n                                        {getStatusBadge(estimate.status)}\n                                        {getExpirationBadge(estimate)}\n                                      </div>\n                                    </div>\n                                    <div className=\"space-y-2 text-sm\">\n                                      <div className=\"flex justify-between\">\n                                        <span className=\"text-muted-foreground\">Total:</span>\n                                        <span className=\"font-semibold text-primary\">{formatCurrency(estimate.total)}</span>\n                                      </div>\n                                      <div className=\"flex justify-between\">\n                                        <span className=\"text-muted-foreground\">Created:</span>\n                                        <span>{formatDate(estimate.createdOn)}</span>\n                                      </div>\n                                      {estimate.expiresOn && (\n                                        <div className=\"flex justify-between\">\n                                          <span className=\"text-muted-foreground\">Expires:</span>\n                                          <span>{formatDate(estimate.expiresOn)}</span>\n                                        </div>\n                                      )}\n                                    </div>\n                                  </CardContent>\n                                </Card>\n                              ))}\n                            </div>\n                          </div>\n                        </CardContent>\n                      </Card>\n                    );\n                  })()}\n\n                  {/* Upcoming Appointments */}\n                  <div id=\"appointments-section\">\n                  <Card>\n                    <CardHeader>\n                      <div className=\"flex items-center gap-2\">\n                        <Calendar className=\"w-6 h-6 text-primary\" />\n                        <CardTitle>Upcoming Appointments</CardTitle>\n                      </div>\n                      <CardDescription>\n                        Your scheduled service appointments\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      {upcomingAppointments.length === 0 ? (\n                        <p className=\"text-center py-8 text-muted-foreground\" data-testid=\"text-no-appointments\">\n                          No upcoming appointments\n                        </p>\n                      ) : (\n                        <div className=\"space-y-4\">\n                          {upcomingAppointments.map((appointment) => (\n                            <div\n                              key={appointment.id}\n                              className=\"flex items-start gap-4 p-4 border rounded-lg\"\n                              data-testid={`appointment-${appointment.id}`}\n                            >\n                              <Calendar className=\"w-5 h-5 text-primary mt-1\" />\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-start justify-between gap-2 mb-2\">\n                                  <div>\n                                    <h4 className=\"font-semibold\">{appointment.jobType}</h4>\n                                    {appointment.summary && (\n                                      <p className=\"text-sm text-muted-foreground\">{appointment.summary}</p>\n                                    )}\n                                  </div>\n                                  <div className=\"flex items-center gap-2\">\n                                    {getStatusBadge(appointment.status)}\n                                    <Button\n                                      variant=\"outline\"\n                                      size=\"sm\"\n                                      onClick={() => handleOpenRescheduleDialog(appointment)}\n                                      data-testid={`button-reschedule-${appointment.id}`}\n                                    >\n                                      <CalendarClock className=\"w-4 h-4 mr-1\" />\n                                      Reschedule\n                                    </Button>\n                                  </div>\n                                </div>\n                                <div className=\"text-sm space-y-1\">\n                                  <p>\n                                    <strong>Date:</strong> {formatDate(appointment.start)}\n                                  </p>\n                                  {appointment.arrivalWindowStart && appointment.arrivalWindowEnd && (\n                                    <p>\n                                      <strong>Arrival Window:</strong> {formatTime(appointment.arrivalWindowStart)} - {formatTime(appointment.arrivalWindowEnd)}\n                                    </p>\n                                  )}\n                                  {appointment.jobNumber && (\n                                    <p className=\"text-muted-foreground\">\n                                      Job #{appointment.jobNumber}\n                                    </p>\n                                  )}\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                  </div>\n\n                  {/* Invoices */}\n                  <div id=\"job-history-section\">\n                  <Card>\n                    <CardHeader>\n                      <div className=\"flex items-center gap-2\">\n                        <FileText className=\"w-6 h-6 text-primary\" />\n                        <CardTitle>Invoices</CardTitle>\n                      </div>\n                      <CardDescription>\n                        Your service invoices and payment history\n                      </CardDescription>\n                    </CardHeader>\n                    <CardContent>\n                      {customerData.invoices.length === 0 ? (\n                        <p className=\"text-center py-8 text-muted-foreground\" data-testid=\"text-no-invoices\">\n                          No invoices found\n                        </p>\n                      ) : (\n                        <div className=\"space-y-4\">\n                          {customerData.invoices.map((invoice) => (\n                            <div\n                              key={invoice.id}\n                              className=\"flex items-start gap-4 p-4 border rounded-lg\"\n                              data-testid={`invoice-${invoice.id}`}\n                            >\n                              <DollarSign className=\"w-5 h-5 text-primary mt-1\" />\n                              <div className=\"flex-1\">\n                                <div className=\"flex items-start justify-between gap-2 mb-2\">\n                                  <div>\n                                    <h4 className=\"font-semibold\">Invoice #{invoice.invoiceNumber}</h4>\n                                    {invoice.summary && (\n                                      <p className=\"text-sm text-muted-foreground\">{invoice.summary}</p>\n                                    )}\n                                  </div>\n                                  {getStatusBadge(invoice.status)}\n                                </div>\n                                <div className=\"text-sm space-y-1\">\n                                  <div className=\"flex justify-between\">\n                                    <span><strong>Total:</strong></span>\n                                    <span className=\"font-semibold\">{formatCurrency(invoice.total)}</span>\n                                  </div>\n                                  {invoice.balance > 0 && (\n                                    <div className=\"flex justify-between text-destructive\">\n                                      <span><strong>Balance Due:</strong></span>\n                                      <span className=\"font-semibold\">{formatCurrency(invoice.balance)}</span>\n                                    </div>\n                                  )}\n                                  <p className=\"text-muted-foreground\">\n                                    Created: {formatDate(invoice.createdOn)}\n                                  </p>\n                                  {invoice.dueDate && (\n                                    <p className=\"text-muted-foreground\">\n                                      Due: {formatDate(invoice.dueDate)}\n                                    </p>\n                                  )}\n                                  {invoice.jobNumber && (\n                                    <p className=\"text-muted-foreground\">\n                                      Job #{invoice.jobNumber}\n                                    </p>\n                                  )}\n                                </div>\n                                <div className=\"mt-3 pt-3 border-t\">\n                                  <Button\n                                    variant=\"outline\"\n                                    size=\"sm\"\n                                    onClick={() => handleRequestPDF('invoice', invoice.invoiceNumber, invoice.id, {\n                                      customerId: customerData.customer.id,\n                                      customerName: customerData.customer.name,\n                                      customerEmail: customerData.customer.email\n                                    })}\n                                    data-testid={`button-request-invoice-pdf-${invoice.id}`}\n                                  >\n                                    <FileText className=\"w-4 h-4 mr-2\" />\n                                    Request PDF Copy\n                                  </Button>\n                                </div>\n                              </div>\n                            </div>\n                          ))}\n                        </div>\n                      )}\n                    </CardContent>\n                  </Card>\n                  </div>\n\n                  {/* Consolidated Referral Section */}\n                  <div id=\"referral-section\">\n                  {referralLinkData && (\n                    <Card className=\"border-primary/20 bg-gradient-to-br from-primary/10 via-primary/5 to-background\">\n                      <CardHeader>\n                        <div className=\"flex items-center justify-between gap-4 flex-wrap\">\n                          <div className=\"flex items-center gap-3\">\n                            <div className=\"w-12 h-12 rounded-full bg-primary/20 flex items-center justify-center\">\n                              <Gift className=\"w-6 h-6 text-primary\" />\n                            </div>\n                            <div>\n                              <CardTitle>Referral Rewards Program</CardTitle>\n                              <CardDescription className=\"mt-1\">\n                                {referralsData?.referrals.length === 0 \n                                  ? \"Start earning rewards today! Share your link below.\" \n                                  : `You've referred ${referralsData?.referrals.length} ${referralsData?.referrals.length === 1 ? 'friend' : 'friends'} - thank you for spreading the word!`\n                                }\n                              </CardDescription>\n                            </div>\n                          </div>\n                          <Badge variant=\"default\" className=\"bg-primary\">\n                            Active\n                          </Badge>\n                        </div>\n                      </CardHeader>\n                      <CardContent className=\"space-y-6\">\n                        {/* Referral Code */}\n                        <div className=\"p-4 bg-primary/10 rounded-lg border border-primary/20 text-center\">\n                          <p className=\"text-sm font-medium text-muted-foreground mb-2\">Your Referral Code</p>\n                          <p className=\"text-2xl font-bold text-primary tracking-wide\" data-testid=\"text-referral-code\">\n                            {referralLinkData.code}\n                          </p>\n                        </div>\n\n                        {/* Referral Link */}\n                        <div className=\"space-y-2\">\n                          <Label htmlFor=\"referral-link\">Your Unique Referral Link</Label>\n                          <div className=\"flex gap-2\">\n                            <Input\n                              id=\"referral-link\"\n                              value={referralLinkData.url}\n                              readOnly\n                              className=\"font-mono text-sm\"\n                              data-testid=\"input-referral-link\"\n                            />\n                            <Button\n                              onClick={copyReferralLink}\n                              variant={copied ? \"default\" : \"outline\"}\n                              size=\"icon\"\n                              className={copied ? \"bg-green-600 hover:bg-green-700\" : \"\"}\n                              data-testid=\"button-copy-link\"\n                            >\n                              {copied ? <Check className=\"w-4 h-4\" /> : <Copy className=\"w-4 h-4\" />}\n                            </Button>\n                          </div>\n                        </div>\n\n                        {/* Stats */}\n                        <div className=\"grid grid-cols-3 gap-4\">\n                          <div className=\"p-4 bg-background rounded-lg border text-center\">\n                            <p className=\"text-sm text-muted-foreground mb-1\">Total Referrals</p>\n                            <p className=\"text-2xl font-bold text-primary\" data-testid=\"text-total-referrals-stat\">\n                              {referralsData?.referrals.length || 0}\n                            </p>\n                          </div>\n                          <div className=\"p-4 bg-background rounded-lg border text-center\">\n                            <p className=\"text-sm text-muted-foreground mb-1\">Conversions</p>\n                            <p className=\"text-2xl font-bold text-primary\" data-testid=\"text-conversions\">\n                              {referralLinkData.conversions}\n                            </p>\n                          </div>\n                          <div className=\"p-4 bg-background rounded-lg border text-center\">\n                            <p className=\"text-sm text-muted-foreground mb-1\">Clicks</p>\n                            <p className=\"text-2xl font-bold\" data-testid=\"text-clicks\">\n                              {referralLinkData.clicks}\n                            </p>\n                          </div>\n                        </div>\n\n                        {/* Your Referrals List */}\n                        {referralsData && referralsData.referrals.length > 0 ? (\n                          <div className=\"space-y-3\">\n                            <h4 className=\"font-semibold\">Your Referrals</h4>\n                            {referralsData.referrals.slice(0, 5).map((referral: any) => {\n                              const isReferrer = referral.referrerCustomerId === parseInt(customerId!);\n                              const statusColors: Record<string, string> = {\n                                pending: 'bg-gray-100 text-gray-800 dark:bg-gray-800 dark:text-gray-100',\n                                contacted: 'bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-100',\n                                job_completed: 'bg-green-100 text-green-800 dark:bg-green-900 dark:text-green-100',\n                                credited: 'bg-primary/10 text-primary'\n                              };\n                              \n                              return (\n                                <div key={referral.id} className=\"p-3 bg-background rounded-lg border\">\n                                  <div className=\"flex items-center justify-between gap-2 mb-1\">\n                                    <p className=\"font-medium text-sm\">\n                                      {isReferrer ? referral.refereeName : referral.referrerName}\n                                    </p>\n                                    <Badge className={statusColors[referral.status] || 'bg-gray-100 text-gray-800'} data-testid={`badge-referral-status-${referral.id}`}>\n                                      {referral.status.replace('_', ' ').replace(/\\b\\w/g, (l: string) => l.toUpperCase())}\n                                    </Badge>\n                                  </div>\n                                  <p className=\"text-xs text-muted-foreground\">\n                                    Submitted: {new Date(referral.submittedAt).toLocaleDateString()}\n                                  </p>\n                                  {referral.status === 'credited' && referral.creditAmount && (\n                                    <p className=\"text-xs text-primary font-medium mt-1\">\n                                      Credit: ${(referral.creditAmount / 100).toFixed(2)}\n                                    </p>\n                                  )}\n                                </div>\n                              );\n                            })}\n                            {referralsData.referrals.length > 5 && (\n                              <p className=\"text-xs text-center text-muted-foreground\">\n                                Showing 5 most recent ({referralsData.referrals.length} total)\n                              </p>\n                            )}\n                          </div>\n                        ) : (\n                          referralsData && (\n                            <div className=\"p-6 bg-gradient-to-r from-primary/5 via-primary/10 to-primary/5 rounded-lg border border-primary/20 text-center space-y-4\">\n                              <div className=\"flex justify-center\">\n                                <Gift className=\"w-12 h-12 text-primary animate-pulse\" />\n                              </div>\n                              <div className=\"space-y-2\">\n                                <h4 className=\"font-semibold text-lg\">Be the First to Start Earning!</h4>\n                                <p className=\"text-muted-foreground max-w-md mx-auto\">\n                                  You haven't made any referrals yet, but there's great potential waiting! \n                                  Share your unique link with friends and family to start earning $25 rewards.\n                                </p>\n                                <p className=\"text-sm text-muted-foreground\">\n                                  It's simple: they save $25, you earn $25. Everyone wins!\n                                </p>\n                              </div>\n                              <div className=\"flex flex-wrap justify-center gap-3 pt-2\">\n                                <Button \n                                  onClick={() => {\n                                    const text = `Save $25 on your first plumbing service with Economy Plumbing! Use my referral link: ${referralLinkData.url}`;\n                                    const url = `https://twitter.com/intent/tweet?text=${encodeURIComponent(text)}`;\n                                    window.open(url, '_blank', 'width=600,height=400');\n                                  }}\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  className=\"gap-2\"\n                                  data-testid=\"button-share-twitter\"\n                                >\n                                  <Share2 className=\"w-4 h-4\" />\n                                  Share on X\n                                </Button>\n                                <Button \n                                  onClick={() => {\n                                    const text = `Check out Economy Plumbing Services! Save $25 on your first service using my referral link: ${referralLinkData.url}`;\n                                    const url = `https://www.facebook.com/sharer/sharer.php?u=${encodeURIComponent(referralLinkData.url)}&quote=${encodeURIComponent(text)}`;\n                                    window.open(url, '_blank', 'width=600,height=400');\n                                  }}\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  className=\"gap-2\"\n                                  data-testid=\"button-share-facebook\"\n                                >\n                                  <Share2 className=\"w-4 h-4\" />\n                                  Share on Facebook\n                                </Button>\n                                <Button \n                                  onClick={() => {\n                                    const text = `Hi! I wanted to share this with you - Economy Plumbing Services has been amazing for us. You can save $25 on your first service using my referral link: ${referralLinkData.url}`;\n                                    const url = `mailto:?subject=Save $25 on Plumbing Services&body=${encodeURIComponent(text)}`;\n                                    window.location.href = url;\n                                  }}\n                                  variant=\"outline\"\n                                  size=\"sm\"\n                                  className=\"gap-2\"\n                                  data-testid=\"button-share-email\"\n                                >\n                                  <Mail className=\"w-4 h-4\" />\n                                  Share via Email\n                                </Button>\n                              </div>\n                            </div>\n                          )\n                        )}\n\n                        {/* How It Works */}\n                        <div className=\"grid md:grid-cols-2 gap-3\">\n                          <div className=\"flex items-start gap-3 p-4 bg-background rounded-lg border\">\n                            <Gift className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                            <div>\n                              <p className=\"font-medium mb-1\">You Get $25</p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                When your referral completes a service of $200+\n                              </p>\n                            </div>\n                          </div>\n                          <div className=\"flex items-start gap-3 p-4 bg-background rounded-lg border\">\n                            <Heart className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                            <div>\n                              <p className=\"font-medium mb-1\">They Get $25</p>\n                              <p className=\"text-sm text-muted-foreground\">\n                                Your friend saves on their first service call\n                              </p>\n                            </div>\n                          </div>\n                        </div>\n\n                        {/* Action Button */}\n                        <Button\n                          onClick={() => setShowReferralModal(true)}\n                          className=\"w-full\"\n                          size=\"lg\"\n                          data-testid=\"button-share-referral\"\n                        >\n                          <Share2 className=\"w-4 h-4 mr-2\" />\n                          Share Referral Link\n                        </Button>\n                      </CardContent>\n                    </Card>\n                  )}\n                  </div>\n\n                  {/* Leave a Review (show if they have completed appointments) */}\n                  {completedAppointments.length > 0 && (\n                    <Card className=\"border-primary/20 bg-gradient-to-br from-primary/5 to-background\">\n                      <CardHeader>\n                        <div className=\"flex items-center gap-2\">\n                          <Star className=\"w-6 h-6 text-primary fill-primary\" />\n                          <CardTitle>Love Our Service?</CardTitle>\n                        </div>\n                        <CardDescription>\n                          Share your experience and help others find great plumbing service\n                        </CardDescription>\n                      </CardHeader>\n                      <CardContent className=\"space-y-4\">\n                        <div className=\"flex items-start gap-3 p-4 bg-background rounded-lg border\">\n                          <CheckCircle className=\"w-5 h-5 text-primary flex-shrink-0 mt-0.5\" />\n                          <div>\n                            <p className=\"font-medium mb-1\">Your Review Matters</p>\n                            <p className=\"text-sm text-muted-foreground\">\n                              Help your neighbors find reliable plumbing service. Your honest feedback helps us improve and helps others make informed decisions.\n                            </p>\n                          </div>\n                        </div>\n                        \n                        <Button\n                          className=\"w-full\"\n                          size=\"lg\"\n                          data-testid=\"button-leave-review\"\n                          onClick={() => {\n                            setReviewRating(0);\n                            setReviewFeedback(\"\");\n                            setReviewModalOpen(true);\n                          }}\n                        >\n                          <Star className=\"w-4 h-4 mr-2\" />\n                          Leave a Review\n                        </Button>\n\n                        <p className=\"text-xs text-center text-muted-foreground\">\n                          Choose from Google, Facebook, BBB, or Yelp - takes just 2 minutes!\n                        </p>\n                      </CardContent>\n                    </Card>\n                  )}\n                </>\n              ) : null}\n            </div>\n          )}\n        </div>\n      </main>\n\n      <Footer />\n      \n      {/* Referral Modal */}\n      {customerData && referralLinkData && (\n        <ReferralModal\n          open={showReferralModal}\n          onOpenChange={setShowReferralModal}\n          customerName={customerData.customer.name}\n          customerPhone={customerData.customer.phoneNumber}\n          customerId={customerId!}\n          referralCode={referralLinkData.code}\n        />\n      )}\n\n      {/* Estimate Detail Modal */}\n      <Dialog open={estimateDetailOpen} onOpenChange={setEstimateDetailOpen}>\n        <DialogContent className=\"max-w-2xl max-h-[80vh]\" data-testid=\"dialog-estimate-detail\">\n          <DialogHeader>\n            <DialogTitle>Estimate Details</DialogTitle>\n            <DialogDescription>\n              Complete breakdown of your estimate\n            </DialogDescription>\n          </DialogHeader>\n          \n          {selectedEstimate && (\n            <div className=\"space-y-4\">\n              {/* Estimate Header */}\n              <div className=\"p-4 bg-muted/30 rounded-lg border\">\n                <div className=\"flex items-start justify-between gap-4 mb-3\">\n                  <div className=\"flex-1\">\n                    <h3 className=\"font-semibold text-lg\">Estimate #{selectedEstimate.estimateNumber}</h3>\n                    {selectedEstimate.summary && (\n                      <p className=\"text-sm text-muted-foreground\">{selectedEstimate.summary}</p>\n                    )}\n                  </div>\n                  <div className=\"flex flex-col gap-1 items-end\">\n                    {getStatusBadge(selectedEstimate.status)}\n                    {getExpirationBadge(selectedEstimate)}\n                  </div>\n                </div>\n                <div className=\"grid grid-cols-2 gap-3 text-sm\">\n                  <div>\n                    <p className=\"text-muted-foreground\">Total:</p>\n                    <p className=\"font-semibold text-lg text-primary\">{formatCurrency(selectedEstimate.total)}</p>\n                  </div>\n                  <div>\n                    <p className=\"text-muted-foreground\">Created:</p>\n                    <p className=\"font-medium\">{formatDate(selectedEstimate.createdOn)}</p>\n                  </div>\n                  {selectedEstimate.expiresOn && (\n                    <>\n                      <div>\n                        <p className=\"text-muted-foreground\">Expires:</p>\n                        <p className=\"font-medium\">{formatDate(selectedEstimate.expiresOn)}</p>\n                      </div>\n                    </>\n                  )}\n                  {selectedEstimate.jobNumber && (\n                    <div>\n                      <p className=\"text-muted-foreground\">Job #:</p>\n                      <p className=\"font-medium\">{selectedEstimate.jobNumber}</p>\n                    </div>\n                  )}\n                </div>\n              </div>\n\n              {/* Estimate Items */}\n              <div className=\"space-y-3\">\n                <h4 className=\"font-semibold\">Items</h4>\n                <div className=\"max-h-96 overflow-y-auto space-y-3 pr-2\">\n                  {selectedEstimate.items && selectedEstimate.items.length > 0 ? (\n                    selectedEstimate.items.map((item: any, index: number) => (\n                      <div key={index} className=\"p-3 bg-background rounded-lg border\" data-testid={`estimate-item-${index}`}>\n                        <div className=\"flex gap-3\">\n                          {item.pricebookDetails?.imageUrl && (\n                            <img \n                              src={item.pricebookDetails.imageUrl} \n                              alt={item.pricebookDetails.name || item.description}\n                              className=\"w-16 h-16 object-cover rounded\"\n                            />\n                          )}\n                          <div className=\"flex-1\">\n                            <p className=\"font-medium\">\n                              {item.pricebookDetails?.name || item.sku?.name || 'Service Item'}\n                            </p>\n                            {item.description && (\n                              <div \n                                className=\"text-sm text-muted-foreground mt-1\"\n                                dangerouslySetInnerHTML={{ __html: item.description }}\n                              />\n                            )}\n                            <div className=\"mt-3 space-y-1\">\n                              <div className=\"flex justify-between items-center text-sm\">\n                                <span className=\"text-muted-foreground\">\n                                  Quantity:\n                                </span>\n                                <span>{item.quantity || item.qty || 1}</span>\n                              </div>\n                              <div className=\"flex justify-between items-center text-sm\">\n                                <span className=\"text-muted-foreground\">\n                                  Unit Price:\n                                </span>\n                                <span>{formatCurrency(item.unitRate || 0)}</span>\n                              </div>\n                              <div className=\"flex justify-between items-center pt-1 border-t\">\n                                <span className=\"font-medium\">\n                                  Line Total:\n                                </span>\n                                <span className=\"font-semibold text-primary\">\n                                  {formatCurrency(item.total || 0)}\n                                </span>\n                              </div>\n                            </div>\n                          </div>\n                        </div>\n                      </div>\n                    ))\n                  ) : (\n                    <p className=\"text-center text-muted-foreground py-8\">No items found</p>\n                  )}\n                </div>\n              </div>\n\n              {/* Actions */}\n              <div className=\"flex gap-3 pt-4 border-t\">\n                <Button\n                  variant=\"outline\"\n                  className=\"flex-1\"\n                  onClick={() => setEstimateDetailOpen(false)}\n                  data-testid=\"button-close-estimate-detail\"\n                >\n                  Close\n                </Button>\n                <Button\n                  className=\"flex-1\"\n                  onClick={() => {\n                    handleRequestPDF('estimate', selectedEstimate.estimateNumber, selectedEstimate.id, {\n                      customerId: customerData!.customer.id,\n                      customerName: customerData!.customer.name,\n                      customerEmail: customerData!.customer.email\n                    });\n                    setEstimateDetailOpen(false);\n                  }}\n                  data-testid=\"button-request-estimate-pdf-modal\"\n                >\n                  <FileText className=\"w-4 h-4 mr-2\" />\n                  Request PDF Copy\n                </Button>\n              </div>\n            </div>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Reschedule Appointment Dialog */}\n      <Dialog open={rescheduleDialogOpen} onOpenChange={setRescheduleDialogOpen}>\n        <DialogContent data-testid=\"dialog-reschedule\">\n          <DialogHeader>\n            <DialogTitle>Reschedule Appointment</DialogTitle>\n            <DialogDescription>\n              Choose a new date and time window for your appointment. We'll update your schedule right away.\n            </DialogDescription>\n          </DialogHeader>\n\n          {appointmentToReschedule && (\n            <div className=\"space-y-4 py-4\">\n              {/* Current appointment info */}\n              <div className=\"p-4 bg-muted/30 rounded-lg border\">\n                <p className=\"text-sm font-medium mb-2\">Current Appointment:</p>\n                <p className=\"text-sm text-muted-foreground\">\n                  {appointmentToReschedule.jobType}\n                </p>\n                <p className=\"text-sm text-muted-foreground\">\n                  {formatDate(appointmentToReschedule.start)} at {formatTime(appointmentToReschedule.start)}\n                </p>\n              </div>\n\n              {/* New date and time window inputs */}\n              <div className=\"grid gap-4\">\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-date\">New Date</Label>\n                  <Input\n                    id=\"new-date\"\n                    type=\"date\"\n                    value={newAppointmentDate}\n                    onChange={(e) => setNewAppointmentDate(e.target.value)}\n                    min={new Date().toISOString().split('T')[0]}\n                    data-testid=\"input-new-date\"\n                  />\n                </div>\n                <div className=\"space-y-2\">\n                  <Label htmlFor=\"new-window\">Time Window</Label>\n                  <Select\n                    value={newAppointmentWindow}\n                    onValueChange={setNewAppointmentWindow}\n                  >\n                    <SelectTrigger id=\"new-window\" data-testid=\"select-time-window\">\n                      <SelectValue placeholder=\"Select a time window\" />\n                    </SelectTrigger>\n                    <SelectContent>\n                      {timeWindows.map((window) => (\n                        <SelectItem \n                          key={`${window.start}-${window.end}`} \n                          value={`${window.start}-${window.end}`}\n                          data-testid={`option-${window.start}-${window.end}`}\n                        >\n                          {window.label}\n                        </SelectItem>\n                      ))}\n                    </SelectContent>\n                  </Select>\n                </div>\n              </div>\n\n              <p className=\"text-xs text-muted-foreground\">\n                Note: This will update your appointment in our system. You can also call us at {phoneConfig.display} for assistance.\n              </p>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setRescheduleDialogOpen(false)}\n              disabled={isRescheduling}\n              data-testid=\"button-cancel-reschedule\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleRescheduleAppointment}\n              disabled={isRescheduling || !newAppointmentDate || !newAppointmentWindow}\n              data-testid=\"button-confirm-reschedule\"\n            >\n              {isRescheduling ? \"Rescheduling...\" : \"Confirm Reschedule\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Contacts Dialog */}\n      <Dialog open={editContactsOpen} onOpenChange={setEditContactsOpen}>\n        <DialogContent data-testid=\"dialog-edit-contacts\">\n          <DialogHeader>\n            <DialogTitle>Update Contact Information</DialogTitle>\n            <DialogDescription>\n              Update your phone number and email address. This will be reflected in our system.\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-phone\">Phone Number</Label>\n              <Input\n                id=\"edit-phone\"\n                type=\"tel\"\n                value={editPhone}\n                onChange={(e) => setEditPhone(e.target.value)}\n                placeholder=\"(512) 123-4567\"\n                data-testid=\"input-edit-phone\"\n              />\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-email\">Email Address</Label>\n              <Input\n                id=\"edit-email\"\n                type=\"email\"\n                value={editEmail}\n                onChange={(e) => setEditEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                data-testid=\"input-edit-email\"\n              />\n            </div>\n\n            <p className=\"text-xs text-muted-foreground\">\n              Note: Changes will update your contact information across all our systems.\n            </p>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setEditContactsOpen(false)}\n              disabled={isUpdatingContacts}\n              data-testid=\"button-cancel-edit-contacts\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleUpdateContacts}\n              disabled={isUpdatingContacts || (!editPhone && !editEmail)}\n              data-testid=\"button-save-contacts\"\n            >\n              {isUpdatingContacts ? \"Updating...\" : \"Save Changes\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Delete Contact Confirmation Dialog */}\n      <Dialog open={deleteContactDialogOpen} onOpenChange={setDeleteContactDialogOpen}>\n        <DialogContent data-testid=\"dialog-delete-contact\">\n          <DialogHeader>\n            <DialogTitle>Delete Contact?</DialogTitle>\n            <DialogDescription>\n              Are you sure you want to delete this contact information? This action cannot be undone.\n            </DialogDescription>\n          </DialogHeader>\n\n          {contactToDelete && (\n            <div className=\"py-4\">\n              <div className=\"bg-muted/50 p-4 rounded-lg\">\n                <p className=\"text-sm text-muted-foreground mb-1\">\n                  {contactToDelete.type === 'MobilePhone' ? 'Mobile' : contactToDelete.type}\n                </p>\n                <p className=\"font-medium\">\n                  {contactToDelete.value}\n                </p>\n              </div>\n            </div>\n          )}\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => {\n                setDeleteContactDialogOpen(false);\n                setContactToDelete(null);\n              }}\n              disabled={isDeletingContact}\n              data-testid=\"button-cancel-delete-contact\"\n            >\n              Cancel\n            </Button>\n            <Button\n              variant=\"destructive\"\n              onClick={handleDeleteContact}\n              disabled={isDeletingContact}\n              data-testid=\"button-confirm-delete-contact\"\n            >\n              {isDeletingContact ? \"Deleting...\" : \"Delete Contact\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Edit Address Dialog */}\n      <Dialog open={editAddressOpen} onOpenChange={setEditAddressOpen}>\n        <DialogContent data-testid=\"dialog-edit-address\">\n          <DialogHeader>\n            <DialogTitle>Update Service Address</DialogTitle>\n            <DialogDescription>\n              Update your service address where we provide plumbing services.\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4 py-4\">\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-street\">Street Address</Label>\n              <Input\n                id=\"edit-street\"\n                type=\"text\"\n                value={editStreet}\n                onChange={(e) => setEditStreet(e.target.value)}\n                placeholder=\"123 Main Street\"\n                data-testid=\"input-edit-street\"\n              />\n            </div>\n            <div className=\"grid md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-city\">City</Label>\n                <Input\n                  id=\"edit-city\"\n                  type=\"text\"\n                  value={editCity}\n                  onChange={(e) => setEditCity(e.target.value)}\n                  placeholder=\"Austin\"\n                  data-testid=\"input-edit-city\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"edit-state\">State</Label>\n                <Input\n                  id=\"edit-state\"\n                  type=\"text\"\n                  value={editState}\n                  onChange={(e) => setEditState(e.target.value)}\n                  placeholder=\"TX\"\n                  maxLength={2}\n                  data-testid=\"input-edit-state\"\n                />\n              </div>\n            </div>\n            <div className=\"space-y-2\">\n              <Label htmlFor=\"edit-zip\">ZIP Code</Label>\n              <Input\n                id=\"edit-zip\"\n                type=\"text\"\n                value={editZip}\n                onChange={(e) => setEditZip(e.target.value)}\n                placeholder=\"78701\"\n                maxLength={5}\n                data-testid=\"input-edit-zip\"\n              />\n            </div>\n\n            <p className=\"text-xs text-muted-foreground\">\n              Note: This updates your primary service address in our system.\n            </p>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setEditAddressOpen(false)}\n              disabled={isUpdatingAddress}\n              data-testid=\"button-cancel-edit-address\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={handleUpdateAddress}\n              disabled={isUpdatingAddress || !editStreet || !editCity || !editState || !editZip}\n              data-testid=\"button-save-address\"\n            >\n              {isUpdatingAddress ? \"Updating...\" : \"Save Changes\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Email Us Dialog */}\n      <Dialog open={emailUsOpen} onOpenChange={setEmailUsOpen}>\n        <DialogContent data-testid=\"dialog-email-us\">\n          <DialogHeader>\n            <DialogTitle>Email Us</DialogTitle>\n            <DialogDescription>\n              Send us a message and we'll get back to you as soon as possible.\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4 py-4\">\n            <div className=\"grid md:grid-cols-2 gap-4\">\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email-name\">Name</Label>\n                <Input\n                  id=\"email-name\"\n                  type=\"text\"\n                  value={emailUsName}\n                  onChange={(e) => setEmailUsName(e.target.value)}\n                  placeholder=\"Your Name\"\n                  data-testid=\"input-email-name\"\n                />\n              </div>\n              <div className=\"space-y-2\">\n                <Label htmlFor=\"email-phone\">Phone</Label>\n                <Input\n                  id=\"email-phone\"\n                  type=\"tel\"\n                  value={emailUsPhone}\n                  onChange={(e) => setEmailUsPhone(e.target.value)}\n                  placeholder=\"(512) 123-4567\"\n                  data-testid=\"input-email-phone\"\n                />\n              </div>\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email-address\">Email Address</Label>\n              <Input\n                id=\"email-address\"\n                type=\"email\"\n                value={emailUsEmail}\n                onChange={(e) => setEmailUsEmail(e.target.value)}\n                placeholder=\"you@example.com\"\n                data-testid=\"input-email-address\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email-subject\">Subject</Label>\n              <Input\n                id=\"email-subject\"\n                type=\"text\"\n                value={emailUsSubject}\n                onChange={(e) => setEmailUsSubject(e.target.value)}\n                placeholder=\"How can we help?\"\n                data-testid=\"input-email-subject\"\n              />\n            </div>\n            \n            <div className=\"space-y-2\">\n              <Label htmlFor=\"email-message\">Message</Label>\n              <textarea\n                id=\"email-message\"\n                className=\"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                value={emailUsMessage}\n                onChange={(e) => setEmailUsMessage(e.target.value)}\n                placeholder=\"Tell us more about what you need...\"\n                data-testid=\"input-email-message\"\n              />\n            </div>\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setEmailUsOpen(false)}\n              disabled={isSendingEmail}\n              data-testid=\"button-cancel-email\"\n            >\n              Cancel\n            </Button>\n            <Button\n              onClick={async () => {\n                if (!emailUsName || !emailUsEmail || !emailUsMessage) {\n                  toast({\n                    title: \"Missing Information\",\n                    description: \"Please fill in all required fields\",\n                    variant: \"destructive\"\n                  });\n                  return;\n                }\n                \n                setIsSendingEmail(true);\n                try {\n                  const response = await fetch(\"/api/contact\", {\n                    method: \"POST\",\n                    headers: {\n                      \"Content-Type\": \"application/json\",\n                    },\n                    body: JSON.stringify({\n                      name: emailUsName,\n                      email: emailUsEmail,\n                      phone: emailUsPhone,\n                      subject: emailUsSubject || \"Customer Portal Inquiry\",\n                      message: emailUsMessage,\n                      source: \"customer_portal\"\n                    }),\n                  });\n\n                  if (response.ok) {\n                    toast({\n                      title: \"Message Sent!\",\n                      description: \"We've received your message and will respond soon.\",\n                    });\n                    setEmailUsOpen(false);\n                    // Clear form\n                    setEmailUsSubject(\"\");\n                    setEmailUsMessage(\"\");\n                  } else {\n                    throw new Error(\"Failed to send message\");\n                  }\n                } catch (error) {\n                  console.error(\"Error sending email:\", error);\n                  toast({\n                    title: \"Error\",\n                    description: \"Failed to send message. Please try again.\",\n                    variant: \"destructive\"\n                  });\n                } finally {\n                  setIsSendingEmail(false);\n                }\n              }}\n              disabled={isSendingEmail || !emailUsName || !emailUsEmail || !emailUsMessage}\n              data-testid=\"button-send-email\"\n            >\n              {isSendingEmail ? \"Sending...\" : \"Send Message\"}\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n\n      {/* Review Collection Modal */}\n      <Dialog open={reviewModalOpen} onOpenChange={setReviewModalOpen}>\n        <DialogContent className=\"sm:max-w-md\" data-testid=\"dialog-review\">\n          <DialogHeader>\n            <DialogTitle>\n              {reviewRating === 0 ? \"How was your experience?\" : \n               reviewRating >= 4 ? \"Thank you for your feedback!\" : \n               \"We appreciate your feedback\"}\n            </DialogTitle>\n            <DialogDescription>\n              {reviewRating === 0 ? \"Please rate your recent service\" : \n               reviewRating >= 4 ? \"Share your positive experience with others\" : \n               \"Help us improve our service\"}\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-4 py-4\">\n            {/* Star Rating */}\n            <div className=\"flex justify-center gap-2\">\n              {[1, 2, 3, 4, 5].map((star) => (\n                <button\n                  key={star}\n                  onClick={() => setReviewRating(star)}\n                  className=\"focus:outline-none transition-transform hover:scale-110\"\n                  data-testid={`button-star-${star}`}\n                >\n                  <Star\n                    className={`w-10 h-10 ${\n                      star <= reviewRating \n                        ? \"fill-yellow-400 text-yellow-400\" \n                        : \"text-gray-300 hover:text-yellow-400\"\n                    }`}\n                  />\n                </button>\n              ))}\n            </div>\n\n            {/* Rating-based content */}\n            {reviewRating > 0 && (\n              <>\n                {reviewRating >= 4 ? (\n                  // Positive review - show platform links\n                  <div className=\"space-y-3\">\n                    <p className=\"text-center text-sm text-muted-foreground\">\n                      Please share your experience on one of these platforms:\n                    </p>\n                    \n                    <div className=\"grid gap-2\">\n                      <Button\n                        variant=\"outline\"\n                        className=\"w-full justify-start gap-3\"\n                        onClick={() => {\n                          window.open('https://g.page/r/CeBZvF4LQ-KNEAE/review', '_blank');\n                          setReviewModalOpen(false);\n                          toast({\n                            title: \"Thank you!\",\n                            description: \"Opening Google Reviews...\",\n                          });\n                        }}\n                        data-testid=\"button-google-review\"\n                      >\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                          <path fill=\"#4285F4\" d=\"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z\"/>\n                          <path fill=\"#34A853\" d=\"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z\"/>\n                          <path fill=\"#FBBC05\" d=\"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z\"/>\n                          <path fill=\"#EA4335\" d=\"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z\"/>\n                        </svg>\n                        Google Reviews\n                      </Button>\n                      \n                      <Button\n                        variant=\"outline\"\n                        className=\"w-full justify-start gap-3\"\n                        onClick={() => {\n                          window.open('https://www.facebook.com/EconomyPlumbingServices/reviews', '_blank');\n                          setReviewModalOpen(false);\n                          toast({\n                            title: \"Thank you!\",\n                            description: \"Opening Facebook Reviews...\",\n                          });\n                        }}\n                        data-testid=\"button-facebook-review\"\n                      >\n                        <SiFacebook className=\"w-5 h-5 text-[#1877F2]\" />\n                        Facebook Reviews\n                      </Button>\n                      \n                      <Button\n                        variant=\"outline\"\n                        className=\"w-full justify-start gap-3\"\n                        onClick={() => {\n                          window.open('https://www.yelp.com/writeareview/biz/economy-plumbing-services-austin', '_blank');\n                          setReviewModalOpen(false);\n                          toast({\n                            title: \"Thank you!\",\n                            description: \"Opening Yelp Reviews...\",\n                          });\n                        }}\n                        data-testid=\"button-yelp-review\"\n                      >\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                          <path fill=\"#FF1A1A\" d=\"M12.062 17.662c.038-.934-.008-.889.002-2.393.007-.9.527-.991.756-.635.052.081 1.518 2.368 1.541 2.449.156.557-.194.683-.774.619-.651-.072-1.245-.166-1.249-.166-.265-.049-.368-.146-.276-.51zm2.167-4.142c.011-.908.012-.908.021-1.823.011-1.103-.746-1.098-1.069-.501-.073.135-1.164 2.443-1.212 2.553-.175.408.254.578.663.556l1.27-.069c.17-.009.333-.065.327-.716zm-3.192.955c.901-.111.91-.148 1.75-.291.508-.087.546-.567.087-.752-.105-.042-2.634-.912-2.728-.951-.599-.247-.772.292-.548.867.251.646.497 1.222.497 1.227.103.224.256.215.585-.065zm-3.834 5.558c.347-.778.347-.801.651-1.479.365-.815-.397-1.139-.856-.595-.099.125-1.912 2.317-1.939 2.383-.231.576.271.876.687.803.682-.125 1.162-.239 1.166-.244.178-.108.24-.243.291-.868zm.901-2.701c.793-.448.808-.457 1.522-.874.86-.502.429-1.155-.342-1.176-.177-.005-3.057-.029-3.163-.036-.671-.043-.819.503-.438.929.427.478.823.912.827.917.163.175.36.14.698-.09z\"/>\n                        </svg>\n                        Yelp Reviews\n                      </Button>\n                      \n                      <Button\n                        variant=\"outline\"\n                        className=\"w-full justify-start gap-3\"\n                        onClick={() => {\n                          window.open('https://www.bbb.org/us/tx/austin/profile/plumber/economy-plumbing-services-0825-1000049576/customer-reviews', '_blank');\n                          setReviewModalOpen(false);\n                          toast({\n                            title: \"Thank you!\",\n                            description: \"Opening BBB Reviews...\",\n                          });\n                        }}\n                        data-testid=\"button-bbb-review\"\n                      >\n                        <svg className=\"w-5 h-5\" viewBox=\"0 0 24 24\">\n                          <path fill=\"#003087\" d=\"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z\"/>\n                        </svg>\n                        BBB Reviews\n                      </Button>\n                    </div>\n                  </div>\n                ) : (\n                  // Negative review - collect private feedback\n                  <div className=\"space-y-3\">\n                    <p className=\"text-center text-sm text-muted-foreground\">\n                      We're sorry to hear about your experience. Please tell us how we can improve:\n                    </p>\n                    \n                    <div className=\"space-y-2\">\n                      <Label htmlFor=\"feedback\">Your Feedback</Label>\n                      <textarea\n                        id=\"feedback\"\n                        className=\"flex min-h-[120px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50\"\n                        value={reviewFeedback}\n                        onChange={(e) => setReviewFeedback(e.target.value)}\n                        placeholder=\"Please share what went wrong and how we can do better...\"\n                        data-testid=\"input-review-feedback\"\n                      />\n                    </div>\n                    \n                    <Button\n                      className=\"w-full\"\n                      onClick={async () => {\n                        setIsSubmittingReview(true);\n                        try {\n                          // Submit private feedback\n                          const response = await fetch(\"/api/reviews/private-feedback\", {\n                            method: \"POST\",\n                            headers: { \"Content-Type\": \"application/json\" },\n                            body: JSON.stringify({\n                              customerId: customerId,\n                              rating: reviewRating,\n                              feedback: reviewFeedback,\n                              customerName: customerData?.customer?.name || \"Anonymous\",\n                              customerEmail: customerData?.customer?.email || \"\"\n                            }),\n                          });\n\n                          if (response.ok) {\n                            toast({\n                              title: \"Thank you for your feedback\",\n                              description: \"We'll review your comments and work to improve our service.\",\n                            });\n                            setReviewModalOpen(false);\n                          } else {\n                            throw new Error(\"Failed to submit feedback\");\n                          }\n                        } catch (error) {\n                          console.error(\"Error submitting feedback:\", error);\n                          toast({\n                            title: \"Error\",\n                            description: \"Failed to submit feedback. Please try again.\",\n                            variant: \"destructive\"\n                          });\n                        } finally {\n                          setIsSubmittingReview(false);\n                        }\n                      }}\n                      disabled={isSubmittingReview || !reviewFeedback.trim()}\n                      data-testid=\"button-submit-feedback\"\n                    >\n                      {isSubmittingReview ? \"Submitting...\" : \"Submit Feedback\"}\n                    </Button>\n                  </div>\n                )}\n              </>\n            )}\n          </div>\n\n          {reviewRating === 0 && (\n            <DialogFooter>\n              <Button\n                variant=\"outline\"\n                onClick={() => setReviewModalOpen(false)}\n                data-testid=\"button-cancel-review\"\n              >\n                Cancel\n              </Button>\n            </DialogFooter>\n          )}\n        </DialogContent>\n      </Dialog>\n\n      {/* Account Switcher Dialog */}\n      <Dialog open={showAccountSelection && verificationStep === 'authenticated'} onOpenChange={setShowAccountSelection}>\n        <DialogContent className=\"max-w-2xl\" data-testid=\"dialog-switch-account\">\n          <DialogHeader>\n            <DialogTitle>Switch Account</DialogTitle>\n            <DialogDescription>\n              Select which account you'd like to view. You have access to multiple accounts.\n            </DialogDescription>\n          </DialogHeader>\n\n          <div className=\"space-y-3 py-4\">\n            {availableAccounts.map((account) => (\n              <Card\n                key={account.id}\n                className=\"hover-elevate active-elevate-2 cursor-pointer\"\n                onClick={() => handleSelectAccount(account.id)}\n                data-testid={`switch-account-option-${account.id}`}\n              >\n                <CardContent className=\"p-4\">\n                  <div className=\"flex items-start gap-3\">\n                    {account.type === 'Commercial' ? (\n                      <Users className=\"w-6 h-6 text-primary flex-shrink-0 mt-0.5\" />\n                    ) : (\n                      <Home className=\"w-6 h-6 text-primary flex-shrink-0 mt-0.5\" />\n                    )}\n                    <div className=\"flex-1\">\n                      <div className=\"flex items-center gap-2 mb-1\">\n                        <p className=\"font-semibold\">{account.name}</p>\n                        <Badge variant=\"secondary\" className=\"text-xs\">\n                          {account.type}\n                        </Badge>\n                      </div>\n                      {account.address && (\n                        <p className=\"text-sm text-muted-foreground flex items-start gap-1\">\n                          <MapPin className=\"w-3 h-3 flex-shrink-0 mt-0.5\" />\n                          {account.address}\n                        </p>\n                      )}\n                    </div>\n                  </div>\n                </CardContent>\n              </Card>\n            ))}\n          </div>\n\n          <DialogFooter>\n            <Button\n              variant=\"outline\"\n              onClick={() => setShowAccountSelection(false)}\n              data-testid=\"button-cancel-switch\"\n            >\n              Cancel\n            </Button>\n          </DialogFooter>\n        </DialogContent>\n      </Dialog>\n    </>\n  );\n}\n","import { useState } from \"react\";\nimport { useForm } from \"react-hook-form\";\nimport { zodResolver } from \"@hookform/resolvers/zod\";\nimport { z } from \"zod\";\nimport { useMutation } from \"@tanstack/react-query\";\nimport { apiRequest } from \"@/lib/queryClient\";\nimport { useToast } from \"@/hooks/use-toast\";\nimport {\n  Dialog,\n  DialogContent,\n  DialogDescription,\n  DialogHeader,\n  DialogTitle,\n} from \"@/components/ui/dialog\";\nimport {\n  Form,\n  FormControl,\n  FormDescription,\n  FormField,\n  FormItem,\n  FormLabel,\n  FormMessage,\n} from \"@/components/ui/form\";\nimport { Input } from \"@/components/ui/input\";\nimport { Button } from \"@/components/ui/button\";\nimport { Loader2, Send, Mail, MessageSquare } from \"lucide-react\";\n\nconst referralFormSchema = z.object({\n  friendName: z.string().min(2, \"Friend's name is required\"),\n  friendPhone: z.string().min(10, \"Valid phone number is required\"),\n  friendEmail: z.string().email(\"Valid email is required\").optional().or(z.literal(\"\")),\n});\n\ntype ReferralFormData = z.infer<typeof referralFormSchema>;\n\ninterface ReferralModalProps {\n  open: boolean;\n  onOpenChange: (open: boolean) => void;\n  customerName: string;\n  customerPhone: string;\n  customerId: string;\n  referralCode: string;\n}\n\nexport function ReferralModal({\n  open,\n  onOpenChange,\n  customerName,\n  customerPhone,\n  customerId,\n  referralCode,\n}: ReferralModalProps) {\n  const { toast } = useToast();\n  const [sendEmail, setSendEmail] = useState(true);\n  const [sendSMS, setSendSMS] = useState(true);\n\n  const form = useForm<ReferralFormData>({\n    resolver: zodResolver(referralFormSchema),\n    defaultValues: {\n      friendName: \"\",\n      friendPhone: \"\",\n      friendEmail: \"\",\n    },\n  });\n\n  const submitReferralMutation = useMutation({\n    mutationFn: async (data: ReferralFormData) => {\n      return apiRequest(\"POST\", \"/api/referrals/send\", {\n        referrerName: customerName,\n        referrerPhone: customerPhone,\n        referrerCustomerId: parseInt(customerId),\n        referralCode: referralCode,\n        refereeName: data.friendName,\n        refereePhone: data.friendPhone,\n        refereeEmail: data.friendEmail || undefined,\n        sendEmail: sendEmail && !!data.friendEmail,\n        sendSMS: sendSMS,\n      });\n    },\n    onSuccess: () => {\n      toast({\n        title: \"Referral sent!\",\n        description: \"Your friend will receive an SMS and email about your referral.\",\n      });\n      form.reset();\n      onOpenChange(false);\n    },\n    onError: (error: any) => {\n      toast({\n        title: \"Failed to send referral\",\n        description: error.message || \"Please try again\",\n        variant: \"destructive\",\n      });\n    },\n  });\n\n  const onSubmit = (data: ReferralFormData) => {\n    submitReferralMutation.mutate(data);\n  };\n\n  return (\n    <Dialog open={open} onOpenChange={onOpenChange}>\n      <DialogContent className=\"sm:max-w-md\">\n        <DialogHeader>\n          <DialogTitle>Send a Referral</DialogTitle>\n          <DialogDescription>\n            Invite your friend to Economy Plumbing and you'll both benefit! They get $25 off and you earn credits.\n          </DialogDescription>\n        </DialogHeader>\n\n        <Form {...form}>\n          <form onSubmit={form.handleSubmit(onSubmit)} className=\"space-y-4\">\n            <div className=\"space-y-2 p-3 bg-muted rounded-lg\">\n              <p className=\"text-sm font-medium\">Your Information</p>\n              <div className=\"text-sm text-muted-foreground space-y-1\">\n                <p>{customerName}</p>\n                <p>{customerPhone}</p>\n              </div>\n            </div>\n\n            <FormField\n              control={form.control}\n              name=\"friendName\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Friend's Name</FormLabel>\n                  <FormControl>\n                    <Input\n                      placeholder=\"John Smith\"\n                      {...field}\n                      data-testid=\"input-friend-name\"\n                    />\n                  </FormControl>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"friendPhone\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Friend's Phone Number</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"tel\"\n                      placeholder=\"(512) 555-1234\"\n                      {...field}\n                      data-testid=\"input-friend-phone\"\n                    />\n                  </FormControl>\n                  <FormDescription>\n                    They'll receive an SMS with your referral link\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <FormField\n              control={form.control}\n              name=\"friendEmail\"\n              render={({ field }) => (\n                <FormItem>\n                  <FormLabel>Friend's Email (Optional)</FormLabel>\n                  <FormControl>\n                    <Input\n                      type=\"email\"\n                      placeholder=\"friend@example.com\"\n                      {...field}\n                      data-testid=\"input-friend-email\"\n                    />\n                  </FormControl>\n                  <FormDescription>\n                    They'll also receive an email with your referral link\n                  </FormDescription>\n                  <FormMessage />\n                </FormItem>\n              )}\n            />\n\n            <div className=\"flex gap-2 pt-2\">\n              <Button\n                type=\"submit\"\n                className=\"flex-1\"\n                disabled={submitReferralMutation.isPending}\n                data-testid=\"button-send-referral\"\n              >\n                {submitReferralMutation.isPending ? (\n                  <>\n                    <Loader2 className=\"w-4 h-4 mr-2 animate-spin\" />\n                    Sending...\n                  </>\n                ) : (\n                  <>\n                    <Send className=\"w-4 h-4 mr-2\" />\n                    Send Referral\n                  </>\n                )}\n              </Button>\n              <Button\n                type=\"button\"\n                variant=\"outline\"\n                onClick={() => onOpenChange(false)}\n                data-testid=\"button-cancel\"\n              >\n                Cancel\n              </Button>\n            </div>\n          </form>\n        </Form>\n      </DialogContent>\n    </Dialog>\n  );\n}\n","// packages/react/aspect-ratio/src/aspect-ratio.tsx\nimport * as React from \"react\";\nimport { Primitive } from \"@radix-ui/react-primitive\";\nimport { jsx } from \"react/jsx-runtime\";\nvar NAME = \"AspectRatio\";\nvar AspectRatio = React.forwardRef(\n  (props, forwardedRef) => {\n    const { ratio = 1 / 1, style, ...aspectRatioProps } = props;\n    return /* @__PURE__ */ jsx(\n      \"div\",\n      {\n        style: {\n          // ensures inner element is contained\n          position: \"relative\",\n          // ensures padding bottom trick maths works\n          width: \"100%\",\n          paddingBottom: `${100 / ratio}%`\n        },\n        \"data-radix-aspect-ratio-wrapper\": \"\",\n        children: /* @__PURE__ */ jsx(\n          Primitive.div,\n          {\n            ...aspectRatioProps,\n            ref: forwardedRef,\n            style: {\n              ...style,\n              // ensures children expand in ratio\n              position: \"absolute\",\n              top: 0,\n              right: 0,\n              bottom: 0,\n              left: 0\n            }\n          }\n        )\n      }\n    );\n  }\n);\nAspectRatio.displayName = NAME;\nvar Root = AspectRatio;\nexport {\n  AspectRatio,\n  Root\n};\n//# sourceMappingURL=index.mjs.map\n","import * as AspectRatioPrimitive from \"@radix-ui/react-aspect-ratio\"\n\nconst AspectRatio = AspectRatioPrimitive.Root\n\nexport { AspectRatio }\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name CalendarClock\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMjEgNy41VjZhMiAyIDAgMCAwLTItMkg1YTIgMiAwIDAgMC0yIDJ2MTRhMiAyIDAgMCAwIDIgMmgzLjUiIC8+CiAgPHBhdGggZD0iTTE2IDJ2NCIgLz4KICA8cGF0aCBkPSJNOCAydjQiIC8+CiAgPHBhdGggZD0iTTMgMTBoNSIgLz4KICA8cGF0aCBkPSJNMTcuNSAxNy41IDE2IDE2LjNWMTQiIC8+CiAgPGNpcmNsZSBjeD0iMTYiIGN5PSIxNiIgcj0iNiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/calendar-clock\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst CalendarClock = createLucideIcon('CalendarClock', [\n  ['path', { d: 'M21 7.5V6a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h3.5', key: '1osxxc' }],\n  ['path', { d: 'M16 2v4', key: '4m81vk' }],\n  ['path', { d: 'M8 2v4', key: '1cmpym' }],\n  ['path', { d: 'M3 10h5', key: 'r794hk' }],\n  ['path', { d: 'M17.5 17.5 16 16.3V14', key: 'akvzfd' }],\n  ['circle', { cx: '16', cy: '16', r: '6', key: 'qoo3c4' }],\n]);\n\nexport default CalendarClock;\n","import createLucideIcon from '../createLucideIcon';\n\n/**\n * @component @name Briefcase\n * @description Lucide SVG icon component, renders SVG Element with children.\n *\n * @preview ![img](data:image/svg+xml;base64,PHN2ZyAgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIgogIHdpZHRoPSIyNCIKICBoZWlnaHQ9IjI0IgogIHZpZXdCb3g9IjAgMCAyNCAyNCIKICBmaWxsPSJub25lIgogIHN0cm9rZT0iIzAwMCIgc3R5bGU9ImJhY2tncm91bmQtY29sb3I6ICNmZmY7IGJvcmRlci1yYWRpdXM6IDJweCIKICBzdHJva2Utd2lkdGg9IjIiCiAgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIgogIHN0cm9rZS1saW5lam9pbj0icm91bmQiCj4KICA8cGF0aCBkPSJNMTYgMjBWNGEyIDIgMCAwIDAtMi0yaC00YTIgMiAwIDAgMC0yIDJ2MTYiIC8+CiAgPHJlY3Qgd2lkdGg9IjIwIiBoZWlnaHQ9IjE0IiB4PSIyIiB5PSI2IiByeD0iMiIgLz4KPC9zdmc+Cg==) - https://lucide.dev/icons/briefcase\n * @see https://lucide.dev/guide/packages/lucide-react - Documentation\n *\n * @param {Object} props - Lucide icons props and any valid SVG attribute\n * @returns {JSX.Element} JSX Element\n *\n */\nconst Briefcase = createLucideIcon('Briefcase', [\n  ['path', { d: 'M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16', key: 'jecpp' }],\n  ['rect', { width: '20', height: '14', x: '2', y: '6', rx: '2', key: 'i6l2r4' }],\n]);\n\nexport default Briefcase;\n"],"names":[],"mappings":"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","ignoreList":[2,4,5]}
module.exports=[307932,398020,e=>{"use strict";var t=e.i(844988);class n{static [t.entityKind]="ConsoleLogWriter";write(e){console.log(e)}}class r{static [t.entityKind]="DefaultLogger";writer;constructor(e){this.writer=e?.writer??new n}logQuery(e,t){let n=t.map(e=>{try{return JSON.stringify(e)}catch{return String(e)}}),r=n.length?` -- params: [${n.join(", ")}]`:"";this.writer.write(`Query: ${e}${r}`)}}class i{static [t.entityKind]="NoopLogger";logQuery(){}}e.s(["ConsoleLogWriter",()=>n,"DefaultLogger",()=>r,"NoopLogger",()=>i],307932);class l{static [t.entityKind]="QueryPromise";[Symbol.toStringTag]="QueryPromise";catch(e){return this.then(void 0,e)}finally(e){return this.then(t=>(e?.(),t),t=>{throw e?.(),t})}then(e,t){return this.execute().then(e,t)}}e.s(["QueryPromise",()=>l],398020)},5672,71783,e=>{"use strict";var t=e.i(156325),n=e.i(844988),r=e.i(518899),i=e.i(369e3),l=e.i(88274);class s{constructor(e){this.table=e}static [n.entityKind]="ColumnAliasProxyHandler";get(e,t){return"table"===t?this.table:e[t]}}class a{constructor(e,t){this.alias=e,this.replaceOriginalName=t}static [n.entityKind]="TableAliasProxyHandler";get(e,r){if(r===i.Table.Symbol.IsAlias)return!0;if(r===i.Table.Symbol.Name||this.replaceOriginalName&&r===i.Table.Symbol.OriginalName)return this.alias;if(r===l.ViewBaseConfig)return{...e[l.ViewBaseConfig],name:this.alias,isAlias:!0};if(r===i.Table.Symbol.Columns){let t=e[i.Table.Symbol.Columns];if(!t)return t;let n={};return Object.keys(t).map(r=>{n[r]=new Proxy(t[r],new s(new Proxy(e,this)))}),n}let a=e[r];return(0,n.is)(a,t.Column)?new Proxy(a,new s(new Proxy(e,this))):a}}class o{constructor(e){this.alias=e}static [n.entityKind]="RelationTableAliasProxyHandler";get(e,t){return"sourceTable"===t?u(e.sourceTable,this.alias):e[t]}}function u(e,t){return new Proxy(e,new a(t,!1))}function c(e,t){return new Proxy(e,new o(t))}function f(e,t){return new Proxy(e,new s(new Proxy(e.table,new a(t,!1))))}function m(e,t){return new r.SQL.Aliased(y(e.sql,t),e.fieldAlias)}function y(e,i){return r.sql.join(e.queryChunks.map(e=>(0,n.is)(e,t.Column)?f(e,i):(0,n.is)(e,r.SQL)?y(e,i):(0,n.is)(e,r.SQL.Aliased)?m(e,i):e))}e.s(["ColumnAliasProxyHandler",()=>s,"RelationTableAliasProxyHandler",()=>o,"TableAliasProxyHandler",()=>a,"aliasedRelation",()=>c,"aliasedTable",()=>u,"aliasedTableColumn",()=>f,"mapColumnsInAliasedSQLToAlias",()=>m,"mapColumnsInSQLToAlias",()=>y],5672);class b extends Error{static [n.entityKind]="DrizzleError";constructor({message:e,cause:t}){super(e),this.name="DrizzleError",this.cause=t}}class h extends b{static [n.entityKind]="TransactionRollbackError";constructor(){super({message:"Rollback"})}}e.s(["DrizzleError",()=>b,"TransactionRollbackError",()=>h],71783)},144902,e=>{"use strict";var t=e.i(844988),n=e.i(794093);class r{static [t.entityKind]="PgPrimaryKeyBuilder";columns;name;constructor(e,t){this.columns=e,this.name=t}build(e){return new i(e,this.columns,this.name)}}class i{constructor(e,t,n){this.table=e,this.columns=t,this.name=n}static [t.entityKind]="PgPrimaryKey";columns;name;getName(){return this.name??`${this.table[n.PgTable.Symbol.Name]}_${this.columns.map(e=>e.name).join("_")}_pk`}}e.s(["PrimaryKeyBuilder",()=>r])},875225,349129,e=>{"use strict";var t=e.i(156325),n=e.i(844988),r=e.i(369e3),i=e.i(518899);function l(e,l){return!(0,i.isDriverValueEncoder)(l)||(0,i.isSQLWrapper)(e)||(0,n.is)(e,i.Param)||(0,n.is)(e,i.Placeholder)||(0,n.is)(e,t.Column)||(0,n.is)(e,r.Table)||(0,n.is)(e,i.View)?e:new i.Param(e,l)}let s=(e,t)=>i.sql`${e} = ${l(t,e)}`,a=(e,t)=>i.sql`${e} <> ${l(t,e)}`;function o(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new i.SQL(1===t.length?t:[new i.StringChunk("("),i.sql.join(t,new i.StringChunk(" and ")),new i.StringChunk(")")])}function u(...e){let t=e.filter(e=>void 0!==e);if(0!==t.length)return new i.SQL(1===t.length?t:[new i.StringChunk("("),i.sql.join(t,new i.StringChunk(" or ")),new i.StringChunk(")")])}function c(e){return i.sql`not ${e}`}let f=(e,t)=>i.sql`${e} > ${l(t,e)}`,m=(e,t)=>i.sql`${e} >= ${l(t,e)}`,y=(e,t)=>i.sql`${e} < ${l(t,e)}`,b=(e,t)=>i.sql`${e} <= ${l(t,e)}`;function h(e,t){return Array.isArray(t)?0===t.length?i.sql`false`:i.sql`${e} in ${t.map(t=>l(t,e))}`:i.sql`${e} in ${l(t,e)}`}function d(e,t){return Array.isArray(t)?0===t.length?i.sql`true`:i.sql`${e} not in ${t.map(t=>l(t,e))}`:i.sql`${e} not in ${l(t,e)}`}function g(e){return i.sql`${e} is null`}function $(e){return i.sql`${e} is not null`}function w(e){return i.sql`exists ${e}`}function T(e){return i.sql`not exists ${e}`}function q(e,t,n){return i.sql`${e} between ${l(t,e)} and ${l(n,e)}`}function N(e,t,n){return i.sql`${e} not between ${l(t,e)} and ${l(n,e)}`}function p(e,t){return i.sql`${e} like ${t}`}function S(e,t){return i.sql`${e} not like ${t}`}function C(e,t){return i.sql`${e} ilike ${t}`}function x(e,t){return i.sql`${e} not ilike ${t}`}function A(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("arrayContains requires at least one value");let n=i.sql`${l(t,e)}`;return i.sql`${e} @> ${n}`}return i.sql`${e} @> ${l(t,e)}`}function k(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("arrayContained requires at least one value");let n=i.sql`${l(t,e)}`;return i.sql`${e} <@ ${n}`}return i.sql`${e} <@ ${l(t,e)}`}function K(e,t){if(Array.isArray(t)){if(0===t.length)throw Error("arrayOverlaps requires at least one value");let n=i.sql`${l(t,e)}`;return i.sql`${e} && ${n}`}return i.sql`${e} && ${l(t,e)}`}function P(e){return i.sql`${e} asc`}function E(e){return i.sql`${e} desc`}e.s(["and",()=>o,"arrayContained",()=>k,"arrayContains",()=>A,"arrayOverlaps",()=>K,"between",()=>q,"bindIfParam",()=>l,"eq",()=>s,"exists",()=>w,"gt",()=>f,"gte",()=>m,"ilike",()=>C,"inArray",()=>h,"isNotNull",()=>$,"isNull",()=>g,"like",()=>p,"lt",()=>y,"lte",()=>b,"ne",()=>a,"not",()=>c,"notBetween",()=>N,"notExists",()=>T,"notIlike",()=>x,"notInArray",()=>d,"notLike",()=>S,"or",()=>u],875225),e.s(["asc",()=>P,"desc",()=>E],349129)},479822,e=>{"use strict";var t=e.i(369e3),n=e.i(156325),r=e.i(844988),i=e.i(144902),l=e.i(875225),s=e.i(349129),a=e.i(518899);class o{constructor(e,n,r){this.sourceTable=e,this.referencedTable=n,this.relationName=r,this.referencedTableName=n[t.Table.Symbol.Name]}static [r.entityKind]="Relation";referencedTableName;fieldName}class u{constructor(e,t){this.table=e,this.config=t}static [r.entityKind]="Relations"}class c extends o{constructor(e,t,n,r){super(e,t,n?.relationName),this.config=n,this.isNullable=r}static [r.entityKind]="One";withFieldName(e){let t=new c(this.sourceTable,this.referencedTable,this.config,this.isNullable);return t.fieldName=e,t}}class f extends o{constructor(e,t,n){super(e,t,n?.relationName),this.config=n}static [r.entityKind]="Many";withFieldName(e){let t=new f(this.sourceTable,this.referencedTable,this.config);return t.fieldName=e,t}}function m(){return{and:l.and,between:l.between,eq:l.eq,exists:l.exists,gt:l.gt,gte:l.gte,ilike:l.ilike,inArray:l.inArray,isNull:l.isNull,isNotNull:l.isNotNull,like:l.like,lt:l.lt,lte:l.lte,ne:l.ne,not:l.not,notBetween:l.notBetween,notExists:l.notExists,notLike:l.notLike,notIlike:l.notIlike,notInArray:l.notInArray,or:l.or,sql:a.sql}}function y(){return{sql:a.sql,asc:s.asc,desc:s.desc}}function b(e,n){1===Object.keys(e).length&&"default"in e&&!(0,r.is)(e.default,t.Table)&&(e=e.default);let l={},s={},a={};for(let[o,c]of Object.entries(e))if((0,r.is)(c,t.Table)){let e=(0,t.getTableUniqueName)(c),n=s[e];for(let r of(l[e]=o,a[o]={tsName:o,dbName:c[t.Table.Symbol.Name],schema:c[t.Table.Symbol.Schema],columns:c[t.Table.Symbol.Columns],relations:n?.relations??{},primaryKey:n?.primaryKey??[]},Object.values(c[t.Table.Symbol.Columns])))r.primary&&a[o].primaryKey.push(r);let u=c[t.Table.Symbol.ExtraConfigBuilder]?.(c[t.Table.Symbol.ExtraConfigColumns]);if(u)for(let e of Object.values(u))(0,r.is)(e,i.PrimaryKeyBuilder)&&a[o].primaryKey.push(...e.columns)}else if((0,r.is)(c,u)){let e,r=(0,t.getTableUniqueName)(c.table),i=l[r];for(let[t,l]of Object.entries(c.config(n(c.table))))if(i){let n=a[i];n.relations[t]=l,e&&n.primaryKey.push(...e)}else r in s||(s[r]={relations:{},primaryKey:e}),s[r].relations[t]=l}return{tables:a,tableNamesMap:l}}function h(e,t){return new u(e,e=>Object.fromEntries(Object.entries(t(e)).map(([e,t])=>[e,t.withFieldName(e)])))}function d(e){return function(t,n){return new c(e,t,n,n?.fields.reduce((e,t)=>e&&t.notNull,!0)??!1)}}function g(e){return function(t,n){return new f(e,t,n)}}function $(e,n,i){if((0,r.is)(i,c)&&i.config)return{fields:i.config.fields,references:i.config.references};let l=n[(0,t.getTableUniqueName)(i.referencedTable)];if(!l)throw Error(`Table "${i.referencedTable[t.Table.Symbol.Name]}" not found in schema`);let s=e[l];if(!s)throw Error(`Table "${l}" not found in schema`);let a=i.sourceTable,o=n[(0,t.getTableUniqueName)(a)];if(!o)throw Error(`Table "${a[t.Table.Symbol.Name]}" not found in schema`);let u=[];for(let e of Object.values(s.relations))(i.relationName&&i!==e&&e.relationName===i.relationName||!i.relationName&&e.referencedTable===i.sourceTable)&&u.push(e);if(u.length>1)throw i.relationName?Error(`There are multiple relations with name "${i.relationName}" in table "${l}"`):Error(`There are multiple relations between "${l}" and "${i.sourceTable[t.Table.Symbol.Name]}". Please specify relation name`);if(u[0]&&(0,r.is)(u[0],c)&&u[0].config)return{fields:u[0].config.references,references:u[0].config.fields};throw Error(`There is not enough information to infer relation "${o}.${i.fieldName}"`)}function w(e){return{one:d(e),many:g(e)}}e.s(["Many",()=>f,"One",()=>c,"Relation",()=>o,"Relations",()=>u,"createMany",()=>g,"createOne",()=>d,"createTableRelationsHelpers",()=>w,"extractTablesRelationalConfig",()=>b,"getOperators",()=>m,"getOrderByOperators",()=>y,"mapRelationalRow",()=>function e(t,i,l,s,o=e=>e){let u={};for(let[f,m]of s.entries())if(m.isJson){let n=i.relations[m.tsKey],s=l[f],a="string"==typeof s?JSON.parse(s):s;u[m.tsKey]=(0,r.is)(n,c)?a&&e(t,t[m.relationTableTsKey],a,m.selection,o):a.map(n=>e(t,t[m.relationTableTsKey],n,m.selection,o))}else{let e,t=o(l[f]),i=m.field;e=(0,r.is)(i,n.Column)?i:(0,r.is)(i,a.SQL)?i.decoder:i.sql.decoder,u[m.tsKey]=null===t?null:e.mapFromDriverValue(t)}return u},"normalizeRelation",()=>$,"relations",()=>h])}];

//# sourceMappingURL=node_modules_drizzle-orm_33f28023._.js.map
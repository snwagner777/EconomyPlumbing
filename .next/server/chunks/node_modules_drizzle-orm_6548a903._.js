module.exports=[844988,e=>{"use strict";let t=Symbol.for("drizzle:entityKind");function n(e,n){if(!e||"object"!=typeof e)return!1;if(e instanceof n)return!0;if(!Object.prototype.hasOwnProperty.call(n,t))throw Error(`Class "${n.name??"<unknown>"}" doesn't look like a Drizzle entity. If this is incorrect and the class is provided by Drizzle, please report this as a bug.`);let i=Object.getPrototypeOf(e).constructor;if(i)for(;i;){if(t in i&&i[t]===n[t])return!0;i=Object.getPrototypeOf(i)}return!1}Symbol.for("drizzle:hasOwnEntityKind"),e.s(["entityKind",()=>t,"is",()=>n])},156325,e=>{"use strict";var t=e.i(844988);class n{constructor(e,t){this.table=e,this.config=t,this.name=t.name,this.keyAsName=t.keyAsName,this.notNull=t.notNull,this.default=t.default,this.defaultFn=t.defaultFn,this.onUpdateFn=t.onUpdateFn,this.hasDefault=t.hasDefault,this.primary=t.primaryKey,this.isUnique=t.isUnique,this.uniqueName=t.uniqueName,this.uniqueType=t.uniqueType,this.dataType=t.dataType,this.columnType=t.columnType,this.generated=t.generated,this.generatedIdentity=t.generatedIdentity}static [t.entityKind]="Column";name;keyAsName;primary;notNull;default;defaultFn;onUpdateFn;hasDefault;isUnique;uniqueName;uniqueType;dataType;columnType;enumValues=void 0;generated=void 0;generatedIdentity=void 0;config;mapFromDriverValue(e){return e}mapToDriverValue(e){return e}shouldDisableInsert(){return void 0!==this.config.generated&&"byDefault"!==this.config.generated.type}}e.s(["Column",()=>n])},643179,e=>{"use strict";var t=e.i(844988);class n{static [t.entityKind]="ColumnBuilder";config;constructor(e,t,n){this.config={name:e,keyAsName:""===e,notNull:!1,default:void 0,hasDefault:!1,primaryKey:!1,isUnique:!1,uniqueName:void 0,uniqueType:void 0,dataType:t,columnType:n,generated:void 0}}$type(){return this}notNull(){return this.config.notNull=!0,this}default(e){return this.config.default=e,this.config.hasDefault=!0,this}$defaultFn(e){return this.config.defaultFn=e,this.config.hasDefault=!0,this}$default=this.$defaultFn;$onUpdateFn(e){return this.config.onUpdateFn=e,this.config.hasDefault=!0,this}$onUpdate=this.$onUpdateFn;primaryKey(){return this.config.primaryKey=!0,this.config.notNull=!0,this}setName(e){""===this.config.name&&(this.config.name=e)}}e.s(["ColumnBuilder",()=>n])},518899,304775,792352,722360,88274,369e3,704313,e=>{"use strict";let t,n;var i,r=e.i(844988),s=e.i(643179),o=e.i(156325);let u=Symbol.for("drizzle:Name");class l{static [r.entityKind]="PgForeignKeyBuilder";reference;_onUpdate="no action";_onDelete="no action";constructor(e,t){this.reference=()=>{let{name:t,columns:n,foreignColumns:i}=e();return{name:t,columns:n,foreignTable:i[0].table,foreignColumns:i}},t&&(this._onUpdate=t.onUpdate,this._onDelete=t.onDelete)}onUpdate(e){return this._onUpdate=void 0===e?"no action":e,this}onDelete(e){return this._onDelete=void 0===e?"no action":e,this}build(e){return new a(e,this)}}class a{constructor(e,t){this.table=e,this.reference=t.reference,this.onUpdate=t._onUpdate,this.onDelete=t._onDelete}static [r.entityKind]="PgForeignKey";reference;onUpdate;onDelete;getName(){let{name:e,columns:t,foreignColumns:n}=this.reference(),i=t.map(e=>e.name),r=n.map(e=>e.name),s=[this.table[u],...i,n[0].table[u],...r];return e??`${s.join("_")}_fk`}}function c(e,...t){return e(...t)}function d(e,t){return`${e[u]}_${t.join("_")}_unique`}class m{constructor(e,t){this.name=t,this.columns=e}static [r.entityKind]="PgUniqueConstraintBuilder";columns;nullsNotDistinctConfig=!1;nullsNotDistinct(){return this.nullsNotDistinctConfig=!0,this}build(e){return new f(e,this.columns,this.nullsNotDistinctConfig,this.name)}}class g{static [r.entityKind]="PgUniqueOnConstraintBuilder";name;constructor(e){this.name=e}on(...e){return new m(e,this.name)}}class f{constructor(e,t,n,i){this.table=e,this.columns=t,this.name=i??d(this.table,this.columns.map(e=>e.name)),this.nullsNotDistinct=n}static [r.entityKind]="PgUniqueConstraint";columns;name;nullsNotDistinct=!1;getName(){return this.name}}function p(e,t,n){for(let i=t;i<e.length;i++){let r=e[i];if("\\"===r){i++;continue}if('"'===r)return[e.slice(t,i).replace(/\\/g,""),i+1];if(!n&&(","===r||"}"===r))return[e.slice(t,i).replace(/\\/g,""),i]}return[e.slice(t).replace(/\\/g,""),e.length]}class h extends s.ColumnBuilder{foreignKeyConfigs=[];static [r.entityKind]="PgColumnBuilder";array(e){return new C(this.config.name,this,e)}references(e,t={}){return this.foreignKeyConfigs.push({ref:e,actions:t}),this}unique(e,t){return this.config.isUnique=!0,this.config.uniqueName=e,this.config.uniqueType=t?.nulls,this}generatedAlwaysAs(e){return this.config.generated={as:e,type:"always",mode:"stored"},this}buildForeignKeys(e,t){return this.foreignKeyConfigs.map(({ref:n,actions:i})=>c((n,i)=>{let r=new l(()=>({columns:[e],foreignColumns:[n()]}));return i.onUpdate&&r.onUpdate(i.onUpdate),i.onDelete&&r.onDelete(i.onDelete),r.build(t)},n,i))}buildExtraConfigColumn(e){return new P(e,this.config)}}class y extends o.Column{constructor(e,t){t.uniqueName||(t.uniqueName=d(e,[t.name])),super(e,t),this.table=e}static [r.entityKind]="PgColumn"}class P extends y{static [r.entityKind]="ExtraConfigColumn";getSQLType(){return this.getSQLType()}indexConfig={order:this.config.order??"asc",nulls:this.config.nulls??"last",opClass:this.config.opClass};defaultConfig={order:"asc",nulls:"last",opClass:void 0};asc(){return this.indexConfig.order="asc",this}desc(){return this.indexConfig.order="desc",this}nullsFirst(){return this.indexConfig.nulls="first",this}nullsLast(){return this.indexConfig.nulls="last",this}op(e){return this.indexConfig.opClass=e,this}}class b{static [r.entityKind]="IndexedColumn";constructor(e,t,n,i){this.name=e,this.keyAsName=t,this.type=n,this.indexConfig=i}name;keyAsName;type;indexConfig}class C extends h{static [r.entityKind]="PgArrayBuilder";constructor(e,t,n){super(e,"array","PgArray"),this.config.baseBuilder=t,this.config.size=n}build(e){let t=this.config.baseBuilder.build(e);return new w(e,this.config,t)}}class w extends y{constructor(e,t,n,i){super(e,t),this.baseColumn=n,this.range=i,this.size=t.size}size;static [r.entityKind]="PgArray";getSQLType(){return`${this.baseColumn.getSQLType()}[${"number"==typeof this.size?this.size:""}]`}mapFromDriverValue(e){return"string"==typeof e&&(e=function(e){let[t]=function e(t,n=0){let i=[],r=n,s=!1;for(;r<t.length;){let o=t[r];if(","===o){(s||r===n)&&i.push(""),s=!0,r++;continue}if(s=!1,"\\"===o){r+=2;continue}if('"'===o){let[e,n]=p(t,r+1,!0);i.push(e),r=n;continue}if("}"===o)return[i,r+1];if("{"===o){let[n,s]=e(t,r+1);i.push(n),r=s;continue}let[u,l]=p(t,r,!1);i.push(u),r=l}return[i,r]}(e,1);return t}(e)),e.map(e=>this.baseColumn.mapFromDriverValue(e))}mapToDriverValue(e,t=!1){let n=e.map(e=>null===e?null:(0,r.is)(this.baseColumn,w)?this.baseColumn.mapToDriverValue(e,!0):this.baseColumn.mapToDriverValue(e));return t?n:function e(t){return`{${t.map(t=>Array.isArray(t)?e(t):"string"==typeof t?`"${t.replace(/\\/g,"\\\\").replace(/"/g,'\\"')}"`:`${t}`).join(",")}}`}(n)}}e.s(["IndexedColumn",()=>b,"PgColumn",()=>y,"PgColumnBuilder",()=>h],304775);let S=Symbol.for("drizzle:isPgEnum");class v extends h{static [r.entityKind]="PgEnumColumnBuilder";constructor(e,t){super(e,"string","PgEnumColumn"),this.config.enum=t}build(e){return new T(e,this.config)}}class T extends y{static [r.entityKind]="PgEnumColumn";enum=this.config.enum;enumValues=this.config.enum.enumValues;constructor(e,t){super(e,t),this.enum=t.enum}getSQLType(){return this.enum.enumName}}class B{static [r.entityKind]="Subquery";constructor(e,t,n,i=!1){this._={brand:"Subquery",sql:e,selectedFields:t,alias:n,isWith:i}}}class x extends B{static [r.entityKind]="WithSubquery"}e.s(["Subquery",()=>B,"WithSubquery",()=>x],792352);let K={startActiveSpan:(e,i)=>t?(n||(n=t.trace.getTracer("drizzle-orm","0.39.1")),c((t,n)=>n.startActiveSpan(e,e=>{try{return i(e)}catch(n){throw e.setStatus({code:t.SpanStatusCode.ERROR,message:n instanceof Error?n.message:"Unknown error"}),n}finally{e.end()}}),t,n)):i()};e.s(["tracer",()=>K],722360);let D=Symbol.for("drizzle:ViewBaseConfig");e.s(["ViewBaseConfig",()=>D],88274);let N=Symbol.for("drizzle:Schema"),V=Symbol.for("drizzle:Columns"),F=Symbol.for("drizzle:ExtraConfigColumns"),z=Symbol.for("drizzle:OriginalName"),L=Symbol.for("drizzle:BaseName"),Q=Symbol.for("drizzle:IsAlias"),q=Symbol.for("drizzle:ExtraConfigBuilder"),A=Symbol.for("drizzle:IsDrizzleTable");class j{static [r.entityKind]="Table";static Symbol={Name:u,Schema:N,OriginalName:z,Columns:V,ExtraConfigColumns:F,BaseName:L,IsAlias:Q,ExtraConfigBuilder:q};[u];[z];[N];[V];[F];[L];[Q]=!1;[A]=!0;[q]=void 0;constructor(e,t,n){this[u]=this[z]=e,this[N]=t,this[L]=n}}function I(e){return"object"==typeof e&&null!==e&&A in e}function $(e){return e[u]}function O(e){return`${e[N]??"public"}.${e[u]}`}e.s(["Columns",()=>V,"IsAlias",()=>Q,"Table",()=>j,"getTableName",()=>$,"getTableUniqueName",()=>O,"isTable",()=>I],369e3);class U{static [r.entityKind]="FakePrimitiveParam"}function E(e){return null!=e&&"function"==typeof e.getSQL}class k{static [r.entityKind]="StringChunk";value;constructor(e){this.value=Array.isArray(e)?e:[e]}getSQL(){return new _([this])}}class _{constructor(e){this.queryChunks=e}static [r.entityKind]="SQL";decoder=M;shouldInlineParams=!1;append(e){return this.queryChunks.push(...e.queryChunks),this}toQuery(e){return K.startActiveSpan("drizzle.buildSQL",t=>{let n=this.buildQueryFromSourceParams(this.queryChunks,e);return t?.setAttributes({"drizzle.query.text":n.sql,"drizzle.query.params":JSON.stringify(n.params)}),n})}buildQueryFromSourceParams(e,t){let n=Object.assign({},t,{inlineParams:t.inlineParams||this.shouldInlineParams,paramStartIndex:t.paramStartIndex||{value:0}}),{casing:i,escapeName:s,escapeParam:u,prepareTyping:l,inlineParams:a,paramStartIndex:c}=n;var d=e.map(e=>{if((0,r.is)(e,k))return{sql:e.value.join(""),params:[]};if((0,r.is)(e,J))return{sql:s(e.value),params:[]};if(void 0===e)return{sql:"",params:[]};if(Array.isArray(e)){let t=[new k("(")];for(let[n,i]of e.entries())t.push(i),n<e.length-1&&t.push(new k(", "));return t.push(new k(")")),this.buildQueryFromSourceParams(t,n)}if((0,r.is)(e,_))return this.buildQueryFromSourceParams(e.queryChunks,{...n,inlineParams:a||e.shouldInlineParams});if((0,r.is)(e,j)){let t=e[j.Symbol.Schema],n=e[j.Symbol.Name];return{sql:void 0===t||e[Q]?s(n):s(t)+"."+s(n),params:[]}}if((0,r.is)(e,o.Column)){let n=i.getColumnCasing(e);if("indexes"===t.invokeSource)return{sql:s(n),params:[]};let r=e.table[j.Symbol.Schema];return{sql:e.table[Q]||void 0===r?s(e.table[j.Symbol.Name])+"."+s(n):s(r)+"."+s(e.table[j.Symbol.Name])+"."+s(n),params:[]}}if((0,r.is)(e,en)){let t=e[D].schema,n=e[D].name;return{sql:void 0===t||e[D].isAlias?s(n):s(t)+"."+s(n),params:[]}}if((0,r.is)(e,W)){if((0,r.is)(e.value,Z))return{sql:u(c.value++,e),params:[e],typings:["none"]};let t=null===e.value?null:e.encoder.mapToDriverValue(e.value);if((0,r.is)(t,_))return this.buildQueryFromSourceParams([t],n);if(a)return{sql:this.mapInlineParam(t,n),params:[]};let i=["none"];return l&&(i=[l(e.encoder)]),{sql:u(c.value++,t),params:[t],typings:i}}return(0,r.is)(e,Z)?{sql:u(c.value++,e),params:[e],typings:["none"]}:(0,r.is)(e,_.Aliased)&&void 0!==e.fieldAlias?{sql:s(e.fieldAlias),params:[]}:(0,r.is)(e,B)?e._.isWith?{sql:s(e._.alias),params:[]}:this.buildQueryFromSourceParams([new k("("),e._.sql,new k(") "),new J(e._.alias)],n):e&&"function"==typeof e&&S in e&&!0===e[S]?e.schema?{sql:s(e.schema)+"."+s(e.enumName),params:[]}:{sql:s(e.enumName),params:[]}:E(e)?e.shouldOmitSQLParens?.()?this.buildQueryFromSourceParams([e.getSQL()],n):this.buildQueryFromSourceParams([new k("("),e.getSQL(),new k(")")],n):a?{sql:this.mapInlineParam(e,n),params:[]}:{sql:u(c.value++,e),params:[e],typings:["none"]}});let m={sql:"",params:[]};for(let e of d)m.sql+=e.sql,m.params.push(...e.params),e.typings?.length&&(m.typings||(m.typings=[]),m.typings.push(...e.typings));return m}mapInlineParam(e,{escapeString:t}){if(null===e)return"null";if("number"==typeof e||"boolean"==typeof e)return e.toString();if("string"==typeof e)return t(e);if("object"==typeof e){let n=e.toString();return"[object Object]"===n?t(JSON.stringify(e)):t(n)}throw Error("Unexpected param value: "+e)}getSQL(){return this}as(e){return void 0===e?this:new _.Aliased(this,e)}mapWith(e){return this.decoder="function"==typeof e?{mapFromDriverValue:e}:e,this}inlineParams(){return this.shouldInlineParams=!0,this}if(e){return e?this:void 0}}class J{constructor(e){this.value=e}static [r.entityKind]="Name";brand;getSQL(){return new _([this])}}function R(e){return"object"==typeof e&&null!==e&&"mapToDriverValue"in e&&"function"==typeof e.mapToDriverValue}let M={mapFromDriverValue:e=>e},G={mapToDriverValue:e=>e};({...M,...G});class W{constructor(e,t=G){this.value=e,this.encoder=t}static [r.entityKind]="Param";brand;getSQL(){return new _([this])}}function H(e,...t){let n=[];for(let[i,r]of((t.length>0||e.length>0&&""!==e[0])&&n.push(new k(e[0])),t.entries()))n.push(r,new k(e[i+1]));return new _(n)}(i=H||(H={})).empty=function(){return new _([])},i.fromList=function(e){return new _(e)},i.raw=function(e){return new _([new k(e)])},i.join=function(e,t){let n=[];for(let[i,r]of e.entries())i>0&&void 0!==t&&n.push(t),n.push(r);return new _(n)},i.identifier=function(e){return new J(e)},i.placeholder=function(e){return new Z(e)},i.param=function(e,t){return new W(e,t)};var X=_||(_={});class Y{constructor(e,t){this.sql=e,this.fieldAlias=t}static [r.entityKind]="SQL.Aliased";isSelectionField=!1;getSQL(){return this.sql}clone(){return new Y(this.sql,this.fieldAlias)}}X.Aliased=Y;class Z{constructor(e){this.name=e}static [r.entityKind]="Placeholder";getSQL(){return new _([this])}}function ee(e,t){return e.map(e=>{if((0,r.is)(e,Z)){if(!(e.name in t))throw Error(`No value for placeholder "${e.name}" was provided`);return t[e.name]}if((0,r.is)(e,W)&&(0,r.is)(e.value,Z)){if(!(e.value.name in t))throw Error(`No value for placeholder "${e.value.name}" was provided`);return e.encoder.mapToDriverValue(t[e.value.name])}return e})}let et=Symbol.for("drizzle:IsDrizzleView");class en{static [r.entityKind]="View";[D];[et]=!0;constructor({name:e,schema:t,selectedFields:n,query:i}){this[D]={name:e,originalName:e,schema:t,selectedFields:n,query:i,isExisting:!i,isAlias:!1}}getSQL(){return new _([this])}}function ei(e){return"object"==typeof e&&null!==e&&et in e}function er(e,t,n){let i={},s=e.reduce((e,{path:s,field:l},a)=>{let c;c=(0,r.is)(l,o.Column)?l:(0,r.is)(l,_)?l.decoder:l.sql.decoder;let d=e;for(let[e,m]of s.entries())if(e<s.length-1)m in d||(d[m]={}),d=d[m];else{let e=t[a],g=d[m]=null===e?null:c.mapFromDriverValue(e);if(n&&(0,r.is)(l,o.Column)&&2===s.length){let e=s[0];e in i?"string"==typeof i[e]&&i[e]!==l.table[u]&&(i[e]=!1):i[e]=null===g&&l.table[u]}}return e},{});if(n&&Object.keys(i).length>0)for(let[e,t]of Object.entries(i))"string"!=typeof t||n[t]||(s[e]=null);return s}function es(e,t){let n=Object.keys(e),i=Object.keys(t);if(n.length!==i.length)return!1;for(let[e,t]of n.entries())if(t!==i[e])return!1;return!0}function eo(e,t){let n=Object.entries(t).filter(([,e])=>void 0!==e).map(([t,n])=>(0,r.is)(n,_)||(0,r.is)(n,o.Column)?[t,n]:[t,new W(n,e[j.Symbol.Columns][t])]);if(0===n.length)throw Error("No values to set");return Object.fromEntries(n)}function eu(e,t){for(let n of t)for(let t of Object.getOwnPropertyNames(n.prototype))"constructor"!==t&&Object.defineProperty(e.prototype,t,Object.getOwnPropertyDescriptor(n.prototype,t)||Object.create(null))}function el(e){return e[j.Symbol.Columns]}function ea(e){return e[D].selectedFields}function ec(e){return(0,r.is)(e,B)?e._.alias:(0,r.is)(e,en)?e[D].name:(0,r.is)(e,_)?void 0:e[j.Symbol.IsAlias]?e[j.Symbol.Name]:e[j.Symbol.BaseName]}function ed(e,t){return{name:"string"==typeof e&&e.length>0?e:"",config:"object"==typeof e?e:t}}function em(e){if("object"!=typeof e||null===e||"Object"!==e.constructor.name)return!1;if("logger"in e){let t=typeof e.logger;return"boolean"===t||"object"===t&&"function"==typeof e.logger.logQuery||"undefined"===t}if("schema"in e){let t=typeof e.logger;return"object"===t||"undefined"===t}if("casing"in e){let t=typeof e.logger;return"string"===t||"undefined"===t}if("mode"in e)return"default"===e.mode&&"planetscale"===e.mode&&void 0===e.mode;if("connection"in e){let t=typeof e.connection;return"string"===t||"object"===t||"undefined"===t}if("client"in e){let t=typeof e.client;return"object"===t||"function"===t||"undefined"===t}return 0===Object.keys(e).length}o.Column.prototype.getSQL=function(){return new _([this])},j.prototype.getSQL=function(){return new _([this])},B.prototype.getSQL=function(){return new _([this])},e.s(["Param",()=>W,"Placeholder",()=>Z,"SQL",()=>_,"StringChunk",()=>k,"View",()=>en,"fillPlaceholders",()=>ee,"isDriverValueEncoder",()=>R,"isSQLWrapper",()=>E,"isView",()=>ei,"sql",()=>H],518899),e.s(["applyMixins",()=>eu,"getColumnNameAndConfig",()=>ed,"getTableColumns",()=>el,"getTableLikeName",()=>ec,"getViewSelectedFields",()=>ea,"haveSameKeys",()=>es,"isConfig",()=>em,"mapResultRow",()=>er,"mapUpdateSet",()=>eo,"orderSelectedFields",()=>function e(t,n){return Object.entries(t).reduce((t,[i,s])=>{if("string"!=typeof i)return t;let u=n?[...n,i]:[i];return(0,r.is)(s,o.Column)||(0,r.is)(s,_)||(0,r.is)(s,_.Aliased)?t.push({path:u,field:s}):(0,r.is)(s,j)?t.push(...e(s[j.Symbol.Columns],u)):t.push(...e(s,u)),t},[])}],704313)},556923,441248,e=>{"use strict";var t=e.i(844988),n=e.i(704313),i=e.i(304775),r=e.i(518899),s=i;class o extends s.PgColumnBuilder{static [t.entityKind]="PgDateColumnBaseBuilder";defaultNow(){return this.default(r.sql`now()`)}}e.s(["PgDateColumnBaseBuilder",()=>o],441248);class u extends o{static [t.entityKind]="PgDateBuilder";constructor(e){super(e,"date","PgDate")}build(e){return new l(e,this.config)}}class l extends i.PgColumn{static [t.entityKind]="PgDate";getSQLType(){return"date"}mapFromDriverValue(e){return new Date(e)}mapToDriverValue(e){return e.toISOString()}}class a extends o{static [t.entityKind]="PgDateStringBuilder";constructor(e){super(e,"string","PgDateString")}build(e){return new c(e,this.config)}}class c extends i.PgColumn{static [t.entityKind]="PgDateString";getSQLType(){return"date"}}function d(e,t){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return r?.mode==="date"?new u(i):new a(i)}e.s(["PgDate",()=>l,"PgDateString",()=>c,"date",()=>d],556923)},501727,438257,e=>{"use strict";var t=e.i(844988),n=e.i(304775);class i extends n.PgColumnBuilder{static [t.entityKind]="PgJsonBuilder";constructor(e){super(e,"json","PgJson")}build(e){return new r(e,this.config)}}class r extends n.PgColumn{static [t.entityKind]="PgJson";constructor(e,t){super(e,t)}getSQLType(){return"json"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function s(e){return new i(e??"")}e.s(["PgJson",()=>r,"json",()=>s],501727);var o=n;class u extends o.PgColumnBuilder{static [t.entityKind]="PgJsonbBuilder";constructor(e){super(e,"json","PgJsonb")}build(e){return new l(e,this.config)}}class l extends o.PgColumn{static [t.entityKind]="PgJsonb";constructor(e,t){super(e,t)}getSQLType(){return"jsonb"}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){if("string"==typeof e)try{return JSON.parse(e)}catch{}return e}}function a(e){return new u(e??"")}e.s(["PgJsonb",()=>l,"jsonb",()=>a],438257)},848209,e=>{"use strict";var t=e.i(844988),n=e.i(704313),i=e.i(304775);class r extends i.PgColumnBuilder{static [t.entityKind]="PgNumericBuilder";constructor(e,t,n){super(e,"string","PgNumeric"),this.config.precision=t,this.config.scale=n}build(e){return new s(e,this.config)}}class s extends i.PgColumn{static [t.entityKind]="PgNumeric";precision;scale;constructor(e,t){super(e,t),this.precision=t.precision,this.scale=t.scale}getSQLType(){return void 0!==this.precision&&void 0!==this.scale?`numeric(${this.precision}, ${this.scale})`:void 0===this.precision?"numeric":`numeric(${this.precision})`}}function o(e,t){let{name:i,config:s}=(0,n.getColumnNameAndConfig)(e,t);return new r(i,s?.precision,s?.scale)}e.s(["PgNumeric",()=>s,"numeric",()=>o])},593486,303090,467751,e=>{"use strict";var t=e.i(844988),n=e.i(704313),i=e.i(304775),r=e.i(441248);class s extends r.PgDateColumnBaseBuilder{constructor(e,t,n){super(e,"string","PgTime"),this.withTimezone=t,this.precision=n,this.config.withTimezone=t,this.config.precision=n}static [t.entityKind]="PgTimeBuilder";build(e){return new o(e,this.config)}}class o extends i.PgColumn{static [t.entityKind]="PgTime";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`time${e}${this.withTimezone?" with time zone":""}`}}function u(e,t={}){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return new s(i,r.withTimezone??!1,r.precision)}e.s(["PgTime",()=>o,"time",()=>u],593486);var l=i,a=r;class c extends a.PgDateColumnBaseBuilder{static [t.entityKind]="PgTimestampBuilder";constructor(e,t,n){super(e,"date","PgTimestamp"),this.config.withTimezone=t,this.config.precision=n}build(e){return new d(e,this.config)}}class d extends l.PgColumn{static [t.entityKind]="PgTimestamp";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":` (${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}mapFromDriverValue=e=>new Date(this.withTimezone?e:e+"+0000");mapToDriverValue=e=>e.toISOString()}class m extends a.PgDateColumnBaseBuilder{static [t.entityKind]="PgTimestampStringBuilder";constructor(e,t,n){super(e,"string","PgTimestampString"),this.config.withTimezone=t,this.config.precision=n}build(e){return new g(e,this.config)}}class g extends l.PgColumn{static [t.entityKind]="PgTimestampString";withTimezone;precision;constructor(e,t){super(e,t),this.withTimezone=t.withTimezone,this.precision=t.precision}getSQLType(){let e=void 0===this.precision?"":`(${this.precision})`;return`timestamp${e}${this.withTimezone?" with time zone":""}`}}function f(e,t={}){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return r?.mode==="string"?new m(i,r.withTimezone??!1,r.precision):new c(i,r?.withTimezone??!1,r?.precision)}e.s(["PgTimestamp",()=>d,"PgTimestampString",()=>g,"timestamp",()=>f],303090);var p=e.i(518899),h=i;class y extends h.PgColumnBuilder{static [t.entityKind]="PgUUIDBuilder";constructor(e){super(e,"string","PgUUID")}defaultRandom(){return this.default(p.sql`gen_random_uuid()`)}build(e){return new P(e,this.config)}}class P extends h.PgColumn{static [t.entityKind]="PgUUID";getSQLType(){return"uuid"}}function b(e){return new y(e??"")}e.s(["PgUUID",()=>P,"uuid",()=>b],467751)},690429,29714,712122,802847,137054,982060,112592,e=>{"use strict";var t=e.i(844988),n=e.i(704313),i=e.i(304775),r=i;class s extends r.PgColumnBuilder{static [t.entityKind]="PgIntColumnBaseBuilder";generatedAlwaysAsIdentity(e){if(e){let{name:t,...n}=e;this.config.generatedIdentity={type:"always",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"always"};return this.config.hasDefault=!0,this.config.notNull=!0,this}generatedByDefaultAsIdentity(e){if(e){let{name:t,...n}=e;this.config.generatedIdentity={type:"byDefault",sequenceName:t,sequenceOptions:n}}else this.config.generatedIdentity={type:"byDefault"};return this.config.hasDefault=!0,this.config.notNull=!0,this}}e.s(["PgIntColumnBaseBuilder",()=>s],29714);class o extends s{static [t.entityKind]="PgBigInt53Builder";constructor(e){super(e,"number","PgBigInt53")}build(e){return new u(e,this.config)}}class u extends i.PgColumn{static [t.entityKind]="PgBigInt53";getSQLType(){return"bigint"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class l extends s{static [t.entityKind]="PgBigInt64Builder";constructor(e){super(e,"bigint","PgBigInt64")}build(e){return new a(e,this.config)}}class a extends i.PgColumn{static [t.entityKind]="PgBigInt64";getSQLType(){return"bigint"}mapFromDriverValue(e){return BigInt(e)}}function c(e,t){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return"number"===r.mode?new o(i):new l(i)}e.s(["bigint",()=>c],690429);var d=i;class m extends d.PgColumnBuilder{static [t.entityKind]="PgBigSerial53Builder";constructor(e){super(e,"number","PgBigSerial53"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new g(e,this.config)}}class g extends d.PgColumn{static [t.entityKind]="PgBigSerial53";getSQLType(){return"bigserial"}mapFromDriverValue(e){return"number"==typeof e?e:Number(e)}}class f extends d.PgColumnBuilder{static [t.entityKind]="PgBigSerial64Builder";constructor(e){super(e,"bigint","PgBigSerial64"),this.config.hasDefault=!0}build(e){return new p(e,this.config)}}class p extends d.PgColumn{static [t.entityKind]="PgBigSerial64";getSQLType(){return"bigserial"}mapFromDriverValue(e){return BigInt(e)}}function h(e,t){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return"number"===r.mode?new m(i):new f(i)}e.s(["bigserial",()=>h],712122);var y=i;class P extends y.PgColumnBuilder{static [t.entityKind]="PgBooleanBuilder";constructor(e){super(e,"boolean","PgBoolean")}build(e){return new b(e,this.config)}}class b extends y.PgColumn{static [t.entityKind]="PgBoolean";getSQLType(){return"boolean"}}function C(e){return new P(e??"")}e.s(["boolean",()=>C],802847);var w=i;class S extends w.PgColumnBuilder{static [t.entityKind]="PgCharBuilder";constructor(e,t){super(e,"string","PgChar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new v(e,this.config)}}class v extends w.PgColumn{static [t.entityKind]="PgChar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"char":`char(${this.length})`}}function T(e,t={}){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return new S(i,r)}e.s(["char",()=>T],137054);var B=i;class x extends B.PgColumnBuilder{static [t.entityKind]="PgCidrBuilder";constructor(e){super(e,"string","PgCidr")}build(e){return new K(e,this.config)}}class K extends B.PgColumn{static [t.entityKind]="PgCidr";getSQLType(){return"cidr"}}function D(e){return new x(e??"")}e.s(["cidr",()=>D],982060);var N=i;class V extends N.PgColumnBuilder{static [t.entityKind]="PgCustomColumnBuilder";constructor(e,t,n){super(e,"custom","PgCustomColumn"),this.config.fieldConfig=t,this.config.customTypeParams=n}build(e){return new F(e,this.config)}}class F extends N.PgColumn{static [t.entityKind]="PgCustomColumn";sqlName;mapTo;mapFrom;constructor(e,t){super(e,t),this.sqlName=t.customTypeParams.dataType(t.fieldConfig),this.mapTo=t.customTypeParams.toDriver,this.mapFrom=t.customTypeParams.fromDriver}getSQLType(){return this.sqlName}mapFromDriverValue(e){return"function"==typeof this.mapFrom?this.mapFrom(e):e}mapToDriverValue(e){return"function"==typeof this.mapTo?this.mapTo(e):e}}function z(e){return(t,i)=>{let{name:r,config:s}=(0,n.getColumnNameAndConfig)(t,i);return new V(r,s,e)}}e.s(["customType",()=>z],112592)},613262,656573,870988,296,e=>{"use strict";var t=e.i(844988),n=e.i(304775);class i extends n.PgColumnBuilder{static [t.entityKind]="PgDoublePrecisionBuilder";constructor(e){super(e,"number","PgDoublePrecision")}build(e){return new r(e,this.config)}}class r extends n.PgColumn{static [t.entityKind]="PgDoublePrecision";getSQLType(){return"double precision"}mapFromDriverValue(e){return"string"==typeof e?Number.parseFloat(e):e}}function s(e){return new i(e??"")}e.s(["doublePrecision",()=>s],613262);var o=n;class u extends o.PgColumnBuilder{static [t.entityKind]="PgInetBuilder";constructor(e){super(e,"string","PgInet")}build(e){return new l(e,this.config)}}class l extends o.PgColumn{static [t.entityKind]="PgInet";getSQLType(){return"inet"}}function a(e){return new u(e??"")}e.s(["inet",()=>a],656573);var c=n,d=e.i(29714);class m extends d.PgIntColumnBaseBuilder{static [t.entityKind]="PgIntegerBuilder";constructor(e){super(e,"number","PgInteger")}build(e){return new g(e,this.config)}}class g extends c.PgColumn{static [t.entityKind]="PgInteger";getSQLType(){return"integer"}mapFromDriverValue(e){return"string"==typeof e?Number.parseInt(e):e}}function f(e){return new m(e??"")}e.s(["integer",()=>f],870988);var p=e.i(704313),h=n;class y extends h.PgColumnBuilder{static [t.entityKind]="PgIntervalBuilder";constructor(e,t){super(e,"string","PgInterval"),this.config.intervalConfig=t}build(e){return new P(e,this.config)}}class P extends h.PgColumn{static [t.entityKind]="PgInterval";fields=this.config.intervalConfig.fields;precision=this.config.intervalConfig.precision;getSQLType(){let e=this.fields?` ${this.fields}`:"",t=this.precision?`(${this.precision})`:"";return`interval${e}${t}`}}function b(e,t={}){let{name:n,config:i}=(0,p.getColumnNameAndConfig)(e,t);return new y(n,i)}e.s(["interval",()=>b],296)},773844,560328,402801,e=>{"use strict";var t=e.i(844988),n=e.i(704313),i=e.i(304775);class r extends i.PgColumnBuilder{static [t.entityKind]="PgLineBuilder";constructor(e){super(e,"array","PgLine")}build(e){return new s(e,this.config)}}class s extends i.PgColumn{static [t.entityKind]="PgLine";getSQLType(){return"line"}mapFromDriverValue(e){let[t,n,i]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n),Number.parseFloat(i)]}mapToDriverValue(e){return`{${e[0]},${e[1]},${e[2]}}`}}class o extends i.PgColumnBuilder{static [t.entityKind]="PgLineABCBuilder";constructor(e){super(e,"json","PgLineABC")}build(e){return new u(e,this.config)}}class u extends i.PgColumn{static [t.entityKind]="PgLineABC";getSQLType(){return"line"}mapFromDriverValue(e){let[t,n,i]=e.slice(1,-1).split(",");return{a:Number.parseFloat(t),b:Number.parseFloat(n),c:Number.parseFloat(i)}}mapToDriverValue(e){return`{${e.a},${e.b},${e.c}}`}}function l(e,t){let{name:i,config:s}=(0,n.getColumnNameAndConfig)(e,t);return s?.mode&&"tuple"!==s.mode?new o(i):new r(i)}e.s(["line",()=>l],773844);var a=i;class c extends a.PgColumnBuilder{static [t.entityKind]="PgMacaddrBuilder";constructor(e){super(e,"string","PgMacaddr")}build(e){return new d(e,this.config)}}class d extends a.PgColumn{static [t.entityKind]="PgMacaddr";getSQLType(){return"macaddr"}}function m(e){return new c(e??"")}e.s(["macaddr",()=>m],560328);var g=i;class f extends g.PgColumnBuilder{static [t.entityKind]="PgMacaddr8Builder";constructor(e){super(e,"string","PgMacaddr8")}build(e){return new p(e,this.config)}}class p extends g.PgColumn{static [t.entityKind]="PgMacaddr8";getSQLType(){return"macaddr8"}}function h(e){return new f(e??"")}e.s(["macaddr8",()=>h],402801)},951324,651204,389705,405694,119398,90352,484259,e=>{"use strict";var t=e.i(844988),n=e.i(704313),i=e.i(304775);class r extends i.PgColumnBuilder{static [t.entityKind]="PgPointTupleBuilder";constructor(e){super(e,"array","PgPointTuple")}build(e){return new s(e,this.config)}}class s extends i.PgColumn{static [t.entityKind]="PgPointTuple";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,n]=e.slice(1,-1).split(",");return[Number.parseFloat(t),Number.parseFloat(n)]}return[e.x,e.y]}mapToDriverValue(e){return`(${e[0]},${e[1]})`}}class o extends i.PgColumnBuilder{static [t.entityKind]="PgPointObjectBuilder";constructor(e){super(e,"json","PgPointObject")}build(e){return new u(e,this.config)}}class u extends i.PgColumn{static [t.entityKind]="PgPointObject";getSQLType(){return"point"}mapFromDriverValue(e){if("string"==typeof e){let[t,n]=e.slice(1,-1).split(",");return{x:Number.parseFloat(t),y:Number.parseFloat(n)}}return e}mapToDriverValue(e){return`(${e.x},${e.y})`}}function l(e,t){let{name:i,config:s}=(0,n.getColumnNameAndConfig)(e,t);return s?.mode&&"tuple"!==s.mode?new o(i):new r(i)}e.s(["point",()=>l],951324);var a=i;function c(e,t){let n=new DataView(new ArrayBuffer(8));for(let i=0;i<8;i++)n.setUint8(i,e[t+i]);return n.getFloat64(0,!0)}function d(e){let t=function(e){let t=[];for(let n=0;n<e.length;n+=2)t.push(Number.parseInt(e.slice(n,n+2),16));return new Uint8Array(t)}(e),n=0,i=t[0];n+=1;let r=new DataView(t.buffer),s=r.getUint32(n,1===i);if(n+=4,0x20000000&s&&(r.getUint32(n,1===i),n+=4),(65535&s)==1){let e=c(t,n),i=c(t,n+=8);return n+=8,[e,i]}throw Error("Unsupported geometry type")}class m extends a.PgColumnBuilder{static [t.entityKind]="PgGeometryBuilder";constructor(e){super(e,"array","PgGeometry")}build(e){return new g(e,this.config)}}class g extends a.PgColumn{static [t.entityKind]="PgGeometry";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){return d(e)}mapToDriverValue(e){return`point(${e[0]} ${e[1]})`}}class f extends a.PgColumnBuilder{static [t.entityKind]="PgGeometryObjectBuilder";constructor(e){super(e,"json","PgGeometryObject")}build(e){return new p(e,this.config)}}class p extends a.PgColumn{static [t.entityKind]="PgGeometryObject";getSQLType(){return"geometry(point)"}mapFromDriverValue(e){let t=d(e);return{x:t[0],y:t[1]}}mapToDriverValue(e){return`point(${e.x} ${e.y})`}}function h(e,t){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return r?.mode&&"tuple"!==r.mode?new f(i):new m(i)}e.s(["geometry",()=>h],651204);var y=i;class P extends y.PgColumnBuilder{static [t.entityKind]="PgRealBuilder";constructor(e,t){super(e,"number","PgReal"),this.config.length=t}build(e){return new b(e,this.config)}}class b extends y.PgColumn{static [t.entityKind]="PgReal";constructor(e,t){super(e,t)}getSQLType(){return"real"}mapFromDriverValue=e=>"string"==typeof e?Number.parseFloat(e):e}function C(e){return new P(e??"")}e.s(["real",()=>C],389705);var w=i;class S extends w.PgColumnBuilder{static [t.entityKind]="PgSerialBuilder";constructor(e){super(e,"number","PgSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new v(e,this.config)}}class v extends w.PgColumn{static [t.entityKind]="PgSerial";getSQLType(){return"serial"}}function T(e){return new S(e??"")}e.s(["serial",()=>T],405694);var B=i,x=e.i(29714);class K extends x.PgIntColumnBaseBuilder{static [t.entityKind]="PgSmallIntBuilder";constructor(e){super(e,"number","PgSmallInt")}build(e){return new D(e,this.config)}}class D extends B.PgColumn{static [t.entityKind]="PgSmallInt";getSQLType(){return"smallint"}mapFromDriverValue=e=>"string"==typeof e?Number(e):e}function N(e){return new K(e??"")}e.s(["smallint",()=>N],119398);var V=i;class F extends V.PgColumnBuilder{static [t.entityKind]="PgSmallSerialBuilder";constructor(e){super(e,"number","PgSmallSerial"),this.config.hasDefault=!0,this.config.notNull=!0}build(e){return new z(e,this.config)}}class z extends V.PgColumn{static [t.entityKind]="PgSmallSerial";getSQLType(){return"smallserial"}}function L(e){return new F(e??"")}e.s(["smallserial",()=>L],90352);var Q=i;class q extends Q.PgColumnBuilder{static [t.entityKind]="PgTextBuilder";constructor(e,t){super(e,"string","PgText"),this.config.enumValues=t.enum}build(e){return new A(e,this.config)}}class A extends Q.PgColumn{static [t.entityKind]="PgText";enumValues=this.config.enumValues;getSQLType(){return"text"}}function j(e,t={}){let{name:i,config:r}=(0,n.getColumnNameAndConfig)(e,t);return new q(i,r)}e.s(["text",()=>j],484259)},794093,923624,e=>{"use strict";var t=e.i(844988),n=e.i(369e3),i=e.i(690429),r=e.i(712122),s=e.i(802847),o=e.i(137054),u=e.i(982060),l=e.i(112592),a=e.i(556923),c=e.i(613262),d=e.i(656573),m=e.i(870988),g=e.i(296),f=e.i(501727),p=e.i(438257),h=e.i(773844),y=e.i(560328),P=e.i(402801),b=e.i(848209),C=e.i(951324),w=e.i(651204),S=e.i(389705),v=e.i(405694),T=e.i(119398),B=e.i(90352),x=e.i(484259),K=e.i(593486),D=e.i(303090),N=e.i(467751),V=e.i(704313),F=e.i(304775);class z extends F.PgColumnBuilder{static [t.entityKind]="PgVarcharBuilder";constructor(e,t){super(e,"string","PgVarchar"),this.config.length=t.length,this.config.enumValues=t.enum}build(e){return new L(e,this.config)}}class L extends F.PgColumn{static [t.entityKind]="PgVarchar";length=this.config.length;enumValues=this.config.enumValues;getSQLType(){return void 0===this.length?"varchar":`varchar(${this.length})`}}function Q(e,t={}){let{name:n,config:i}=(0,V.getColumnNameAndConfig)(e,t);return new z(n,i)}e.s(["varchar",()=>Q],923624);var q=F;class A extends q.PgColumnBuilder{static [t.entityKind]="PgBinaryVectorBuilder";constructor(e,t){super(e,"string","PgBinaryVector"),this.config.dimensions=t.dimensions}build(e){return new j(e,this.config)}}class j extends q.PgColumn{static [t.entityKind]="PgBinaryVector";dimensions=this.config.dimensions;getSQLType(){return`bit(${this.dimensions})`}}function I(e,t){let{name:n,config:i}=(0,V.getColumnNameAndConfig)(e,t);return new A(n,i)}var $=F;class O extends $.PgColumnBuilder{static [t.entityKind]="PgHalfVectorBuilder";constructor(e,t){super(e,"array","PgHalfVector"),this.config.dimensions=t.dimensions}build(e){return new U(e,this.config)}}class U extends $.PgColumn{static [t.entityKind]="PgHalfVector";dimensions=this.config.dimensions;getSQLType(){return`halfvec(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function E(e,t){let{name:n,config:i}=(0,V.getColumnNameAndConfig)(e,t);return new O(n,i)}var k=F;class _ extends k.PgColumnBuilder{static [t.entityKind]="PgSparseVectorBuilder";constructor(e,t){super(e,"string","PgSparseVector"),this.config.dimensions=t.dimensions}build(e){return new J(e,this.config)}}class J extends k.PgColumn{static [t.entityKind]="PgSparseVector";dimensions=this.config.dimensions;getSQLType(){return`sparsevec(${this.dimensions})`}}function R(e,t){let{name:n,config:i}=(0,V.getColumnNameAndConfig)(e,t);return new _(n,i)}var M=F;class G extends M.PgColumnBuilder{static [t.entityKind]="PgVectorBuilder";constructor(e,t){super(e,"array","PgVector"),this.config.dimensions=t.dimensions}build(e){return new W(e,this.config)}}class W extends M.PgColumn{static [t.entityKind]="PgVector";dimensions=this.config.dimensions;getSQLType(){return`vector(${this.dimensions})`}mapToDriverValue(e){return JSON.stringify(e)}mapFromDriverValue(e){return e.slice(1,-1).split(",").map(e=>Number.parseFloat(e))}}function H(e,t){let{name:n,config:i}=(0,V.getColumnNameAndConfig)(e,t);return new G(n,i)}let X=Symbol.for("drizzle:PgInlineForeignKeys"),Y=Symbol.for("drizzle:EnableRLS");class Z extends n.Table{static [t.entityKind]="PgTable";static Symbol=Object.assign({},n.Table.Symbol,{InlineForeignKeys:X,EnableRLS:Y});[X]=[];[Y]=!1;[n.Table.Symbol.ExtraConfigBuilder]=void 0}let ee=(e,t,V)=>(function(e,t,V,F,z=e){let L=new Z(e,F,z),q="function"==typeof t?t({bigint:i.bigint,bigserial:r.bigserial,boolean:s.boolean,char:o.char,cidr:u.cidr,customType:l.customType,date:a.date,doublePrecision:c.doublePrecision,inet:d.inet,integer:m.integer,interval:g.interval,json:f.json,jsonb:p.jsonb,line:h.line,macaddr:y.macaddr,macaddr8:P.macaddr8,numeric:b.numeric,point:C.point,geometry:w.geometry,real:S.real,serial:v.serial,smallint:T.smallint,smallserial:B.smallserial,text:x.text,time:K.time,timestamp:D.timestamp,uuid:N.uuid,varchar:Q,bit:I,halfvec:E,sparsevec:R,vector:H}):t,A=Object.fromEntries(Object.entries(q).map(([e,t])=>{t.setName(e);let n=t.build(L);return L[X].push(...t.buildForeignKeys(n,L)),[e,n]})),j=Object.fromEntries(Object.entries(q).map(([e,t])=>(t.setName(e),[e,t.buildExtraConfigColumn(L)]))),$=Object.assign(L,A);return $[n.Table.Symbol.Columns]=A,$[n.Table.Symbol.ExtraConfigColumns]=j,V&&($[Z.Symbol.ExtraConfigBuilder]=V),Object.assign($,{enableRLS:()=>($[Z.Symbol.EnableRLS]=!0,$)})})(e,t,V,void 0);e.s(["PgTable",()=>Z,"pgTable",()=>ee],794093)}];

//# sourceMappingURL=node_modules_drizzle-orm_6548a903._.js.map
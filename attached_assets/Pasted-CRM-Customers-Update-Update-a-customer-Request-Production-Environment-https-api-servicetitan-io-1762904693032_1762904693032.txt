CRM


Customers_Update
Update a customer

Request
Production Environment
https://api.servicetitan.io/crm/v2/tenant/{tenant}/customers/{id}
Integration Environment
https://api-integration.servicetitan.io/crm/v2/tenant/{tenant}/customers/{id}
Request parameters

Name
In
Required
Type
Description
id
template
true
integer
tenant
template
true
integer
Tenant ID

Request body

application/json
Crm.V2.Customers.UpdateCustomerRequest



Name
Required
Type
Description
name
false
string
Name of the customer

type
false
One of:
Crm.V2.CustomerType
Residential or commercial

address
false
One of:
Crm.V2.Customers.UpdateCustomerAddress
Bill-To address of the customer record

customFields
false
Crm.V2.Customers.CustomFieldUpdateModel[]
Customer record’s custom fields

externalData
false
One of:
Crm.V2.ExternalDataUpdateRequest
External data update model.

doNotMail
false
boolean
Customer has been flagged as “do not mail”

doNotService
false
boolean
Customer has been flagged as “do not service”

active
false
boolean
Customer has been flagged as “active” ar "innactive"

tagTypeIds
false
integer[]
IDs of the Tag Types

default

DEFAULT - JSON
 Copy
{
    "name": "string",
    "type": {},
    "address": {
        "street": "string",
        "unit": "string",
        "city": "string",
        "state": "string",
        "zip": "string",
        "country": "string",
        "latitude": 0,
        "longitude": 0
    },
    "customFields": [{
        "typeId": 0,
        "value": "string"
    }],
    "externalData": {
        "patchMode": {},
        "applicationGuid": "string",
        "externalData": [{
            "key": "string",
            "value": "string"
        }]
    },
    "doNotMail": true,
    "doNotService": true,
    "active": true,
    "tagTypeIds": [0]
}
Response: 200 OK
The request has succeeded


application/json
Crm.V2.Customers.CustomerResponse



Name
Required
Type
Description
id
true
integer (int64)
ID of the customer

active
true
boolean
False indicates that someone has deactivated the customer record, typically upon merging with another record.

name
true
string
Name of the customer

type
true
One of:
Crm.V2.CustomerType
Residential or commercial

address
true
One of:
Crm.V2.Customers.CustomerAddress
Bill-To address of the customer record

customFields
true
Crm.V2.Customers.CustomFieldModel[]
Customer record’s custom fields

balance
true
number (decimal)
Customer’s account balance

taxExempt
true
boolean
Tax Exempt status of the customer.

tagTypeIds
true
integer[]
Tag Type IDs associated with the Customer

doNotMail
true
boolean
Customer has been flagged as “do not mail”

doNotService
true
boolean
Customer has been flagged as “do not service”

createdOn
true
string (date-time)
DateTime (UTC) that customer record was created

createdById
true
integer (int64)
User ID who created the record.

modifiedOn
true
string (date-time)
Modified on (UTC) for the record.

mergedToId
false
integer (int64)
The customer ID of the record that this record was previously merged to.

externalData
true
Crm.V2.ExternalDataModel[]
List of external data attached to this Customer, which corresponds to the application GUID provided in the request.

default

DEFAULT - JSON
 Copy
{
    "id": 0,
    "active": true,
    "name": "string",
    "type": {},
    "address": {
        "street": "string",
        "unit": "string",
        "city": "string",
        "state": "string",
        "zip": "string",
        "country": "string",
        "latitude": 0,
        "longitude": 0
    },
    "customFields": [{
        "typeId": 0,
        "name": "string",
        "value": "string"
    }],
    "balance": 0,
    "taxExempt": true,
    "tagTypeIds": [0],
    "doNotMail": true,
    "doNotService": true,
    "createdOn": "string",
    "createdById": 0,
    "modifiedOn": "string",
    "mergedToId": 0,
    "externalData": [{
        "key": "string",
        "value": "string"
    }]
}
Response: 400 Bad Request
The request cannot be processed, check validation errors or request format


application/json
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

default

DEFAULT - JSON
 Copy
{
    "type": "string",
    "title": "string",
    "status": 0,
    "traceId": "string",
    "errors": {},
    "data": {}
}
Response: 404 Not Found
Customer not found


application/json
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

default

DEFAULT - JSON
 Copy
{
    "type": "string",
    "title": "string",
    "status": 0,
    "traceId": "string",
    "errors": {},
    "data": {}
}
Definitions
Name
Description
ApiErrorResponse
Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).

Crm.V2.CustomerType
Indicates a customer's type.

Crm.V2.Customers.CustomerResponse
Crm.V2.Customers.CustomerAddress
Crm.V2.Customers.CustomFieldModel
Crm.V2.ExternalDataModel
Crm.V2.Customers.CustomFieldUpdateModel
Crm.V2.Customers.UpdateCustomerRequest
Crm.V2.Customers.UpdateCustomerAddress
Crm.V2.ExternalDataUpdateRequest
Crm.V2.ExternalDataPatchMode
Crm.V2.ExternalDataUpdateModel
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

Crm.V2.CustomerType

Indicates a customer's type.




Type
Values
string

Residential , Commercial
Crm.V2.Customers.CustomerResponse



Name
Required
Type
Description
id
true
integer (int64)
ID of the customer

active
true
boolean
False indicates that someone has deactivated the customer record, typically upon merging with another record.

name
true
string
Name of the customer

type
true
One of:
Crm.V2.CustomerType
Residential or commercial

address
true
One of:
Crm.V2.Customers.CustomerAddress
Bill-To address of the customer record

customFields
true
Crm.V2.Customers.CustomFieldModel[]
Customer record’s custom fields

balance
true
number (decimal)
Customer’s account balance

taxExempt
true
boolean
Tax Exempt status of the customer.

tagTypeIds
true
integer[]
Tag Type IDs associated with the Customer

doNotMail
true
boolean
Customer has been flagged as “do not mail”

doNotService
true
boolean
Customer has been flagged as “do not service”

createdOn
true
string (date-time)
DateTime (UTC) that customer record was created

createdById
true
integer (int64)
User ID who created the record.

modifiedOn
true
string (date-time)
Modified on (UTC) for the record.

mergedToId
false
integer (int64)
The customer ID of the record that this record was previously merged to.

externalData
true
Crm.V2.ExternalDataModel[]
List of external data attached to this Customer, which corresponds to the application GUID provided in the request.

Crm.V2.Customers.CustomerAddress



Name
Required
Type
Description
street
true
string
Street

unit
false
string
Unit

city
true
string
City

state
true
string
State

zip
true
string
Zip

country
true
string
Country

latitude
false
number (double)
Latitude

longitude
false
number (double)
Longitude

Crm.V2.Customers.CustomFieldModel



Name
Required
Type
Description
typeId
true
integer (int64)
ID of the custom field

name
false
string
Name/label of the custom field

value
false
string
Value of the custom field

Crm.V2.ExternalDataModel



Name
Required
Type
Description
key
true
string
External data key.

value
true
string
External data value.

Crm.V2.Customers.CustomFieldUpdateModel



Name
Required
Type
Description
typeId
true
integer (int64)
ID of the custom field

value
true
string
Value of the custom field

Crm.V2.Customers.UpdateCustomerRequest



Name
Required
Type
Description
name
false
string
Name of the customer

type
false
One of:
Crm.V2.CustomerType
Residential or commercial

address
false
One of:
Crm.V2.Customers.UpdateCustomerAddress
Bill-To address of the customer record

customFields
false
Crm.V2.Customers.CustomFieldUpdateModel[]
Customer record’s custom fields

externalData
false
One of:
Crm.V2.ExternalDataUpdateRequest
External data update model.

doNotMail
false
boolean
Customer has been flagged as “do not mail”

doNotService
false
boolean
Customer has been flagged as “do not service”

active
false
boolean
Customer has been flagged as “active” ar "innactive"

tagTypeIds
false
integer[]
IDs of the Tag Types

Crm.V2.Customers.UpdateCustomerAddress



Name
Required
Type
Description
street
true
string
Street

unit
true
string
Unit

city
true
string
City

state
true
string
State

zip
true
string
Zip

country
true
string
Country

latitude
true
number (double)
Latitude

longitude
true
number (double)
Longitude

Crm.V2.ExternalDataUpdateRequest



Name
Required
Type
Description
patchMode
false
One of:
Crm.V2.ExternalDataPatchMode
External data patch mode.
"Replace" (default) replaces all existing keys with new values. If job A has custom data with keys X and Y and this field only contains an item with a key X, then custom data with a key Y on job A will be removed.
"Merge" will only replace key X in the example above. Keys with null value will be deleted.

applicationGuid
true
string (guid)
Items that are created with a specific guid, could be fetched/updated/removed only when the same application guid is provided.

externalData
true
Crm.V2.ExternalDataUpdateModel[]
External data list.

Crm.V2.ExternalDataPatchMode



Type
Values
string

Replace , Merge
Crm.V2.ExternalDataUpdateModel



Name
Required
Type
Description
key
true
string
External data key.

value
false
string (multiline)
External data value.
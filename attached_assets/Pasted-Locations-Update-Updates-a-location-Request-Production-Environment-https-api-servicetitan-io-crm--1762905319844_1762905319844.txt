Locations_Update
Updates a location

Request
Production Environment
https://api.servicetitan.io/crm/v2/tenant/{tenant}/locations/{id}
Integration Environment
https://api-integration.servicetitan.io/crm/v2/tenant/{tenant}/locations/{id}
Request parameters

Name
In
Required
Type
Description
id
template
true
integer
tenant
template
true
integer
Tenant ID

Request body

application/json
Crm.V2.Locations.UpdateLocationRequest



Name
Required
Type
Description
customerId
false
integer (int64)
ID of the location’s customer.

name
false
string
Name of the location

address
false
One of:
Crm.V2.Locations.AddressPatchModel
Address of the location record

active
false
boolean
If false, the record has been deactivated.

taxZoneId
false
integer (int64)
ID of the location tax zone

customFields
false
Crm.V2.Customers.CustomFieldUpdateModel[]
List of custom fields and their values. This list must describe the full list of custom fields on the location. If location A has values for custom fields X and Y and this field only contains a model for custom field X, then the value for custom field Y on location A will be removed.

tagTypeIds
false
integer[]
List of tag type IDs. If location has tag types X and Y and this field only contains tag type X, then Y will removed from the location. If it is an empty list, all tags on the location will be removed.

externalData
false
One of:
Crm.V2.ExternalDataUpdateRequest
Optional model that contains a list of external data items that should be updated to this Location.

default

DEFAULT - JSON
 Copy
{
    "customerId": 0,
    "name": "string",
    "address": {
        "street": "string",
        "unit": "string",
        "city": "string",
        "state": "string",
        "zip": "string",
        "country": "string",
        "latitude": 0,
        "longitude": 0
    },
    "active": true,
    "taxZoneId": 0,
    "customFields": [{
        "typeId": 0,
        "value": "string"
    }],
    "tagTypeIds": [0],
    "externalData": {
        "patchMode": {},
        "applicationGuid": "string",
        "externalData": [{
            "key": "string",
            "value": "string"
        }]
    }
}
Response: 200 OK
The request has succeeded


application/json
Crm.V2.Locations.LocationResponse



Name
Required
Type
Description
id
true
integer (int64)
ID of the location

customerId
true
integer (int64)
ID of the location’s customer.

active
true
boolean
If false, the record has been deactivated.

name
true
string
Name of the location

address
true
One of:
Crm.V2.Customers.CustomerAddress
Location’s address

customFields
true
Crm.V2.Customers.CustomFieldModel[]
Location record’s custom fields

createdOn
true
string (date-time)
DateTime (UTC) that location record was created

createdById
true
integer (int64)
User ID who created the record.

modifiedOn
true
string (date-time)
Modified On (UTC) for the record.

mergedToId
false
integer (int64)
Tells you which location record this record was merged into.

zoneId
false
integer (int64)
ID of the location's Zone

taxExempt
true
boolean
Tax Exempt status of the location.

tagTypeIds
true
integer[]
Tag Type IDs of the location

externalData
true
Crm.V2.ExternalDataModel[]
List of external data attached to this Location, which corresponds to the application GUID provided in the request.

taxZoneId
false
integer (int64)
ID of the location tax zone

default

DEFAULT - JSON
 Copy
{
    "id": 0,
    "customerId": 0,
    "active": true,
    "name": "string",
    "address": {
        "street": "string",
        "unit": "string",
        "city": "string",
        "state": "string",
        "zip": "string",
        "country": "string",
        "latitude": 0,
        "longitude": 0
    },
    "customFields": [{
        "typeId": 0,
        "name": "string",
        "value": "string"
    }],
    "createdOn": "string",
    "createdById": 0,
    "modifiedOn": "string",
    "mergedToId": 0,
    "zoneId": 0,
    "taxExempt": true,
    "tagTypeIds": [0],
    "externalData": [{
        "key": "string",
        "value": "string"
    }],
    "taxZoneId": 0
}
Response: 400 Bad Request
The request cannot be processed, check validation errors or request format


application/json
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

default

DEFAULT - JSON
 Copy
{
    "type": "string",
    "title": "string",
    "status": 0,
    "traceId": "string",
    "errors": {},
    "data": {}
}
Response: 404 Not Found
Location not found


application/json
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

default

DEFAULT - JSON
 Copy
{
    "type": "string",
    "title": "string",
    "status": 0,
    "traceId": "string",
    "errors": {},
    "data": {}
}
Response: 409 Conflict
Customer/Tax Zone not found


application/json
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

default

DEFAULT - JSON
 Copy
{
    "type": "string",
    "title": "string",
    "status": 0,
    "traceId": "string",
    "errors": {},
    "data": {}
}
Definitions
Name
Description
ApiErrorResponse
Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).

Crm.V2.Customers.CustomerAddress
Crm.V2.Customers.CustomFieldModel
Crm.V2.ExternalDataModel
Crm.V2.Customers.CustomFieldUpdateModel
Crm.V2.ExternalDataUpdateRequest
Crm.V2.ExternalDataPatchMode
Crm.V2.ExternalDataUpdateModel
Crm.V2.Locations.LocationResponse
Crm.V2.Locations.UpdateLocationRequest
Crm.V2.Locations.AddressPatchModel
ApiErrorResponse

Detailed error response, following RFC 7807 recommendations (https://tools.ietf.org/html/rfc7807).




Name
Required
Type
Description
type
true
string
A URI reference that identifies the problem type

title
true
string
A short, human-readable summary of the problem type

status
true
integer (int32)
The HTTP status code generated by server

traceId
true
string
Internal trace ID for advanced diagnostics

errors
true
object
Provides more details about errors occurred, which can potentially be used for visual display

data
true
object
Provides additional data, intended for programmatical usage

Crm.V2.Customers.CustomerAddress



Name
Required
Type
Description
street
true
string
Street

unit
false
string
Unit

city
true
string
City

state
true
string
State

zip
true
string
Zip

country
true
string
Country

latitude
false
number (double)
Latitude

longitude
false
number (double)
Longitude

Crm.V2.Customers.CustomFieldModel



Name
Required
Type
Description
typeId
true
integer (int64)
ID of the custom field

name
false
string
Name/label of the custom field

value
false
string
Value of the custom field

Crm.V2.ExternalDataModel



Name
Required
Type
Description
key
true
string
External data key.

value
true
string
External data value.

Crm.V2.Customers.CustomFieldUpdateModel



Name
Required
Type
Description
typeId
true
integer (int64)
ID of the custom field

value
true
string
Value of the custom field

Crm.V2.ExternalDataUpdateRequest



Name
Required
Type
Description
patchMode
false
One of:
Crm.V2.ExternalDataPatchMode
External data patch mode.
"Replace" (default) replaces all existing keys with new values. If job A has custom data with keys X and Y and this field only contains an item with a key X, then custom data with a key Y on job A will be removed.
"Merge" will only replace key X in the example above. Keys with null value will be deleted.

applicationGuid
true
string (guid)
Items that are created with a specific guid, could be fetched/updated/removed only when the same application guid is provided.

externalData
true
Crm.V2.ExternalDataUpdateModel[]
External data list.

Crm.V2.ExternalDataPatchMode



Type
Values
string

Replace , Merge
Crm.V2.ExternalDataUpdateModel



Name
Required
Type
Description
key
true
string
External data key.

value
false
string (multiline)
External data value.

Crm.V2.Locations.LocationResponse



Name
Required
Type
Description
id
true
integer (int64)
ID of the location

customerId
true
integer (int64)
ID of the location’s customer.

active
true
boolean
If false, the record has been deactivated.

name
true
string
Name of the location

address
true
One of:
Crm.V2.Customers.CustomerAddress
Location’s address

customFields
true
Crm.V2.Customers.CustomFieldModel[]
Location record’s custom fields

createdOn
true
string (date-time)
DateTime (UTC) that location record was created

createdById
true
integer (int64)
User ID who created the record.

modifiedOn
true
string (date-time)
Modified On (UTC) for the record.

mergedToId
false
integer (int64)
Tells you which location record this record was merged into.

zoneId
false
integer (int64)
ID of the location's Zone

taxExempt
true
boolean
Tax Exempt status of the location.

tagTypeIds
true
integer[]
Tag Type IDs of the location

externalData
true
Crm.V2.ExternalDataModel[]
List of external data attached to this Location, which corresponds to the application GUID provided in the request.

taxZoneId
false
integer (int64)
ID of the location tax zone

Crm.V2.Locations.UpdateLocationRequest



Name
Required
Type
Description
customerId
false
integer (int64)
ID of the location’s customer.

name
false
string
Name of the location

address
false
One of:
Crm.V2.Locations.AddressPatchModel
Address of the location record

active
false
boolean
If false, the record has been deactivated.

taxZoneId
false
integer (int64)
ID of the location tax zone

customFields
false
Crm.V2.Customers.CustomFieldUpdateModel[]
List of custom fields and their values. This list must describe the full list of custom fields on the location. If location A has values for custom fields X and Y and this field only contains a model for custom field X, then the value for custom field Y on location A will be removed.

tagTypeIds
false
integer[]
List of tag type IDs. If location has tag types X and Y and this field only contains tag type X, then Y will removed from the location. If it is an empty list, all tags on the location will be removed.

externalData
false
One of:
Crm.V2.ExternalDataUpdateRequest
Optional model that contains a list of external data items that should be updated to this Location.

Crm.V2.Locations.AddressPatchModel



Name
Required
Type
Description
street
true
string
Street

unit
true
string
Unit

city
true
string
City

state
true
string
State

zip
true
string
Zip

country
true
string
Country

latitude
false
number (double)
Latitude

longitude
false
number (double)
Longitude
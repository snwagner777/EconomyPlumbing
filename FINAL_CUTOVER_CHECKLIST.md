# Next.js Cutover Checklist - Production Ready âœ…

## âœ… URL Parity - 100% Coverage
- **Total Next.js Pages:** 106 (exceeds 87 original)
- **Dynamic Routes:** 7 (all created with [param] folders)
  - `/leave-review/[token]` âœ…
  - `/email-preferences/[token]` âœ…
  - `/blog/[slug]` âœ…
  - `/ref/[code]` âœ…
  - `/referred-by/[referrerCustomerId]` âœ…
  - `/service-area/[slug]` âœ…
  - `/store/checkout/[slug]` âœ…
- **Fixed Routes:**
  - `/request-review` âœ… (was missing)
  - `/water-heater-calculator` âœ… (renamed from cost-calculator)
- **All 87 original URLs preserved:** âœ…

## âœ… CSS & Build
- **Next.js Dev Server:** Starts in 3.5s with ZERO CSS errors âœ…
- **Turbopack:** Enabled âœ…
- **PostCSS:** No errors âœ…

## âœ… Code Migration
- **Components:** 86 files in src/components/ âœ…
- **Hooks:** 4 files in src/hooks/ âœ…
- **Contexts:** 2 files in src/contexts/ âœ…
- **Lib:** 10 files in src/lib/ âœ…
- **Pages:** 4 files in src/pages/ (for dynamic routes) âœ…

## âœ… Configuration
- **tsconfig.json:** All path aliases configured (@/, @assets, @components, etc.) âœ…
- **next.config.ts:** Configured with redirects âœ…
- **start.sh:** Updated to use next start (production) âœ…
- **start-production.sh:** Production-ready script âœ…

## âœ… Background Jobs
- **worker.ts:** All 9 active schedulers ready âœ…
- **Concurrent Mode:** Next.js + worker run in parallel âœ…

## ğŸš€ Manual Steps Required

### User Must Choose ONE of these options:

**Option A: Edit .replit file**

Line 99: Change args value to "./start.sh"

**Option B: Edit package.json dev script**

Update the dev script to run: concurrently with next start on port 5000 and tsx server/worker.ts

**Note:** start.sh will auto-build Next.js on first run if .next/ doesn't exist

## ğŸ”§ Production Build Command

npx next build

## ğŸ¯ Next Steps
1. User manually updates .replit OR package.json (see above)
2. Restart workflow to launch Next.js
3. Verify all URLs work
4. Deploy to production

## âš ï¸ Known Items
- 3 admin API endpoints temporarily return 503 (non-critical, can be re-enabled post-launch)
- GMB OAuth needs re-authentication (expected)
- Email system currently disabled via master switch (can be enabled when ready)
